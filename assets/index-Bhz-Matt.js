(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Gd={exports:{}},vl={};var W_;function ub(){if(W_)return vl;W_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return vl.Fragment=t,vl.jsx=n,vl.jsxs=n,vl}var tv;function cb(){return tv||(tv=1,Gd.exports=ub()),Gd.exports}var at=cb(),Kd={exports:{}},Et={};var ev;function hb(){if(ev)return Et;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function U(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,H={};function W(M,J,st){this.props=M,this.context=J,this.refs=H,this.updater=st||X}W.prototype.isReactComponent={},W.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function et(){}et.prototype=W.prototype;function it(M,J,st){this.props=M,this.context=J,this.refs=H,this.updater=st||X}var Ct=it.prototype=new et;Ct.constructor=it,F(Ct,W.prototype),Ct.isPureReactComponent=!0;var It=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,J,st){var lt=st.ref;return{$$typeof:r,type:M,key:J,ref:lt!==void 0?lt:null,props:st}}function V(M,J){return w(M.type,J,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return J[st]})}var C=/\/+/g;function ie(M,J){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):J.toString(36)}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,J,st,lt,_t){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var kt=!1;if(M===null)kt=!0;else switch(bt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(M.$$typeof){case r:case t:kt=!0;break;case E:return kt=M._init,K(kt(M._payload),J,st,lt,_t)}}if(kt)return _t=_t(M),kt=lt===""?"."+ie(M,0):lt,It(_t)?(st="",kt!=null&&(st=kt.replace(C,"$&/")+"/"),K(_t,J,st,"",function(ls){return ls})):_t!=null&&(N(_t)&&(_t=V(_t,st+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+kt)),J.push(_t)),1;kt=0;var Oe=lt===""?".":lt+":";if(It(M))for(var re=0;re<M.length;re++)lt=M[re],bt=Oe+ie(lt,re),kt+=K(lt,J,st,bt,_t);else if(re=U(M),typeof re=="function")for(M=re.call(M),re=0;!(lt=M.next()).done;)lt=lt.value,bt=Oe+ie(lt,re++),kt+=K(lt,J,st,bt,_t);else if(bt==="object"){if(typeof M.then=="function")return K(De(M),J,st,lt,_t);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(M,J,st){if(M==null)return M;var lt=[],_t=0;return K(M,lt,"","",function(bt){return J.call(st,bt,_t++)}),lt}function dt(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:rt,forEach:function(M,J,st){rt(M,function(){J.apply(this,arguments)},st)},count:function(M){var J=0;return rt(M,function(){J++}),J},toArray:function(M){return rt(M,function(J){return J})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=S,Et.Children=Gt,Et.Component=W,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=it,Et.StrictMode=s,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,J,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var lt=F({},M.props),_t=M.key;if(J!=null)for(bt in J.key!==void 0&&(_t=""+J.key),J)!b.call(J,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&J.ref===void 0||(lt[bt]=J[bt]);var bt=arguments.length-2;if(bt===1)lt.children=st;else if(1<bt){for(var kt=Array(bt),Oe=0;Oe<bt;Oe++)kt[Oe]=arguments[Oe+2];lt.children=kt}return w(M.type,_t,lt)},Et.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,J,st){var lt,_t={},bt=null;if(J!=null)for(lt in J.key!==void 0&&(bt=""+J.key),J)b.call(J,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(_t[lt]=J[lt]);var kt=arguments.length-2;if(kt===1)_t.children=st;else if(1<kt){for(var Oe=Array(kt),re=0;re<kt;re++)Oe[re]=arguments[re+2];_t.children=Oe}if(M&&M.defaultProps)for(lt in kt=M.defaultProps,kt)_t[lt]===void 0&&(_t[lt]=kt[lt]);return w(M,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:m,render:M}},Et.isValidElement=N,Et.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:dt}},Et.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Et.startTransition=function(M){var J=D.T,st={};D.T=st;try{var lt=M(),_t=D.S;_t!==null&&_t(st,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(wt,zt)}catch(bt){zt(bt)}finally{J!==null&&st.types!==null&&(J.types=st.types),D.T=J}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(M){return D.H.use(M)},Et.useActionState=function(M,J,st){return D.H.useActionState(M,J,st)},Et.useCallback=function(M,J){return D.H.useCallback(M,J)},Et.useContext=function(M){return D.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,J){return D.H.useDeferredValue(M,J)},Et.useEffect=function(M,J){return D.H.useEffect(M,J)},Et.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(M,J,st){return D.H.useImperativeHandle(M,J,st)},Et.useInsertionEffect=function(M,J){return D.H.useInsertionEffect(M,J)},Et.useLayoutEffect=function(M,J){return D.H.useLayoutEffect(M,J)},Et.useMemo=function(M,J){return D.H.useMemo(M,J)},Et.useOptimistic=function(M,J){return D.H.useOptimistic(M,J)},Et.useReducer=function(M,J,st){return D.H.useReducer(M,J,st)},Et.useRef=function(M){return D.H.useRef(M)},Et.useState=function(M){return D.H.useState(M)},Et.useSyncExternalStore=function(M,J,st){return D.H.useSyncExternalStore(M,J,st)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.3",Et}var nv;function Bm(){return nv||(nv=1,Kd.exports=hb()),Kd.exports}var Q=Bm();const fb=zE(Q);var Qd={exports:{}},El={},Yd={exports:{}},Xd={};var iv;function db(){return iv||(iv=1,(function(r){function t(K,rt){var dt=K.length;K.push(rt);t:for(;0<dt;){var zt=dt-1>>>1,Gt=K[zt];if(0<o(Gt,rt))K[zt]=rt,K[dt]=Gt,dt=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var rt=K[0],dt=K.pop();if(dt!==rt){K[0]=dt;t:for(var zt=0,Gt=K.length,M=Gt>>>1;zt<M;){var J=2*(zt+1)-1,st=K[J],lt=J+1,_t=K[lt];if(0>o(st,dt))lt<Gt&&0>o(_t,st)?(K[zt]=_t,K[lt]=dt,zt=lt):(K[zt]=st,K[J]=dt,zt=J);else if(lt<Gt&&0>o(_t,dt))K[zt]=_t,K[lt]=dt,zt=lt;else break t}}return rt}function o(K,rt){var dt=K.sortIndex-rt.sortIndex;return dt!==0?dt:K.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,R=3,U=!1,X=!1,F=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Ct(K){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=K)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function It(K){if(F=!1,Ct(K),!X)if(n(g)!==null)X=!0,wt||(wt=!0,L());else{var rt=n(y);rt!==null&&De(It,rt.startTime-K)}}var wt=!1,D=-1,b=5,w=-1;function V(){return H?!0:!(r.unstable_now()-w<b)}function N(){if(H=!1,wt){var K=r.unstable_now();w=K;var rt=!0;try{t:{X=!1,F&&(F=!1,et(D),D=-1),U=!0;var dt=R;try{e:{for(Ct(K),S=n(g);S!==null&&!(S.expirationTime>K&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,R=S.priorityLevel;var Gt=zt(S.expirationTime<=K);if(K=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Ct(K),rt=!0;break e}S===n(g)&&s(g),Ct(K)}else s(g);S=n(g)}if(S!==null)rt=!0;else{var M=n(y);M!==null&&De(It,M.startTime-K),rt=!1}}break t}finally{S=null,R=dt,U=!1}rt=void 0}}finally{rt?L():wt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){W(N,0)};function De(K,rt){D=W(function(){K(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(K){switch(R){case 1:case 2:case 3:var rt=3;break;default:rt=R}var dt=R;R=rt;try{return K()}finally{R=dt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,rt){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var dt=R;R=K;try{return rt()}finally{R=dt}},r.unstable_scheduleCallback=function(K,rt,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,K){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,K={id:E++,callback:rt,priorityLevel:K,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(K.sortIndex=dt,t(y,K),n(g)===null&&K===n(y)&&(F?(et(D),D=-1):F=!0,De(It,dt-zt))):(K.sortIndex=Gt,t(g,K),X||U||(X=!0,wt||(wt=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var rt=R;return function(){var dt=R;R=rt;try{return K.apply(this,arguments)}finally{R=dt}}}})(Xd)),Xd}var rv;function mb(){return rv||(rv=1,Yd.exports=db()),Yd.exports}var $d={exports:{}},Ye={};var sv;function pb(){if(sv)return Ye;sv=1;var r=Bm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:U}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var av;function gb(){if(av)return $d.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$d.exports=pb(),$d.exports}var ov;function yb(){if(ov)return El;ov=1;var r=mb(),t=Bm(),n=gb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case W:return"Profiler";case H:return"StrictMode";case It:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case X:return"Portal";case it:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var De=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function J(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var lt=M(null),_t=M(null),bt=M(null),kt=M(null);function Oe(e,i){switch(st(bt,i),st(_t,e),st(lt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?S_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=S_(i),e=A_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(lt),st(lt,e)}function re(){J(lt),J(_t),J(bt)}function ls(e){e.memoizedState!==null&&st(kt,e);var i=lt.current,a=A_(i,e.type);i!==a&&(st(_t,e),st(lt,a))}function Js(e){_t.current===e&&(J(lt),J(_t)),kt.current===e&&(J(kt),pl._currentValue=dt)}var Zs,Ws;function ti(e){if(Zs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zs=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+Ws}var po=!1;function us(e,i){if(!e||po)return"";po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var G=`
`+I[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function go(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return us(e.type,!1);case 11:return us(e.type.render,!1);case 1:return us(e.type,!0);case 31:return ti("Activity");default:return""}}function yo(e){try{var i="",a=null;do i+=go(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,lr=r.unstable_cancelCallback,Kh=r.unstable_shouldYield,ou=r.unstable_requestPaint,We=r.unstable_now,cs=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,ur=r.unstable_NormalPriority,Qh=r.unstable_LowPriority,lu=r.unstable_IdlePriority,uu=r.log,cu=r.unstable_setDisableYieldValue,zn=null,ze=null;function An(e){if(typeof uu=="function"&&cu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:fu,hu=Math.log,ta=Math.LN2;function fu(e){return e>>>=0,e===0?32:31-(hu(e)/ta|0)|0}var ei=256,hs=262144,_e=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ni(l):(_&=T,_!==0?h=ni(_):a||(a=T&~e,a!==0&&(h=ni(a))))):(T=l&~d,T!==0?h=ni(T):_!==0?h=ni(_):a||(a=l&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Yh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function fs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var G=31-fe(a),$=1<<G;T[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&ds(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function ds(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function To(e,i){var a=i&-i;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|i))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:K_(e.type))}function jn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Le="__reactProps$"+Hn,si="__reactContainer$"+Hn,ea="__reactEvents$"+Hn,$h="__reactListeners$"+Hn,pu="__reactHandles$"+Hn,gu="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function na(e){delete e[ve],delete e[Le],delete e[ea],delete e[$h],delete e[pu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=O_(e);e!==null;){if(a=e[ve])return a;e=O_(e)}return i}e=a,a=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function dn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function li(e){var i=e[gu];return i||(i=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var So=new Set,Ao={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(Ao[e]=i,e=0;e<i.length;e++)So.add(i[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ro={},wo={};function yu(e){return ye.call(wo,e)?!0:ye.call(Ro,e)?!1:bo.test(e)?wo[e]=!0:(Ro[e]=!0,!1)}function ia(e,i,a){if(yu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function mn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Co(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=cr(e)?"checked":"value";e._valueTracker=Co(e,i,""+e[i])}}function ps(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=cr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function nn(e){return e.replace(gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Io(e,_,Ue(i)):a!=null?Io(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ue(T):e.removeAttribute("name")}function _u(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function Io(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function vu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function fr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Eu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Do(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Do(e,d,i[d])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var No=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,fi=null;function ys(e){var i=bn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ps(l)}break t;case"textarea":vu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&hr(e,!!a.multiple,i,!1)}}}var oa=!1;function pr(e,i,a){if(oa)return e(i,a);oa=!0;try{var l=e(i);return l}finally{if(oa=!1,(mr!==null||fi!==null)&&(mc(),mr&&(i=mr,e=fi,fi=mr=null,ys(i),e)))for(i=0;i<e.length;i++)ys(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{_s=!1}var di=null,Mo=null,vs=null;function Vo(){if(vs)return vs;var e,i=Mo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return vs=h.slice(e,1<l?1-l:void 0)}function Es(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Gn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?xi:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(Li),gr=S({},Li,{view:0,detail:0}),xo=Be(gr),yr,la,pi,ua=S({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(yr=e.screenX-pi.screenX,la=e.screenY-pi.screenY):la=yr=0,pi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Lo=Be(ua),Ts=S({},ua,{dataTransfer:0}),Su=Be(Ts),Au=S({},gr,{relatedTarget:0}),Ss=Be(Au),Uo=S({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Be(Uo),ca=S({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ru=Be(ca),wu=S({},Li,{data:0}),gi=Be(wu),Cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Du[e])?!!i[e]:!1}function _r(){return Ou}var tn=S({},gr,{key:function(e){if(e.key){var i=Cu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nu=Be(tn),Mu=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Be(Mu),c=S({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),p=Be(c),v=S({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),k=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(k),nt=S({},Li,{newState:0,oldState:0}),St=Be(nt),de=[9,13,27,32],Ht=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Cn=wn&&"TextEvent"in window&&!se,yi=wn&&(!Ht||se&&8<se&&11>=se),Kn=" ",Qn=!1;function As(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function VS(e,i){switch(e){case"compositionend":return ha(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function xS(e,i){if(fa)return e==="compositionend"||!Ht&&As(e,i)?(e=Vo(),vs=Mo=di=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!LS[e.type]:i==="textarea"}function xp(e,i,a,l){mr?fi?fi.push(l):fi=[l]:mr=l,i=Tc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var ko=null,Po=null;function US(e){g_(e,0)}function Vu(e){var i=dn(e);if(ps(i))return e}function Lp(e,i){if(e==="change")return i}var Up=!1;if(wn){var Jh;if(wn){var Zh="oninput"in document;if(!Zh){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Zh=typeof kp.oninput=="function"}Jh=Zh}else Jh=!1;Up=Jh&&(!document.documentMode||9<document.documentMode)}function Pp(){ko&&(ko.detachEvent("onpropertychange",zp),Po=ko=null)}function zp(e){if(e.propertyName==="value"&&Vu(Po)){var i=[];xp(i,Po,e,Rn(e)),pr(US,i)}}function kS(e,i,a){e==="focusin"?(Pp(),ko=i,Po=a,ko.attachEvent("onpropertychange",zp)):e==="focusout"&&Pp()}function PS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Po)}function zS(e,i){if(e==="click")return Vu(i)}function BS(e,i){if(e==="input"||e==="change")return Vu(i)}function jS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var pn=typeof Object.is=="function"?Object.is:jS;function zo(e,i){if(pn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!pn(e[h],i[h]))return!1}return!0}function Bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,i){var a=Bp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bp(a)}}function Hp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Hp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Wh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var HS=wn&&"documentMode"in document&&11>=document.documentMode,da=null,tf=null,Bo=null,ef=!1;function Fp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||da==null||da!==hi(l)||(l=da,"selectionStart"in l&&Wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bo&&zo(Bo,l)||(Bo=l,l=Tc(tf,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=da)))}function bs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ma={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},nf={},Gp={};wn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Rs(e){if(nf[e])return nf[e];if(!ma[e])return e;var i=ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gp)return nf[e]=i[a];return e}var Kp=Rs("animationend"),Qp=Rs("animationiteration"),Yp=Rs("animationstart"),qS=Rs("transitionrun"),FS=Rs("transitionstart"),GS=Rs("transitioncancel"),Xp=Rs("transitionend"),$p=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Yn(e,i){$p.set(e,i),ui(i,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],pa=0,sf=0;function Lu(){for(var e=pa,i=sf=pa=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Jp(a,h,d)}}function Uu(e,i,a,l){In[pa++]=e,In[pa++]=i,In[pa++]=a,In[pa++]=l,sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function af(e,i,a,l){return Uu(e,i,a,l),ku(e)}function ws(e,i){return Uu(e,null,null,i),ku(e)}function Jp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ku(e){if(50<ll)throw ll=0,pd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function KS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,i,a,l){return new KS(e,i,a,l)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=gn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Zp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Pu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")of(e)&&(_=1);else if(typeof e=="string")_=JA(e,a,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=gn(31,a,i,h),e.elementType=w,e.lanes=d,e;case F:return Cs(a.children,h,d,i);case H:_=8,h|=24;break;case W:return e=gn(12,a,i,h|2),e.elementType=W,e.lanes=d,e;case It:return e=gn(13,a,i,h),e.elementType=It,e.lanes=d,e;case wt:return e=gn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case et:_=9;break t;case Ct:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=gn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Cs(e,i,a,l){return e=gn(7,e,l,i),e.lanes=a,e}function lf(e,i,a){return e=gn(6,e,null,i),e.lanes=a,e}function Wp(e){var i=gn(18,null,null,0);return i.stateNode=e,i}function uf(e,i,a){return i=gn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var tg=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=tg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:yo(i)},tg.set(e,i),i)}return{value:e,source:i,stack:yo(i)}}var ya=[],_a=0,zu=null,jo=0,On=[],Nn=0,vr=null,_i=1,vi="";function Pi(e,i){ya[_a++]=jo,ya[_a++]=zu,zu=e,jo=i}function eg(e,i,a){On[Nn++]=_i,On[Nn++]=vi,On[Nn++]=vr,vr=e;var l=_i;e=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-fe(i)+h|a<<h|l,vi=d+e}else _i=1<<d|a<<h|l,vi=e}function cf(e){e.return!==null&&(Pi(e,1),eg(e,1,0))}function hf(e){for(;e===zu;)zu=ya[--_a],ya[_a]=null,jo=ya[--_a],ya[_a]=null;for(;e===vr;)vr=On[--Nn],On[Nn]=null,vi=On[--Nn],On[Nn]=null,_i=On[--Nn],On[Nn]=null}function ng(e,i){On[Nn++]=_i,On[Nn++]=vi,On[Nn++]=vr,_i=i.id,vi=i.overflow,vr=e}var je=null,te=null,Ut=!1,Er=null,Mn=!1,ff=Error(s(519));function Tr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(Dn(i,e)),ff}function ig(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[Le]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ot(cl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),_u(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),fr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Tr(e,!0)}function rg(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function va(e){if(e!==je)return!1;if(!Ut)return rg(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Od(e.type,e.memoizedProps)),a=!a),a&&te&&Tr(e),rg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=D_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=D_(e)}else i===27?(i=te,Lr(e.type)?(e=Ld,Ld=null,te=e):te=i):te=je?xn(e.stateNode.nextSibling):null;return!0}function Is(){te=je=null,Ut=!1}function df(){var e=Er;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),Er=null),e}function Ho(e){Er===null?Er=[e]:Er.push(e)}var mf=M(null),Ds=null,zi=null;function Sr(e,i,a){st(mf,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=mf.current,J(mf)}function pf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function gf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),pf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),pf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ea(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;pn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&gf(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return sg(Ds,e)}function ju(e,i){return Ds===null&&Os(e),sg(e,i)}function sg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var QS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},YS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new QS,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&YS(XS,function(){e.controller.abort()})}var Fo=null,_f=0,Ta=0,Sa=null;function $S(e,i){if(Fo===null){var a=Fo=[];_f=0,Ta=Td(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(ag,ag),i}function ag(){if(--_f===0&&Fo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Fo;Fo=null,Ta=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function JS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var og=K.S;K.S=function(e,i){Fy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(e,i),og!==null&&og(e,i)};var Ns=M(null);function vf(){var e=Ns.current;return e!==null?e:Wt.pooledCache}function Hu(e,i){i===null?st(Ns,Ns.current):st(Ns,i.pool)}function lg(){var e=vf();return e===null?null:{parent:Se._currentValue,pool:e}}var Aa=Error(s(460)),Ef=Error(s(474)),qu=Error(s(542)),Fu={then:function(){}};function ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,fg(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,fg(e),e}throw Vs=i,Aa}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Aa):a}}var Vs=null;function hg(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function fg(e){if(e===Aa||e===qu)throw Error(s(483))}var ba=null,Go=0;function Gu(e){var i=Go;return Go+=1,ba===null&&(ba=[]),cg(ba,e,i)}function Ko(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ku(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function dg(e){function i(x,O){if(e){var P=x.deletions;P===null?(x.deletions=[O],x.flags|=16):P.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=ki(x,O),x.index=0,x.sibling=null,x}function d(x,O,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<O?(x.flags|=67108866,O):P):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,P,Y){return O===null||O.tag!==6?(O=lf(P,x.mode,Y),O.return=x,O):(O=h(O,P),O.return=x,O)}function I(x,O,P,Y){var ft=P.type;return ft===F?G(x,O,P.props.children,Y,P.key):O!==null&&(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ms(ft)===O.type)?(O=h(O,P.props),Ko(O,P),O.return=x,O):(O=Pu(P.type,P.key,P.props,null,x.mode,Y),Ko(O,P),O.return=x,O)}function z(x,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=uf(P,x.mode,Y),O.return=x,O):(O=h(O,P.children||[]),O.return=x,O)}function G(x,O,P,Y,ft){return O===null||O.tag!==7?(O=Cs(P,x.mode,Y,ft),O.return=x,O):(O=h(O,P),O.return=x,O)}function $(x,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=lf(""+O,x.mode,P),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return P=Pu(O.type,O.key,O.props,null,x.mode,P),Ko(P,O),P.return=x,P;case X:return O=uf(O,x.mode,P),O.return=x,O;case b:return O=Ms(O),$(x,O,P)}if(De(O)||L(O))return O=Cs(O,x.mode,P,null),O.return=x,O;if(typeof O.then=="function")return $(x,Gu(O),P);if(O.$$typeof===it)return $(x,ju(x,O),P);Ku(x,O)}return null}function B(x,O,P,Y){var ft=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:T(x,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===ft?I(x,O,P,Y):null;case X:return P.key===ft?z(x,O,P,Y):null;case b:return P=Ms(P),B(x,O,P,Y)}if(De(P)||L(P))return ft!==null?null:G(x,O,P,Y,null);if(typeof P.then=="function")return B(x,O,Gu(P),Y);if(P.$$typeof===it)return B(x,O,ju(x,P),Y);Ku(x,P)}return null}function q(x,O,P,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(P)||null,T(O,x,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case U:return x=x.get(Y.key===null?P:Y.key)||null,I(O,x,Y,ft);case X:return x=x.get(Y.key===null?P:Y.key)||null,z(O,x,Y,ft);case b:return Y=Ms(Y),q(x,O,P,Y,ft)}if(De(Y)||L(Y))return x=x.get(P)||null,G(O,x,Y,ft,null);if(typeof Y.then=="function")return q(x,O,P,Gu(Y),ft);if(Y.$$typeof===it)return q(x,O,P,ju(O,Y),ft);Ku(O,Y)}return null}function ut(x,O,P,Y){for(var ft=null,Bt=null,ct=O,Rt=O=0,Mt=null;ct!==null&&Rt<P.length;Rt++){ct.index>Rt?(Mt=ct,ct=null):Mt=ct.sibling;var jt=B(x,ct,P[Rt],Y);if(jt===null){ct===null&&(ct=Mt);break}e&&ct&&jt.alternate===null&&i(x,ct),O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt,ct=Mt}if(Rt===P.length)return a(x,ct),Ut&&Pi(x,Rt),ft;if(ct===null){for(;Rt<P.length;Rt++)ct=$(x,P[Rt],Y),ct!==null&&(O=d(ct,O,Rt),Bt===null?ft=ct:Bt.sibling=ct,Bt=ct);return Ut&&Pi(x,Rt),ft}for(ct=l(ct);Rt<P.length;Rt++)Mt=q(ct,x,Rt,P[Rt],Y),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?Rt:Mt.key),O=d(Mt,O,Rt),Bt===null?ft=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ct.forEach(function(Br){return i(x,Br)}),Ut&&Pi(x,Rt),ft}function pt(x,O,P,Y){if(P==null)throw Error(s(151));for(var ft=null,Bt=null,ct=O,Rt=O=0,Mt=null,jt=P.next();ct!==null&&!jt.done;Rt++,jt=P.next()){ct.index>Rt?(Mt=ct,ct=null):Mt=ct.sibling;var Br=B(x,ct,jt.value,Y);if(Br===null){ct===null&&(ct=Mt);break}e&&ct&&Br.alternate===null&&i(x,ct),O=d(Br,O,Rt),Bt===null?ft=Br:Bt.sibling=Br,Bt=Br,ct=Mt}if(jt.done)return a(x,ct),Ut&&Pi(x,Rt),ft;if(ct===null){for(;!jt.done;Rt++,jt=P.next())jt=$(x,jt.value,Y),jt!==null&&(O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return Ut&&Pi(x,Rt),ft}for(ct=l(ct);!jt.done;Rt++,jt=P.next())jt=q(ct,x,Rt,jt.value,Y),jt!==null&&(e&&jt.alternate!==null&&ct.delete(jt.key===null?Rt:jt.key),O=d(jt,O,Rt),Bt===null?ft=jt:Bt.sibling=jt,Bt=jt);return e&&ct.forEach(function(lb){return i(x,lb)}),Ut&&Pi(x,Rt),ft}function Zt(x,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===F&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:t:{for(var ft=P.key;O!==null;){if(O.key===ft){if(ft=P.type,ft===F){if(O.tag===7){a(x,O.sibling),Y=h(O,P.props.children),Y.return=x,x=Y;break t}}else if(O.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&Ms(ft)===O.type){a(x,O.sibling),Y=h(O,P.props),Ko(Y,P),Y.return=x,x=Y;break t}a(x,O);break}else i(x,O);O=O.sibling}P.type===F?(Y=Cs(P.props.children,x.mode,Y,P.key),Y.return=x,x=Y):(Y=Pu(P.type,P.key,P.props,null,x.mode,Y),Ko(Y,P),Y.return=x,x=Y)}return _(x);case X:t:{for(ft=P.key;O!==null;){if(O.key===ft)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(x,O.sibling),Y=h(O,P.children||[]),Y.return=x,x=Y;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Y=uf(P,x.mode,Y),Y.return=x,x=Y}return _(x);case b:return P=Ms(P),Zt(x,O,P,Y)}if(De(P))return ut(x,O,P,Y);if(L(P)){if(ft=L(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),pt(x,O,P,Y)}if(typeof P.then=="function")return Zt(x,O,Gu(P),Y);if(P.$$typeof===it)return Zt(x,O,ju(x,P),Y);Ku(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(x,O.sibling),Y=h(O,P),Y.return=x,x=Y):(a(x,O),Y=lf(P,x.mode,Y),Y.return=x,x=Y),_(x)):a(x,O)}return function(x,O,P,Y){try{Go=0;var ft=Zt(x,O,P,Y);return ba=null,ft}catch(ct){if(ct===Aa||ct===qu)throw ct;var Bt=gn(29,ct,null,x.mode);return Bt.lanes=Y,Bt.return=x,Bt}}}var xs=dg(!0),mg=dg(!1),Ar=!1;function Tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(e),Jp(e,null,a),i}return Uu(e,l,i,a),ku(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}function Af(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var bf=!1;function Yo(){if(bf){var e=Sa;if(e!==null)throw e}}function Xo(e,i,a,l){bf=!1;var h=e.updateQueue;Ar=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;_=0,G=z=I=null,T=d;do{var B=T.lane&-536870913,q=B!==T.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Ta&&(bf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){$=ut.call(Zt,$,B);break t}$=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,B=typeof ut=="function"?ut.call(Zt,$,B):ut,B==null)break t;$=S({},$,B);break t;case 2:Ar=!0}}B=T.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=q,I=$):G=G.next=q,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Or|=_,e.lanes=_,e.memoizedState=$}}function pg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function gg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)pg(a[e],i)}var Ra=M(null),Qu=M(0);function yg(e,i){e=Xi,st(Qu,e),st(Ra,i),Xi=e|i.baseLanes}function Rf(){st(Qu,Xi),st(Ra,Ra.current)}function wf(){Xi=Qu.current,J(Ra),J(Qu)}var yn=M(null),Vn=null;function wr(e){var i=e.alternate;st(me,me.current&1),st(yn,e),Vn===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(Vn=e)}function Cf(e){st(me,me.current),st(yn,e),Vn===null&&(Vn=e)}function _g(e){e.tag===22?(st(me,me.current),st(yn,e),Vn===null&&(Vn=e)):Cr()}function Cr(){st(me,me.current),st(yn,yn.current)}function _n(e){J(yn),Vn===e&&(Vn=null),J(me)}var me=M(0);function Yu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Vd(a)||xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ji=0,At=null,$t=null,Ae=null,Xu=!1,wa=!1,Ls=!1,$u=0,$o=0,Ca=null,ZS=0;function ce(){throw Error(s(321))}function If(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!pn(e[a],i[a]))return!1;return!0}function Df(e,i,a,l,h,d){return ji=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=e===null||e.memoizedState===null?ey:Ff,Ls=!1,d=a(l,h),Ls=!1,wa&&(d=Eg(i,a,l,h)),vg(e),d}function vg(e){K.H=Wo;var i=$t!==null&&$t.next!==null;if(ji=0,Ae=$t=At=null,Xu=!1,$o=0,Ca=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Bu(e)&&(be=!0))}function Eg(e,i,a,l){At=e;var h=0;do{if(wa&&(Ca=null),$o=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=ny,d=i(a,l)}while(wa);return d}function WS(){var e=K.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function Of(){var e=$u!==0;return $u=0,e}function Nf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Mf(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}ji=0,Ae=$t=At=null,wa=!1,$o=$u=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?At.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=$o;return $o+=1,Ca===null&&(Ca=[]),e=cg(Ca,e,i),i=At,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?ey:Ff),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===it)return He(e)}throw Error(s(438,String(e)))}function Vf(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ju(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Hi(e,i){return typeof i=="function"?i(e):i}function Wu(e){var i=pe();return xf(i,$t,e)}function xf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,G=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Nt&$)===$:(ji&$)===$){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ta&&(G=!0);else if((ji&B)===B){z=z.next,B===Ta&&(G=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=$,_=d):I=I.next=$,At.lanes|=B,Or|=B;$=z.action,Ls&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,At.lanes|=$,Or|=$;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!pn(d,e.memoizedState)&&(be=!0,G&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Lf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(e,i,a){var l=At,h=pe(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Pf(bg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},Ag.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(ji&127)!==0||Sg(l,i,a)}return a}function Sg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Ju(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Ag(e,i,a,l){i.value=a,i.getSnapshot=l,Rg(i)&&wg(e)}function bg(e,i,a){return a(function(){Rg(i)&&wg(e)})}function Rg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!pn(e,a)}catch{return!0}}function wg(e){var i=ws(e,2);i!==null&&un(i,e,2)}function Uf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),Ls){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},i}function Cg(e,i,a,l){return e.baseState=a,xf(e,$t,typeof l=="function"?l:Hi)}function tA(e,i,a,l,h){if(nc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ig(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ig(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var T=a(h,l),I=K.S;I!==null&&I(_,T),Dg(e,i,T)}catch(z){kf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,l),Dg(e,i,d)}catch(z){kf(e,i,z)}}function Dg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Og(e,i,l)},function(l){return kf(e,i,l)}):Og(e,i,a)}function Og(e,i,a){i.status="fulfilled",i.value=a,Ng(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ig(e,a)))}function kf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ng(i),i=i.next;while(i!==l)}e.action=null}function Ng(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Mg(e,i){return i}function Vg(e,i){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=At;if(Ut){if(te){e:{for(var h=te,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=xn(h.nextSibling),l=h.data==="F!";break t}}Tr(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mg,lastRenderedState:i},a.queue=l,a=Zg.bind(null,At,l),l.dispatch=a,l=Uf(!1),d=qf.bind(null,At,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=tA.bind(null,At,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function xg(e){var i=pe();return Lg(i,$t,e)}function Lg(e,i,a){if(i=xf(e,i,Mg)[0],e=Wu(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(_){throw _===Aa?qu:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},eA.bind(null,h,a),null)),[l,d,e]}function eA(e,i){e.action=i}function Ug(e){var i=pe(),a=$t;if(a!==null)return Lg(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ia(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=At.updateQueue,i===null&&(i=Ju(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function kg(){return pe().memoizedState}function tc(e,i,a,l){var h=en();At.flags|=e,h.memoizedState=Ia(1|i,{destroy:void 0},a,l===void 0?null:l)}function ec(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&If(l,$t.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(At.flags|=e,h.memoizedState=Ia(1|i,d,a,l))}function Pg(e,i){tc(8390656,8,e,i)}function Pf(e,i){ec(2048,8,e,i)}function nA(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Ju(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function zg(e){var i=pe().memoizedState;return nA({ref:i,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Bg(e,i){return ec(4,2,e,i)}function jg(e,i){return ec(4,4,e,i)}function Hg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qg(e,i,a){a=a!=null?a.concat([e]):null,ec(4,4,Hg.bind(null,i,e),a)}function zf(){}function Fg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Gg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=e(),Ls){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Bf(e,i,a){return a===void 0||(ji&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Ky(),At.lanes|=e,Or|=e,a)}function Kg(e,i,a,l){return pn(a,i)?a:Ra.current!==null?(e=Bf(e,a,l),pn(e,i)||(be=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=a):(e=Ky(),At.lanes|=e,Or|=e,i)}function Qg(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=K.T,T={};K.T=T,qf(e,!1,i,a);try{var I=h(),z=K.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=JS(I,l);Zo(e,i,G,Tn(e))}else Zo(e,i,l,Tn(e))}catch($){Zo(e,i,{then:function(){},status:"rejected",reason:$},Tn())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),K.T=_}}function iA(){}function jf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Yg(e).queue;Qg(e,h,i,dt,a===null?iA:function(){return Xg(e),a(l)})}function Yg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Xg(e){var i=Yg(e);i.next===null&&(i=e.alternate.memoizedState),Zo(e,i.next.queue,{},Tn())}function Hf(){return He(pl)}function $g(){return pe().memoizedState}function Jg(){return pe().memoizedState}function rA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();e=br(a);var l=Rr(i,e,a);l!==null&&(un(l,i,a),Qo(l,i,a)),i={cache:yf()},e.payload=i;return}i=i.return}}function sA(e,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?Wg(i,a):(a=af(e,i,a,l),a!==null&&(un(a,e,l),ty(a,i,l)))}function Zg(e,i,a){var l=Tn();Zo(e,i,a,l)}function Zo(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))Wg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,_))return Uu(e,i,h,0),Wt===null&&Lu(),!1}catch{}if(a=af(e,i,h,l),a!==null)return un(a,e,l),ty(a,i,l),!0}return!1}function qf(e,i,a,l){if(l={lane:2,revertLane:Td(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(i)throw Error(s(479))}else i=af(e,a,l,2),i!==null&&un(i,e,2)}function nc(e){var i=e.alternate;return e===At||i!==null&&i===At}function Wg(e,i){wa=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ty(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Eo(e,a)}}var Wo={readContext:He,use:Zu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Wo.useEffectEvent=ce;var ey={readContext:He,use:Zu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Pg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,tc(4194308,4,Hg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return tc(4194308,4,e,i)},useInsertionEffect:function(e,i){tc(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(Ls){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(Ls){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=sA.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Uf(e);var i=e.queue,a=Zg.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(e,i){var a=en();return Bf(a,e,i)},useTransition:function(){var e=Uf(!1);return e=Qg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=At,h=en();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Nt&127)!==0||Sg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Pg(bg.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},Ag.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Ut){var a=vi,l=_i;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=$u++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ZS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Vg,useActionState:Vg,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:Vf,useCacheRefresh:function(){return en().memoizedState=rA.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ff={readContext:He,use:Zu,useCallback:Fg,useContext:He,useEffect:Pf,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:Wu,useRef:kg,useState:function(){return Wu(Hi)},useDebugValue:zf,useDeferredValue:function(e,i){var a=pe();return Kg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Wu(Hi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Hf,useFormState:xg,useActionState:xg,useOptimistic:function(e,i){var a=pe();return Cg(a,$t,e,i)},useMemoCache:Vf,useCacheRefresh:Jg};Ff.useEffectEvent=zg;var ny={readContext:He,use:Zu,useCallback:Fg,useContext:He,useEffect:Pf,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:jg,useMemo:Gg,useReducer:Lf,useRef:kg,useState:function(){return Lf(Hi)},useDebugValue:zf,useDeferredValue:function(e,i){var a=pe();return $t===null?Bf(a,e,i):Kg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Lf(Hi)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:Hf,useFormState:Ug,useActionState:Ug,useOptimistic:function(e,i){var a=pe();return $t!==null?Cg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Jg};ny.useEffectEvent=zg;function Gf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Kf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=br(l);h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(un(i,e,l),Qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=Tn(),h=br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Rr(e,h,l),i!==null&&(un(i,e,l),Qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Tn(),l=br(a);l.tag=2,i!=null&&(l.callback=i),i=Rr(e,l,a),i!==null&&(un(i,e,a),Qo(i,e,a))}};function iy(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!zo(a,l)||!zo(h,d):!0}function ry(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Kf.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function sy(e){xu(e)}function ay(e){console.error(e)}function oy(e){xu(e)}function ic(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ly(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,i,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){ic(e,i)},a}function uy(e){return e=br(e),e.tag=3,e}function cy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ly(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ly(i,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function aA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ea(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?pc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),_d(e,l,h)),!1;case 22:return a.flags|=65536,l===Fu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),_d(e,l,h)),!1}throw Error(s(435,a.tag))}return _d(e,l,h),pc(),!1}if(Ut)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ff&&(e=Error(s(422),{cause:l}),Ho(Dn(e,a)))):(l!==ff&&(i=Error(s(423),{cause:l}),Ho(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=Qf(e.stateNode,l,h),Af(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),ol===null?ol=[d]:ol.push(d),he!==4&&(he=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Qf(a.stateNode,l,e),Af(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,e,a,l),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Yf=Error(s(461)),be=!1;function qe(e,i,a,l){i.child=e===null?mg(i,null,a,l):xs(i,e.child,a,l)}function hy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Os(i),l=Df(e,i,a,_,d,h),T=Of(),e!==null&&!be?(Nf(e,i,h),qi(e,i,h)):(Ut&&T&&cf(i),i.flags|=1,qe(e,i,l,h),i.child)}function fy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dy(e,i,d,l,h)):(e=Pu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!nd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:zo,a(_,l)&&e.ref===i.ref)return qi(e,i,h)}return i.flags|=1,e=ki(d,l),e.ref=i.ref,e.return=i,i.child=e}function dy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(zo(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,nd(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,qi(e,i,h)}return Xf(e,i,a,l,h)}function my(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return py(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Hu(i,d!==null?d.cachePool:null),d!==null?yg(i,d):Rf(),_g(i);else return l=i.lanes=536870912,py(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Hu(i,d.cachePool),yg(i,d),Cr(),i.memoizedState=null):(e!==null&&Hu(i,null),Rf(),Cr());return qe(e,i,h,a),i.child}function tl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function py(e,i,a,l,h){var d=vf();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Hu(i,null),Rf(),_g(i),e!==null&&Ea(e,i,l,!0),i.childLanes=h,null}function rc(e,i){return i=ac({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function gy(e,i,a){return xs(i,e.child,null,a),e=rc(i,i.pendingProps),e.flags|=2,_n(i),i.memoizedState=null,e}function oA(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=rc(i,l),i.lanes=536870912,tl(null,e);if(Cf(i),(e=te)?(e=I_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Tr(i);return i.lanes=536870912,null}return rc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Cf(i),h)if(i.flags&256)i.flags&=-257,i=gy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Ea(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=To(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(e,_),un(l,e,_),Yf;pc(),i=gy(e,i,a)}else e=d.treeContext,te=xn(_.nextSibling),je=i,Ut=!0,Er=null,Mn=!1,e!==null&&ng(i,e),i=rc(i,l),i.flags|=4096;return i}return e=ki(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function sc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Xf(e,i,a,l,h){return Os(i),a=Df(e,i,a,l,void 0,h),l=Of(),e!==null&&!be?(Nf(e,i,h),qi(e,i,h)):(Ut&&l&&cf(i),i.flags|=1,qe(e,i,a,h),i.child)}function yy(e,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Eg(i,l,a,h),vg(e),l=Of(),e!==null&&!be?(Nf(e,i,d),qi(e,i,d)):(Ut&&l&&cf(i),i.flags|=1,qe(e,i,a,d),i.child)}function _y(e,i,a,l,h){if(Os(i),i.stateNode===null){var d=ga,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Kf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Tf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):ga,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Kf.enqueueReplaceState(d,d.state,null),Xo(i,l,d,h),Yo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Us(a,T);d.props=I;var z=d.context,G=a.contextType;_=ga,typeof G=="object"&&G!==null&&(_=He(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&ry(i,d,l,_),Ar=!1;var B=i.memoizedState;d.state=B,Xo(i,l,d,h),Yo(),z=i.memoizedState,T||B!==z||Ar?(typeof $=="function"&&(Gf(i,a,$,l),z=i.memoizedState),(I=Ar||iy(i,a,I,l,B,z,_))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Sf(e,i),_=i.memoizedProps,G=Us(a,_),d.props=G,$=i.pendingProps,B=d.context,z=a.contextType,I=ga,typeof z=="object"&&z!==null&&(I=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||B!==I)&&ry(i,d,l,I),Ar=!1,B=i.memoizedState,d.state=B,Xo(i,l,d,h),Yo();var q=i.memoizedState;_!==$||B!==q||Ar||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof T=="function"&&(Gf(i,a,T,l),q=i.memoizedState),(G=Ar||iy(i,a,G,l,B,q,I)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=I,l=G):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,sc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=xs(i,e.child,null,h),i.child=xs(i,null,a,h)):qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=qi(e,i,h),e}function vy(e,i,a,l){return Is(),i.flags|=256,qe(e,i,a,l),i.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(e){return{baseLanes:e,cachePool:lg()}}function Zf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=En),e}function Ey(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?wr(i):Cr(),(e=te)?(e=I_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:vr!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Wp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Tr(i);return xd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Cr(),h=i.mode,T=ac({mode:"hidden",children:T},h),l=Cs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Jf(a),l.childLanes=Zf(e,_,a),i.memoizedState=$f,tl(null,l)):(wr(i),Wf(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(wr(i),i.flags&=-257,i=td(e,i,a)):i.memoizedState!==null?(Cr(),i.child=e.child,i.flags|=128,i=null):(Cr(),T=l.fallback,h=i.mode,l=ac({mode:"visible",children:l.children},h),T=Cs(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,xs(i,e.child,null,a),l=i.child,l.memoizedState=Jf(a),l.childLanes=Zf(e,_,a),i.memoizedState=$f,i=tl(null,l));else if(wr(i),xd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Ho({value:l,source:null,stack:null}),i=td(e,i,a)}else if(be||Ea(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=To(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,ws(e,l),un(_,e,l),Yf;Vd(T)||pc(),i=td(e,i,a)}else Vd(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,te=xn(T.nextSibling),je=i,Ut=!0,Er=null,Mn=!1,e!==null&&ng(i,e),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Cr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=ki(z,T):(T=Cs(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,tl(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Jf(a):(h=T.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=lg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Zf(e,_,a),i.memoizedState=$f,tl(e.child,l)):(wr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Wf(e,i){return i=ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ac(e,i){return e=gn(22,e,null,i),e.lanes=0,e}function td(e,i,a){return xs(i,e.child,null,a),e=Wf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ty(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),pf(e.return,i,a)}function ed(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Sy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(me,_),qe(e,i,l,a),l=Ut?jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ty(e,a,i);else if(e.tag===19)Ty(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Yu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Yu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ed(i,!0,a,null,d,l);break;case"together":ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ea(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function nd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function lA(e,i,a){switch(i.tag){case 3:Oe(i,i.stateNode.containerInfo),Sr(i,Se,e.memoizedState.cache),Is();break;case 27:case 5:ls(i);break;case 4:Oe(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Cf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ey(e,i,a):(wr(i),e=qi(e,i,a),e!==null?e.sibling:null);wr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ea(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Sy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(me,me.current),l)break;return null;case 22:return i.lanes=0,my(e,i,a,i.pendingProps);case 24:Sr(i,Se,e.memoizedState.cache)}return qi(e,i,a)}function Ay(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!nd(e,a)&&(i.flags&128)===0)return be=!1,lA(e,i,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(i.flags&1048576)!==0&&eg(i,jo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")of(e)?(l=Us(e,l),i.tag=1,i=_y(null,i,e,l,a)):(i.tag=0,i=Xf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){i.tag=11,i=hy(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=fy(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(s(306,i,""))}}return i;case 0:return Xf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Us(l,i.pendingProps),_y(e,i,l,h,a);case 3:t:{if(Oe(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(e,i),Xo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Sr(i,Se,l),l!==d.cache&&gf(i,[Se],a,!0),Yo(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=vy(e,i,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),i),Ho(h),i=vy(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=xn(e.firstChild),je=i,Ut=!0,Er=null,Mn=!0,a=mg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Is(),l===h){i=qi(e,i,a);break t}qe(e,i,l,a)}i=i.child}return i;case 26:return sc(e,i),e===null?(a=x_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=Sc(bt.current).createElement(a),l[ve]=i,l[Le]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=x_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ls(i),e===null&&Ut&&(l=i.stateNode=N_(i.type,i.pendingProps,bt.current),je=i,Mn=!0,h=te,Lr(i.type)?(Ld=h,te=xn(l.firstChild)):te=h),qe(e,i,i.pendingProps.children,a),sc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=te)&&(l=PA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,je=i,te=xn(l.firstChild),Mn=!1,h=!0):h=!1),h||Tr(i)),ls(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Od(h,d)?l=null:_!==null&&Od(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(e,i,WS,null,null,a),pl._currentValue=h),sc(e,i),qe(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=te)&&(a=zA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,je=i,te=null,e=!0):e=!1),e||Tr(i)),null;case 13:return Ey(e,i,a);case 4:return Oe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=xs(i,null,l,a):qe(e,i,l,a),i.child;case 11:return hy(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Sr(i,i.type,l.value),qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=He(h),l=l(h),i.flags|=1,qe(e,i,l,a),i.child;case 14:return fy(e,i,i.type,i.pendingProps,a);case 15:return dy(e,i,i.type,i.pendingProps,a);case 19:return Sy(e,i,a);case 31:return oA(e,i,a);case 22:return my(e,i,a,i.pendingProps);case 24:return Os(i),l=He(Se),e===null?(h=vf(),h===null&&(h=Wt,d=yf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Tf(i),Sr(i,Se,h)):((e.lanes&a)!==0&&(Sf(e,i),Xo(i,null,null,a),Yo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Se,l)):(l=d.cache,Sr(i,Se,l),l!==h.cache&&gf(i,[Se],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Fi(e){e.flags|=4}function id(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if($y())e.flags|=8192;else throw Vs=Fu,Ef}else e.flags&=-16777217}function by(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!z_(i))if($y())e.flags|=8192;else throw Vs=Fu,Ef}function oc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?du():536870912,e.lanes|=i,Ma|=i)}function el(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function uA(e,i,a){var l=i.pendingProps;switch(hf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(i)?Fi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,df())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(Fi(i),d!==null?(ee(i),by(i,d)):(ee(i),id(i,h,null,l,a))):d?d!==e.memoizedState?(Fi(i),ee(i),by(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Fi(i),ee(i),id(i,h,e,l,a)),null;case 27:if(Js(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=lt.current,va(i)?ig(i):(e=N_(h,l,a),i.stateNode=e,Fi(i))}return ee(i),null;case 5:if(Js(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(d=lt.current,va(i))ig(i);else{var _=Sc(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Fi(i)}}return ee(i),id(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,va(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(e.nodeValue,a)),e||Tr(i,!0)}else e=Sc(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=va(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Is(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=df(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),ee(i),null);case 4:return re(),e===null&&Rd(i.stateNode.containerInfo),ee(i),null;case 10:return Bi(i.type),ee(i),null;case 19:if(J(me),l=i.memoizedState,l===null)return ee(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)el(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Yu(e),d!==null){for(i.flags|=128,el(l,!1),e=d.updateQueue,i.updateQueue=e,oc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Zp(a,e),a=a.sibling;return st(me,me.current&1|2),Ut&&Pi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>fc&&(i.flags|=128,h=!0,el(l,!1),i.lanes=4194304)}else{if(!h)if(e=Yu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,oc(i,e),el(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ee(i),null}else 2*We()-l.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,h=!0,el(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,st(me,h?a&1|2:a&1),Ut&&Pi(i,l.treeForkCount),e):(ee(i),null);case 22:case 23:return _n(i),wf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&J(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Se),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function cA(e,i){switch(hf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Se),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Js(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Is()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(_n(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Is()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return J(me),null;case 4:return re(),null;case 10:return Bi(i.type),null;case 22:case 23:return _n(i),wf(),e!==null&&J(Ns),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Se),null;case 25:return null;default:return null}}function Ry(e,i){switch(hf(i),i.tag){case 3:Bi(Se),re();break;case 26:case 27:case 5:Js(i);break;case 4:re();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:J(me);break;case 10:Bi(i.type);break;case 22:case 23:_n(i),wf(),e!==null&&J(Ns);break;case 24:Bi(Se)}}function nl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Ir(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(G){Yt(h,I,G)}}}l=l.next}while(l!==d)}}catch(G){Yt(i,i.return,G)}}function wy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{gg(i,a)}catch(l){Yt(e,e.return,l)}}}function Cy(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function il(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Iy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function rd(e,i,a){try{var l=e.stateNode;MA(l,e.type,a,i),l[Le]=i}catch(h){Yt(e,e.return,h)}}function Dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ad(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ad(e,i,a),e=e.sibling;e!==null;)ad(e,i,a),e=e.sibling}function lc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Lr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,i,a),e=e.sibling;e!==null;)lc(e,i,a),e=e.sibling}function Oy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[Le]=a}catch(d){Yt(e,e.return,d)}}var Gi=!1,Re=!1,od=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,ke=null;function hA(e,i){if(e=e.containerInfo,Id=Dc,e=qp(e),Wh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,G=0,$=e,B=null;e:for(;;){for(var q;$!==a||h!==0&&$.nodeType!==3||(T=_+h),$!==d||l!==0&&$.nodeType!==3||(I=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++G===l&&(I=_),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:e,selectionRange:a},Dc=!1,ke=i;ke!==null;)if(i=ke,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ke=e;else for(;ke!==null;){switch(i=ke,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Us(a.type,h);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Md(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ke=e;break}ke=i.return}}function My(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qi(e,a),l&4&&nl(5,a);break;case 1:if(Qi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&wy(a),l&512&&il(a,a.return);break;case 3:if(Qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Oy(a);case 26:case 5:Qi(e,a),i===null&&l&4&&Iy(a),l&512&&il(a,a.return);break;case 12:Qi(e,a);break;case 31:Qi(e,a),l&4&&Ly(e,a);break;case 13:Qi(e,a),l&4&&Uy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=EA.bind(null,a),BA(e,a))));break;case 22:if(l=a.memoizedState!==null||Gi,!l){i=i!==null&&i.memoizedState!==null||Re,h=Gi;var d=Re;Gi=l,(Re=i)&&!d?Yi(e,a,(a.subtreeFlags&8772)!==0):Qi(e,a),Gi=h,Re=d}break;case 30:break;default:Qi(e,a)}}function Vy(e){var i=e.alternate;i!==null&&(e.alternate=null,Vy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&na(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Ki(e,i,a){for(a=a.child;a!==null;)xy(e,i,a),a=a.sibling}function xy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||Ei(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,i);var l=ae,h=sn;Lr(a.type)&&(ae=a.stateNode,sn=!1),Ki(e,i,a),fl(a.stateNode),ae=l,sn=h;break;case 5:Re||Ei(a,i);case 6:if(l=ae,h=sn,ae=null,Ki(e,i,a),ae=l,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:ae!==null&&(sn?(e=ae,w_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):w_(ae,a.stateNode));break;case 4:l=ae,h=sn,ae=a.stateNode.containerInfo,sn=!0,Ki(e,i,a),ae=l,sn=h;break;case 0:case 11:case 14:case 15:Ir(2,a,i),Re||Ir(4,a,i),Ki(e,i,a);break;case 1:Re||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cy(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Ki(e,i,a),Re=l;break;default:Ki(e,i,a)}}function Ly(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){Yt(i,i.return,a)}}}function Uy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){Yt(i,i.return,a)}}function fA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ny),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ny),i;default:throw Error(s(435,e.tag))}}function uc(e,i){var a=fA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=TA.bind(null,e,l);l.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(Lr(T.type)){ae=T.stateNode,sn=!1;break t}break;case 5:ae=T.stateNode,sn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));xy(d,_,h),ae=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)ky(i,e),i=i.sibling}var Xn=null;function ky(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),l&4&&(Ir(3,e,e.return),nl(3,e),Ir(5,e,e.return));break;case 1:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=k_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=k_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else P_(h,e.type,e.stateNode);else e.stateNode=U_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P_(h,e.type,e.stateNode):U_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&rd(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),a!==null&&l&4&&rd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(ut){Yt(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,rd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(an(i,e),on(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ut){Yt(e,e.return,ut)}}break;case 3:if(Rc=null,h=Xn,Xn=Ac(i.containerInfo),an(i,e),Xn=h,on(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(ut){Yt(e,e.return,ut)}od&&(od=!1,Py(e));break;case 4:l=Xn,Xn=Ac(e.stateNode.containerInfo),an(i,e),on(e),Xn=l;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Gi,G=Re;if(Gi=z||h,Re=G||I,an(i,e),Re=G,Gi=z,on(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Gi||Re||ks(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Yt(I,I.return,ut)}}}else if(i.tag===18){if(a===null){I=i;try{var q=I.stateNode;h?C_(q,!0):C_(I.stateNode,!1)}catch(ut){Yt(I,I.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uc(e,a))));break;case 19:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uc(e,l)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Dy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=sd(e);lc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=sd(e);lc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=sd(e);ad(e,z,I);break;default:throw Error(s(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Py(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)My(e,i.alternate,i),i=i.sibling}function ks(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Ir(4,i,i.return),ks(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Cy(i,i.return,a),ks(i);break;case 27:fl(i.stateNode);case 26:case 5:Ei(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}e=e.sibling}}function Yi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Yi(h,d,a),nl(4,d);break;case 1:if(Yi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)pg(I[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&wy(d),il(d,d.return);break;case 27:Oy(d);case 26:case 5:Yi(h,d,a),a&&l===null&&_&4&&Iy(d),il(d,d.return);break;case 12:Yi(h,d,a);break;case 31:Yi(h,d,a),a&&_&4&&Ly(h,d);break;case 13:Yi(h,d,a),a&&_&4&&Uy(h,d);break;case 22:d.memoizedState===null&&Yi(h,d,a),il(d,d.return);break;case 30:break;default:Yi(h,d,a)}i=i.sibling}}function ld(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function ud(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zy(e,i,a,l),i=i.sibling}function zy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&nl(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(i,i.return,I)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(e,i,a,l):rl(e,i):d._visibility&2?$n(e,i,a,l):(d._visibility|=2,Da(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ld(_,i);break;case 24:$n(e,i,a,l),h&2048&&ud(i.alternate,i);break;default:$n(e,i,a,l)}}function Da(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Da(d,_,T,I,h),nl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?Da(d,_,T,I,h):rl(d,_):(G._visibility|=2,Da(d,_,T,I,h)),h&&z&2048&&ld(_.alternate,_);break;case 24:Da(d,_,T,I,h),h&&z&2048&&ud(_.alternate,_);break;default:Da(d,_,T,I,h)}i=i.sibling}}function rl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:rl(a,l),h&2048&&ld(l.alternate,l);break;case 24:rl(a,l),h&2048&&ud(l.alternate,l);break;default:rl(a,l)}i=i.sibling}}var sl=8192;function Oa(e,i,a){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)By(e,i,a),e=e.sibling}function By(e,i,a){switch(e.tag){case 26:Oa(e,i,a),e.flags&sl&&e.memoizedState!==null&&ZA(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,i,a);break;case 3:case 4:var l=Xn;Xn=Ac(e.stateNode.containerInfo),Oa(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=sl,sl=16777216,Oa(e,i,a),sl=l):Oa(e,i,a));break;default:Oa(e,i,a)}}function jy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,qy(l,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hy(e),e=e.sibling}function Hy(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Ir(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,cc(e)):al(e);break;default:al(e)}}function cc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ke=l,qy(l,e)}jy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Ir(8,i,i.return),cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,cc(i));break;default:cc(i)}e=e.sibling}}function qy(e,i){for(;ke!==null;){var a=ke;switch(a.tag){case 0:case 11:case 15:Ir(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:qo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ke=l;else t:for(a=e;ke!==null;){l=ke;var h=l.sibling,d=l.return;if(Vy(l),l===a){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}var dA={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Se).controller.signal}},mA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Dt=null,Nt=0,Qt=0,vn=null,Dr=!1,Na=!1,cd=!1,Xi=0,he=0,Or=0,Ps=0,hd=0,En=0,Ma=0,ol=null,ln=null,fd=!1,hc=0,Fy=0,fc=1/0,dc=null,Nr=null,Me=0,Mr=null,Va=null,$i=0,dd=0,md=null,Gy=null,ll=0,pd=null;function Tn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:K.T!==null?Td():mu()}function Ky(){if(En===0)if((Nt&536870912)===0||Ut){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Vr(e,Nt,En,!1)),fs(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Ps|=a),he===4&&Vr(e,Nt,En,!1)),Ti(e))}function Qy(e,i,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?yA(e,i):yd(e,i,!0),d=l;do{if(h===0){Na&&!l&&Vr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!pA(a)){h=yd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=ol;var I=T.current.memoizedState.isDehydrated;if(I&&(xa(T,_).flags|=256),_=yd(T,_,!1),_!==2){if(cd&&!I){T.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Vr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Vr(l,i,En,!Dr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hc+300-We(),10<h)){if(Vr(l,i,En,!Dr),ii(l,0,!0)!==0)break t;$i=i,l.timeoutHandle=b_(Yy.bind(null,l,a,ln,dc,fd,i,En,Ps,Ma,Dr,d,"Throttled",-0,0),h);break t}Yy(l,a,ln,dc,fd,i,En,Ps,Ma,Dr,d,null,-0,0)}}break}while(!0);Ti(e)}function Yy(e,i,a,l,h,d,_,T,I,z,G,$,B,q){if(e.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},By(i,d,$);var ut=(d&62914560)===d?hc-We():(d&4194048)===d?Fy-We():0;if(ut=WA($,ut),ut!==null){$i=d,e.cancelPendingCommit=ut(n_.bind(null,e,i,d,a,l,h,_,T,I,G,$,null,B,q)),Vr(e,d,_,!z);return}}n_(e,i,d,a,l,h,_,T,I)}function pA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(e,i,a,l){i&=~hd,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ds(e,a,i)}function mc(){return(qt&6)===0?(ul(0),!1):!0}function gd(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,zi=Ds=null,Mf(e),ba=null,Go=0,e=Dt;for(;e!==null;)Ry(e.alternate,e),e=e.return;Dt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,LA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,gd(),Wt=e,Dt=a=ki(e.current,null),Nt=i,Qt=0,vn=null,Dr=!1,Na=Bn(e,i),cd=!1,Ma=En=hd=Ps=Or=he=0,ln=ol=null,fd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Xi=i,Lu(),a}function Xy(e,i){At=null,K.H=Wo,i===Aa||i===qu?(i=hg(),Qt=3):i===Ef?(i=hg(),Qt=4):Qt=i===Yf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Dt===null&&(he=1,ic(e,Dn(i,e.current)))}function $y(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Jy(){var e=K.H;return K.H=Wo,e===null?Wo:e}function Zy(){var e=K.A;return K.A=dA,e}function pc(){he=4,Dr||(Nt&4194048)!==Nt&&yn.current!==null||(Na=!0),(Or&134217727)===0&&(Ps&134217727)===0||Wt===null||Vr(Wt,Nt,En,!1)}function yd(e,i,a){var l=qt;qt|=2;var h=Jy(),d=Zy();(Wt!==e||Nt!==i)&&(dc=null,xa(e,i)),i=!1;var _=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,I=vn;switch(Qt){case 8:gd(),_=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var z=Qt;if(Qt=0,vn=null,La(e,T,I,z),a&&Na){_=0;break t}break;default:z=Qt,Qt=0,vn=null,La(e,T,I,z)}}gA(),_=he;break}catch(G){Xy(e,G)}while(!0);return i&&e.shellSuspendCounter++,zi=Ds=null,qt=l,K.H=h,K.A=d,Dt===null&&(Wt=null,Nt=0,Lu()),_}function gA(){for(;Dt!==null;)Wy(Dt)}function yA(e,i){var a=qt;qt|=2;var l=Jy(),h=Zy();Wt!==e||Nt!==i?(dc=null,fc=We()+500,xa(e,i)):Na=Bn(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=vn;e:switch(Qt){case 1:Qt=0,vn=null,La(e,i,d,1);break;case 2:case 9:if(ug(d)){Qt=0,vn=null,t_(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ti(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ug(d)?(Qt=0,vn=null,t_(i)):(Qt=0,vn=null,La(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?z_(_):T.stateNode.complete){Qt=0,vn=null;var I=T.sibling;if(I!==null)Dt=I;else{var z=T.return;z!==null?(Dt=z,gc(z)):Dt=null}break e}}Qt=0,vn=null,La(e,i,d,5);break;case 6:Qt=0,vn=null,La(e,i,d,6);break;case 8:gd(),he=6;break t;default:throw Error(s(462))}}_A();break}catch(G){Xy(e,G)}while(!0);return zi=Ds=null,K.H=l,K.A=h,qt=a,Dt!==null?0:(Wt=null,Nt=0,Lu(),he)}function _A(){for(;Dt!==null&&!Kh();)Wy(Dt)}function Wy(e){var i=Ay(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,i===null?gc(e):Dt=i}function t_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=yy(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=yy(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:Mf(i);default:Ry(a,i),i=Dt=Zp(i,Xi),i=Ay(a,i,Xi)}e.memoizedProps=e.pendingProps,i===null?gc(e):Dt=i}function La(e,i,a,l){zi=Ds=null,Mf(i),ba=null,Go=0;var h=i.return;try{if(aA(e,h,i,a,Nt)){he=1,ic(e,Dn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,ic(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Ut||l===1?e=!0:Na||(Nt&536870912)!==0?e=!1:(Dr=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){e_(i,Dr);return}e=i.return;var a=uA(i.alternate,i,Xi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function e_(e,i){do{var a=cA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function n_(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do yc();while(Me!==0);if((qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=sf,Xh(e,a,d,_,T,I),e===Wt&&(Dt=Wt=null,Nt=0),Va=i,Mr=e,$i=a,dd=d,md=h,Gy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,SA(ur,function(){return o_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=rt.p,rt.p=2,_=qt,qt|=4;try{hA(e,i,a)}finally{qt=_,rt.p=h,K.T=l}}Me=1,i_(),r_(),s_()}}function i_(){if(Me===1){Me=0;var e=Mr,i=Va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{ky(i,e);var d=Dd,_=qp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Hp(T.ownerDocument.documentElement,T)){if(I!==null&&Wh(T)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),ut=T.textContent.length,pt=Math.min(I.start,ut),Zt=I.end===void 0?pt:Math.min(I.end,ut);!q.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=jp(T,pt),O=jp(T,Zt);if(x&&O&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=$.createRange();P.setStart(x.node,x.offset),q.removeAllRanges(),pt>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for($=[],q=T;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Dc=!!Id,Dd=Id=null}finally{qt=h,rt.p=l,K.T=a}}e.current=i,Me=2}}function r_(){if(Me===2){Me=0;var e=Mr,i=Va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{My(e,i.alternate,i)}finally{qt=h,rt.p=l,K.T=a}}Me=3}}function s_(){if(Me===4||Me===3){Me=0,ou();var e=Mr,i=Va,a=$i,l=Gy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Me=5:(Me=0,Va=Mr=null,a_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Nr=null),Vi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=rt.p,rt.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{K.T=i,rt.p=h}}($i&3)!==0&&yc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===pd?ll++:(ll=0,pd=e):ll=0,ul(0)}}function a_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function yc(){return i_(),r_(),s_(),o_()}function o_(){if(Me!==5)return!1;var e=Mr,i=dd;dd=0;var a=Vi($i),l=K.T,h=rt.p;try{rt.p=32>a?32:a,K.T=null,a=md,md=null;var d=Mr,_=$i;if(Me=0,Va=Mr=null,$i=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Hy(d.current),zy(d,d.current,_,a),qt=T,ul(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{rt.p=h,K.T=l,a_(e,i)}}function l_(e,i,a){i=Dn(a,i),i=Qf(e.stateNode,i,2),e=Rr(e,i,2),e!==null&&(fs(e,2),Ti(e))}function Yt(e,i,a){if(e.tag===3)l_(e,e,a);else for(;i!==null;){if(i.tag===3){l_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){e=Dn(a,e),a=uy(2),l=Rr(i,a,2),l!==null&&(cy(a,l,i,e),fs(l,2),Ti(l));break}}i=i.return}}function _d(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new mA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(cd=!0,h.add(a),e=vA.bind(null,e,i,a),i.then(e,e))}function vA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>We()-hc?(qt&2)===0&&xa(e,0):hd|=a,Ma===Nt&&(Ma=0)),Ti(e)}function u_(e,i){i===0&&(i=du()),e=ws(e,i),e!==null&&(fs(e,i),Ti(e))}function EA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(e,a)}function TA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(e,a)}function SA(e,i){return Ne(e,i)}var _c=null,Ua=null,vd=!1,vc=!1,Ed=!1,xr=0;function Ti(e){e!==Ua&&e.next===null&&(Ua===null?_c=Ua=e:Ua=Ua.next=e),vc=!0,vd||(vd=!0,bA())}function ul(e,i){if(!Ed&&vc){Ed=!0;do for(var a=!1,l=_c;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Nt,d=ii(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,d_(l,d));l=l.next}while(a);Ed=!1}}function AA(){c_()}function c_(){vc=vd=!1;var e=0;xr!==0&&xA()&&(e=xr);for(var i=We(),a=null,l=_c;l!==null;){var h=l.next,d=h_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}Me!==0&&Me!==5||ul(e),xr!==0&&(xr=0)}function h_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Yh(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Nt,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&lr(l),Vi(a)){case 2:case 8:a=vo;break;case 32:a=ur;break;case 268435456:a=lu;break;default:a=ur}return l=f_.bind(null,e),a=Ne(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&lr(l),e.callbackPriority=2,e.callbackNode=null,2}function f_(e,i){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yc()&&e.callbackNode!==a)return null;var l=Nt;return l=ii(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Qy(e,l,i),h_(e,We()),e.callbackNode!=null&&e.callbackNode===a?f_.bind(null,e):null)}function d_(e,i){if(yc())return null;Qy(e,i,!0)}function bA(){UA(function(){(qt&6)!==0?Ne(_o,AA):c_()})}function Td(){if(xr===0){var e=Ta;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),xr=e}return xr}function m_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function p_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function RA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=m_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?m_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var I=_?p_(h,_):new FormData(h);jf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?p_(h,_):new FormData(h),jf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Ad=rf[Sd],wA=Ad.toLowerCase(),CA=Ad[0].toUpperCase()+Ad.slice(1);Yn(wA,"on"+CA)}Yn(Kp,"onAnimationEnd"),Yn(Qp,"onAnimationIteration"),Yn(Yp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(qS,"onTransitionRun"),Yn(FS,"onTransitionStart"),Yn(GS,"onTransitionCancel"),Yn(Xp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function g_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(G){xu(G)}h.currentTarget=null,d=I}}}}function Ot(e,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var l=e+"__bubble";a.has(l)||(y_(i,e,2,!1),a.add(l))}function bd(e,i,a){var l=0;i&&(l|=4),y_(a,e,l,i)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function Rd(e){if(!e[Ec]){e[Ec]=!0,So.forEach(function(a){a!=="selectionchange"&&(IA.has(a)||bd(a,!1,e),bd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ec]||(i[Ec]=!0,bd("selectionchange",!1,i))}}function y_(e,i,a,l){switch(K_(i)){case 2:var h=nb;break;case 8:h=ib;break;default:h=Bd}a=h.bind(null,i,a,e),h=void 0,!_s||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function wd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=oi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}pr(function(){var z=d,G=Rn(a),$=[];t:{var B=$p.get(e);if(B!==void 0){var q=mi,ut=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":q=Nu;break;case"focusin":ut="focus",q=Ss;break;case"focusout":ut="blur",q=Ss;break;case"beforeblur":case"afterblur":q=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=p;break;case Kp:case Qp:case Yp:q=bu;break;case Xp:q=A;break;case"scroll":case"scrollend":q=xo;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=St}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||x===null||(Y=Fn(O,x),Y!=null&&pt.push(hl(O,Y,P))),Zt)break;O=O.return}0<pt.length&&(B=new q(B,ut,null,a,G),$.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==No&&(ut=a.relatedTarget||a.fromElement)&&(oi(ut)||ut[si]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ut=a.relatedTarget||a.toElement,q=z,ut=ut?oi(ut):null,ut!==null&&(Zt=u(ut),pt=ut.tag,ut!==Zt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(q=null,ut=z),q!==ut)){if(pt=Lo,Y="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Ui,Y="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=q==null?B:dn(q),P=ut==null?B:dn(ut),B=new pt(Y,O+"leave",q,a,G),B.target=Zt,B.relatedTarget=P,Y=null,oi(G)===z&&(pt=new pt(x,O+"enter",ut,a,G),pt.target=P,pt.relatedTarget=Zt,Y=pt),Zt=Y,q&&ut)e:{for(pt=DA,x=q,O=ut,P=0,Y=x;Y;Y=pt(Y))P++;Y=0;for(var ft=O;ft;ft=pt(ft))Y++;for(;0<P-Y;)x=pt(x),P--;for(;0<Y-P;)O=pt(O),Y--;for(;P--;){if(x===O||O!==null&&x===O.alternate){pt=x;break e}x=pt(x),O=pt(O)}pt=null}else pt=null;q!==null&&__($,B,q,pt,!1),ut!==null&&Zt!==null&&__($,Zt,ut,pt,!0)}}t:{if(B=z?dn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Bt=Lp;else if(Vp(B))if(Up)Bt=BS;else{Bt=PS;var ct=kS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&sa(z.elementType)&&(Bt=Lp):Bt=zS;if(Bt&&(Bt=Bt(e,z))){xp($,Bt,a,G);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Io(B,"number",B.value)}switch(ct=z?dn(z):window,e){case"focusin":(Vp(ct)||ct.contentEditable==="true")&&(da=ct,tf=z,Bo=null);break;case"focusout":Bo=tf=da=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Fp($,a,G);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Fp($,a,G)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else fa?As(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(yi&&a.locale!=="ko"&&(fa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&fa&&(Rt=Vo()):(di=G,Mo="value"in di?di.value:di.textContent,fa=!0)),ct=Tc(z,Mt),0<ct.length&&(Mt=new gi(Mt,e,null,a,G),$.push({event:Mt,listeners:ct}),Rt?Mt.data=Rt:(Rt=ha(a),Rt!==null&&(Mt.data=Rt)))),(Rt=Cn?VS(e,a):xS(e,a))&&(Mt=Tc(z,"onBeforeInput"),0<Mt.length&&(ct=new gi("onBeforeInput","beforeinput",null,a,G),$.push({event:ct,listeners:Mt}),ct.data=Rt)),RA($,e,z,a,G)}g_($,i)})}function hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Tc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(e,a),h!=null&&l.unshift(hl(e,h,d)),h=Fn(e,i),h!=null&&l.push(hl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function DA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function __(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Fn(a,d),z!=null&&_.unshift(hl(a,z,I))):h||(z=Fn(a,d),z!=null&&_.push(hl(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var OA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function v_(e){return(typeof e=="string"?e:""+e).replace(OA,`
`).replace(NA,"")}function E_(e,i){return i=v_(i),v_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,l);break;case"style":Oo(e,l,d);break;case"data":if(i!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,ia(e,a,l))}}function Cd(e,i,a,l,h,d){switch(a){case"style":Oo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ao.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ia(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":_=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Jt(e,i,l,G,a,null)}}_u(e,d,T,I,z,_,h,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?hr(e,!!l,i,!1):a!=null&&hr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}fr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,i,I,l,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<cl.length;l++)Ot(cl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(sa(i)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Cd(e,i,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function MA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,G=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(q)||Jt(e,i,q,null,l,$)}}for(var B in l){var q=l[B];if($=a[B],l.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":_=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==$&&Jt(e,i,B,q,l,$)}}ra(e,_,T,I,z,G,d,h);return;case"select":q=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=T,a=_,l=q,B!=null?hr(e,!!a,B,!1):!!l!=!!a&&(i!=null?hr(e,!!a,i,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}vu(e,B,q);return;case"option":for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Jt(e,i,ut,null,l,B));for(I in l)B=l[I],q=a[I],l.hasOwnProperty(I)&&B!==q&&(B!=null||q!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,i,I,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,i,pt,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,z,B,l,q)}return;default:if(sa(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Cd(e,i,Zt,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||Cd(e,i,G,B,l,q);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Jt(e,i,x,null,l,B);for($ in l)B=l[$],q=a[$],!l.hasOwnProperty($)||B===q||B==null&&q==null||Jt(e,i,$,B,l,q)}function T_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&T_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var G=I.transferSize,$=I.initiatorType;G&&T_($)&&(I=I.responseEnd,_+=G*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Dd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function S_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Od(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function xA(){var e=window.event;return e&&e.type==="popstate"?e===Nd?!1:(Nd=e,!0):(Nd=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,LA=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(e){return R_.resolve(null).then(e).catch(kA)}:b_;function kA(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function w_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ba(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&fl(e.ownerDocument.body);a=h}while(a);Ba(i)}function C_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Md(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function PA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function zA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function I_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function Vd(e){return e.data==="$?"||e.data==="$~"}function xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Ld=null;function D_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function O_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function N_(e,i,a){switch(i=Sc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);na(e)}var Ln=new Map,M_=new Set;function Ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=rt.d;rt.d={f:jA,r:HA,D:qA,C:FA,L:GA,m:KA,X:YA,S:QA,M:XA};function jA(){var e=Ji.f(),i=mc();return e||i}function HA(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?Xg(i):Ji.r(e)}var ka=typeof document>"u"?null:document;function V_(e,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),M_.has(h)||(M_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function qA(e){Ji.D(e),V_("dns-prefetch",e,null)}function FA(e,i){Ji.C(e,i),V_("preconnect",e,i)}function GA(e,i,a){Ji.L(e,i,a);var l=ka;if(l&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=Pa(e);break;case"script":d=za(e)}Ln.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(dl(d))||i==="script"&&l.querySelector(ml(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function KA(e,i){Ji.m(e,i);var a=ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(e)}if(!Ln.has(d)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function QA(e,i,a){Ji.S(e,i,a);var l=ka;if(l&&e){var h=li(l).hoistableStyles,d=Pa(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(dl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Ud(e,a);var I=_=l.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function YA(e,i){Ji.X(e,i);var a=ka;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&kd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(e,i){Ji.M(e,i);var a=ka;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(ml(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&kd(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function x_(e,i,a,l){var h=(h=bt.current)?Ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Pa(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var d=li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(dl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||$A(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pa(e){return'href="'+nn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function L_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function $A(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function za(e){return'[src="'+nn(e)+'"]'}function ml(e){return"script[async]"+e}function U_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),bc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Pa(a.href);var d=e.querySelector(dl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=L_(a),(h=Ln.get(h))&&Ud(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),i.state.loading|=4,bc(d,a.precedence,e),i.instance=d;case"script":return d=za(a.src),(h=e.querySelector(ml(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),kd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,bc(l,a.precedence,e));return i.instance}function bc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ud(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Rc=null;function k_(e,i,a){if(Rc===null){var l=new Map,h=Rc=new Map;h.set(a,l)}else h=Rc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function P_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function JA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ZA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(l.href),d=i.querySelector(dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=wc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=L_(l),(h=Ln.get(h))&&Ud(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=wc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Pd=0;function WA(e,i){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Pd===0&&(Pd=62500*VA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Pd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Cc=null;function Ic(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Cc=new Map,i.forEach(tb,e),Cc=null,wc.call(e))}function tb(e,i){if(!(i.state.loading&4)){var a=Cc.get(e);if(a)var l=a.get(null);else{a=new Map,Cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=wc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var pl={$$typeof:it,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function eb(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function B_(e,i,a,l,h,d,_,T,I,z,G,$){return e=new eb(e,i,a,_,I,z,G,$,T),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),e.current=d,d.stateNode=e,i=yf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Tf(d),e}function j_(e){return e?(e=ga,e):ga}function H_(e,i,a,l,h,d){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(e,l,i),a!==null&&(un(a,e,i),Qo(a,e,i))}function q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function zd(e,i){q_(e,i),(e=e.alternate)&&q_(e,i)}function F_(e){if(e.tag===13||e.tag===31){var i=ws(e,67108864);i!==null&&un(i,e,67108864),zd(e,67108864)}}function G_(e){if(e.tag===13||e.tag===31){var i=Tn();i=ms(i);var a=ws(e,i);a!==null&&un(a,e,i),zd(e,i)}}var Dc=!0;function nb(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=2,Bd(e,i,a,l)}finally{rt.p=d,K.T=h}}function ib(e,i,a,l){var h=K.T;K.T=null;var d=rt.p;try{rt.p=8,Bd(e,i,a,l)}finally{rt.p=d,K.T=h}}function Bd(e,i,a,l){if(Dc){var h=jd(l);if(h===null)wd(e,i,l,Oc,a),Q_(e,l);else if(sb(h,e,i,a,l))l.stopPropagation();else if(Q_(e,l),i&4&&-1<rb.indexOf(e)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-fe(_);T.entanglements[1]|=I,_&=~I}Ti(d),(qt&6)===0&&(fc=We()+500,ul(0))}}break;case 31:case 13:T=ws(d,2),T!==null&&un(T,d,2),mc(),zd(d,2)}if(d=jd(l),d===null&&wd(e,i,l,Oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(e,i,l,null,a)}}function jd(e){return e=Rn(e),Hd(e)}var Oc=null;function Hd(e){if(Oc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Oc=e,null}function K_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case _o:return 2;case vo:return 8;case ur:case Qh:return 32;case lu:return 268435456;default:return 32}default:return 32}}var qd=!1,Ur=null,kr=null,Pr=null,gl=new Map,yl=new Map,zr=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,i){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(i.pointerId)}}function _l(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&F_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function sb(e,i,a,l,h){switch(i){case"focusin":return Ur=_l(Ur,e,i,a,l,h),!0;case"dragenter":return kr=_l(kr,e,i,a,l,h),!0;case"mouseover":return Pr=_l(Pr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return gl.set(d,_l(gl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,yl.set(d,_l(yl.get(d)||null,e,i,a,l,h)),!0}return!1}function Y_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){G_(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,jn(e.priority,function(){G_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=jd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);No=l,a.target.dispatchEvent(l),No=null}else return i=bn(a),i!==null&&F_(i),e.blockedOn=a,!1;i.shift()}return!0}function X_(e,i,a){Nc(e)&&a.delete(i)}function ab(){qd=!1,Ur!==null&&Nc(Ur)&&(Ur=null),kr!==null&&Nc(kr)&&(kr=null),Pr!==null&&Nc(Pr)&&(Pr=null),gl.forEach(X_),yl.forEach(X_)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ab)))}var Vc=null;function $_(e){Vc!==e&&(Vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Hd(l||a)===null)continue;break}var d=bn(a);d!==null&&(e.splice(i,3),i-=3,jf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ba(e){function i(I){return Mc(I,e)}Ur!==null&&Mc(Ur,e),kr!==null&&Mc(kr,e),Pr!==null&&Mc(Pr,e),gl.forEach(i),yl.forEach(i);for(var a=0;a<zr.length;a++){var l=zr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&zr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||$_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Hd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$_(a)}}}function J_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Fd(e){this._internalRoot=e}xc.prototype.render=Fd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();H_(a,l,e,i,null,null)},xc.prototype.unmount=Fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;H_(e.current,2,null,e,null,null),mc(),i[si]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=mu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<zr.length&&i!==0&&i<zr[a].priority;a++);zr.splice(a,0,e),a===0&&Y_(e)}};var Z_=t.version;if(Z_!=="19.2.3")throw Error(s(527,Z_,"19.2.3"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{zn=Lc.inject(ob),ze=Lc}catch{}}return El.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=sy,d=ay,_=oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=B_(e,1,!1,null,null,a,l,null,h,d,_,J_),e[si]=i.current,Rd(e),new Fd(i)},El.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=sy,_=ay,T=oy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=B_(e,1,!0,i,a??null,l,h,I,d,_,T,J_),i.context=j_(null),a=i.current,l=Tn(),l=ms(l),h=br(l),h.callback=null,Rr(a,h,l),a=l,i.current.lanes=a,fs(i,a),Ti(i),e[si]=i.current,Rd(e),new xc(i)},El.version="19.2.3",El}var lv;function _b(){if(lv)return Qd.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=yb(),Qd.exports}var vb=_b();const Eb=zE(vb);var uv="popstate";function Tb(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),fm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Ul(u))}function s(o,u){kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ab(t,n,s,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function kn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Sb(){return Math.random().toString(36).substring(2,10)}function cv(r,t){return{usr:r.state,key:r.key,idx:t}}function fm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Qs(t):t,state:n,key:t&&t.key||s||Sb()}}function Ul({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Ab(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),W=H==null?null:H-y;y=H,g&&g({action:m,location:F.location,delta:W})}function R(H,W){m="PUSH";let et=fm(F.location,H,W);n&&n(et,H),y=E()+1;let it=cv(et,y),Ct=F.createHref(et);try{f.pushState(it,"",Ct)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(Ct)}u&&g&&g({action:m,location:F.location,delta:1})}function U(H,W){m="REPLACE";let et=fm(F.location,H,W);n&&n(et,H),y=E();let it=cv(et,y),Ct=F.createHref(et);f.replaceState(it,"",Ct),u&&g&&g({action:m,location:F.location,delta:0})}function X(H){return bb(H)}let F={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(uv,S),g=H,()=>{o.removeEventListener(uv,S),g=null}},createHref(H){return t(o,H)},createURL:X,encodeLocation(H){let W=X(H);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:U,go(H){return f.go(H)}};return F}function bb(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ul(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function BE(r,t,n="/"){return Rb(r,t,n,!1)}function Rb(r,t,n,s){let o=typeof t=="string"?Qs(t):t,u=er(o.pathname||"/",n);if(u==null)return null;let f=jE(r);wb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=kb(u);m=Lb(f[g],y,s)}return m}function jE(r,t=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=tr([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),jE(f.children,t,R,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:Vb(S,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of HE(f.path))u(f,m,!0,g)}),t}function HE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function wb(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:xb(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Cb=/^:[\w-]+$/,Ib=3,Db=2,Ob=1,Nb=10,Mb=-2,hv=r=>r==="*";function Vb(r,t){let n=r.split("/"),s=n.length;return n.some(hv)&&(s+=Mb),t&&(s+=Db),n.filter(o=>!hv(o)).reduce((o,u)=>o+(Cb.test(u)?Ib:u===""?Ob:Nb),s)}function xb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Lb(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:tr([u,S.pathname]),pathnameBase:jb(tr([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=tr([u,S.pathnameBase]))}return f}function eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Ub(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let X=m[R]||"";f=u.slice(0,u.length-X.length).replace(/(.)\/+$/,"$1")}const U=m[R];return S&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function Ub(r,t=!1,n=!0){kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function kb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function er(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pb=r=>qE.test(r);function zb(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Qs(r):r,u;if(n)if(Pb(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=fv(n.substring(1),"/"):u=fv(n,t)}else u=t;return{pathname:u,search:Hb(s),hash:qb(o)}}function fv(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FE(r){let t=Bb(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function GE(r,t,n,s=!1){let o;typeof r=="string"?o=Qs(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),Jd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Jd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Jd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?t[S]:"/"}let g=zb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),jb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,qb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Fb=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Gb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Kb(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function QE(r,t){let n=r;if(typeof n!="string"||!qE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(KE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=er(f.pathname,t);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var Qb=["GET",...YE];new Set(Qb);var ao=Q.createContext(null);ao.displayName="DataRouter";var Sh=Q.createContext(null);Sh.displayName="DataRouterState";var Yb=Q.createContext(!1),XE=Q.createContext({isTransitioning:!1});XE.displayName="ViewTransition";var Xb=Q.createContext(new Map);Xb.displayName="Fetchers";var $b=Q.createContext(null);$b.displayName="Await";var Pn=Q.createContext(null);Pn.displayName="Navigation";var Ql=Q.createContext(null);Ql.displayName="Location";var Mi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var jm=Q.createContext(null);jm.displayName="RouteError";var $E="REACT_ROUTER_ERROR",Jb="REDIRECT",Zb="ROUTE_ERROR_RESPONSE";function Wb(r){if(r.startsWith(`${$E}:${Jb}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function t1(r){if(r.startsWith(`${$E}:${Zb}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Fb(t.status,t.statusText,t.data)}catch{}}function e1(r,{relative:t}={}){le(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Q.useContext(Pn),{hash:o,pathname:u,search:f}=$l(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Yl(){return Q.useContext(Ql)!=null}function Ys(){return le(Yl(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ql).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZE(r){Q.useContext(Pn).static||Q.useLayoutEffect(r)}function Xl(){let{isDataRoute:r}=Q.useContext(Mi);return r?p1():n1()}function n1(){le(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(ao),{basename:t,navigator:n}=Q.useContext(Pn),{matches:s}=Q.useContext(Mi),{pathname:o}=Ys(),u=JSON.stringify(FE(s)),f=Q.useRef(!1);return ZE(()=>{f.current=!0}),Q.useCallback((g,y={})=>{if(kn(f.current,JE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=GE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:tr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}Q.createContext(null);function i1(){let{matches:r}=Q.useContext(Mi),t=r[r.length-1];return t?t.params:{}}function $l(r,{relative:t}={}){let{matches:n}=Q.useContext(Mi),{pathname:s}=Ys(),o=JSON.stringify(FE(n));return Q.useMemo(()=>GE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function r1(r,t){return WE(r,t)}function WE(r,t,n,s,o){le(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Q.useContext(Pn),{matches:f}=Q.useContext(Mi),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";eT(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let R=Ys(),U;if(t){let et=typeof t=="string"?Qs(t):t;le(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),U=et}else U=R;let X=U.pathname||"/",F=X;if(E!=="/"){let et=E.replace(/^\//,"").split("/");F="/"+X.replace(/^\//,"").split("/").slice(et.length).join("/")}let H=BE(r,{pathname:F});kn(S||H!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),kn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=u1(H&&H.map(et=>Object.assign({},et,{params:Object.assign({},g,et.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),f,n,s,o);return t&&W?Q.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},W):W}function s1(){let r=m1(),t=Gb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:u},"ErrorBoundary")," or"," ",Q.createElement("code",{style:u},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),n?Q.createElement("pre",{style:o},n):null,f)}var a1=Q.createElement(s1,null),tT=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=t1(r.digest);n&&(r=n)}let t=r!==void 0?Q.createElement(Mi.Provider,{value:this.props.routeContext},Q.createElement(jm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?Q.createElement(o1,{error:r},t):t}};tT.contextType=Yb;var Zd=new WeakMap;function o1({children:r,error:t}){let{basename:n}=Q.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=Wb(t.digest);if(s){let o=Zd.get(t);if(o)throw o;let u=QE(s.location,n);if(KE&&!Zd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Zd.set(t,f),f}return Q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function l1({routeContext:r,match:t,children:n}){let s=Q.useContext(ao);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Mi.Provider,{value:r},n)}function u1(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:R,errors:U}=n,X=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!U||U[S.route.id]===void 0);if(S.route.lazy||X){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Kb(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,R)=>{let U,X=!1,F=null,H=null;n&&(U=f&&S.route.id?f[S.route.id]:void 0,F=S.route.errorElement||a1,m&&(g<0&&R===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,H=null):g===R&&(X=!0,H=S.route.hydrateFallbackElement||null)));let W=t.concat(u.slice(0,R+1)),et=()=>{let it;return U?it=F:X?it=H:S.route.Component?it=Q.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=E,Q.createElement(l1,{match:S,routeContext:{outlet:E,matches:W,isDataRoute:n!=null},children:it})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?Q.createElement(tT,{location:n.location,revalidation:n.revalidation,component:F,error:U,children:et(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:y}):et()},null)}function Hm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c1(r){let t=Q.useContext(ao);return le(t,Hm(r)),t}function h1(r){let t=Q.useContext(Sh);return le(t,Hm(r)),t}function f1(r){let t=Q.useContext(Mi);return le(t,Hm(r)),t}function qm(r){let t=f1(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function d1(){return qm("useRouteId")}function m1(){let r=Q.useContext(jm),t=h1("useRouteError"),n=qm("useRouteError");return r!==void 0?r:t.errors?.[n]}function p1(){let{router:r}=c1("useNavigate"),t=qm("useNavigate"),n=Q.useRef(!1);return ZE(()=>{n.current=!0}),Q.useCallback(async(o,u={})=>{kn(n.current,JE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var dv={};function eT(r,t,n){!t&&!dv[r]&&(dv[r]=!0,kn(!1,n))}Q.memo(g1);function g1({routes:r,future:t,state:n,onError:s}){return WE(r,void 0,n,s,t)}function Al(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y1({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=Qs(n));let{pathname:y="/",search:E="",hash:S="",state:R=null,key:U="default"}=n,X=Q.useMemo(()=>{let F=er(y,m);return F==null?null:{location:{pathname:F,search:E,hash:S,state:R,key:U},navigationType:s}},[m,y,E,S,R,U,s]);return kn(X!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:Q.createElement(Pn.Provider,{value:g},Q.createElement(Ql.Provider,{children:t,value:X}))}function _1({children:r,location:t}){return r1(dm(r),t)}function dm(r,t=[]){let n=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...t,o];if(s.type===Q.Fragment){n.push.apply(n,dm(s.props.children,u));return}le(s.type===Al,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=dm(s.props.children,u)),n.push(f)}),n}var qc="get",Fc="application/x-www-form-urlencoded";function Ah(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function v1(r){return Ah(r)&&r.tagName.toLowerCase()==="button"}function E1(r){return Ah(r)&&r.tagName.toLowerCase()==="form"}function T1(r){return Ah(r)&&r.tagName.toLowerCase()==="input"}function S1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function A1(r,t){return r.button===0&&(!t||t==="_self")&&!S1(r)}var Uc=null;function b1(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var R1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(r){return r!=null&&!R1.has(r)?(kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function w1(r,t){let n,s,o,u,f;if(E1(r)){let m=r.getAttribute("action");s=m?er(m,t):null,n=r.getAttribute("method")||qc,o=Wd(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(v1(r)||T1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?er(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=Wd(r.getAttribute("formenctype"))||Wd(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!b1()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(Ah(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function C1(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&er(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function I1(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function O1(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await I1(u,n);return f.links?f.links():[]}return[]}));return x1(s.flat(1).filter(D1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function N1(r,t,{includeHydrateFallback:n}={}){return M1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function M1(r){return[...new Set(r)]}function V1(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function x1(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(V1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function nT(){let r=Q.useContext(ao);return Fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function L1(){let r=Q.useContext(Sh);return Fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gm=Q.createContext(void 0);Gm.displayName="FrameworkContext";function iT(){let r=Q.useContext(Gm);return Fm(r,"You must render this element inside a <HydratedRouter> element"),r}function U1(r,t){let n=Q.useContext(Gm),[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,R=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=W=>{W.forEach(et=>{f(et.isIntersecting)})},H=new IntersectionObserver(F,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let U=()=>{o(!0)},X=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Tl(m,U),onBlur:Tl(g,X),onMouseEnter:Tl(y,U),onMouseLeave:Tl(E,X),onTouchStart:Tl(S,U)}]:[!1,R,{}]}function Tl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function k1({page:r,...t}){let{router:n}=nT(),s=Q.useMemo(()=>BE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Q.createElement(z1,{page:r,matches:s,...t}):null}function P1(r){let{manifest:t,routeModules:n}=iT(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let u=!1;return O1(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function z1({page:r,matches:t,...n}){let s=Ys(),{future:o,manifest:u,routeModules:f}=iT(),{basename:m}=nT(),{loaderData:g,matches:y}=L1(),E=Q.useMemo(()=>mv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=Q.useMemo(()=>mv(r,t,y,u,s,"assets"),[r,t,y,u,s]),R=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,H=!1;if(t.forEach(et=>{let it=u.routes[et.route.id];!it||!it.hasLoader||(!E.some(Ct=>Ct.route.id===et.route.id)&&et.route.id in g&&f[et.route.id]?.shouldRevalidate||it.hasClientLoader?H=!0:F.add(et.route.id))}),F.size===0)return[];let W=C1(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return H&&F.size>0&&W.searchParams.set("_routes",t.filter(et=>F.has(et.route.id)).map(et=>et.route.id).join(",")),[W.pathname+W.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),U=Q.useMemo(()=>N1(S,u),[S,u]),X=P1(S);return Q.createElement(Q.Fragment,null,R.map(F=>Q.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),U.map(F=>Q.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),X.map(({key:F,link:H})=>Q.createElement("link",{key:F,nonce:n.nonce,...H})))}function B1(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j1&&(window.__reactRouterVersion="7.12.0")}catch{}function H1({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=Q.useRef();o.current==null&&(o.current=Tb({window:s,v5Compat:!0}));let u=o.current,[f,m]=Q.useState({action:u.action,location:u.location}),g=Q.useCallback(y=>{n===!1?m(y):Q.startTransition(()=>m(y))},[n]);return Q.useLayoutEffect(()=>u.listen(g),[u,g]),Q.createElement(y1,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sT=Q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...U},X){let{basename:F,unstable_useTransitions:H}=Q.useContext(Pn),W=typeof y=="string"&&rT.test(y),et=QE(y,F);y=et.to;let it=e1(y,{relative:o}),[Ct,It,wt]=U1(s,U),D=K1(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:H});function b(V){t&&t(V),V.defaultPrevented||D(V)}let w=Q.createElement("a",{...U,...wt,href:et.absoluteURL||it,onClick:et.isExternal||u?t:b,ref:B1(X,It),target:g,"data-discover":!W&&n==="render"?"true":void 0});return Ct&&!W?Q.createElement(Q.Fragment,null,w,Q.createElement(k1,{page:it})):w});sT.displayName="Link";var q1=Q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=$l(f,{relative:y.relative}),R=Ys(),U=Q.useContext(Sh),{navigator:X,basename:F}=Q.useContext(Pn),H=U!=null&&J1(S)&&m===!0,W=X.encodeLocation?X.encodeLocation(S).pathname:S.pathname,et=R.pathname,it=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;n||(et=et.toLowerCase(),it=it?it.toLowerCase():null,W=W.toLowerCase()),it&&F&&(it=er(it,F)||it);const Ct=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let It=et===W||!o&&et.startsWith(W)&&et.charAt(Ct)==="/",wt=it!=null&&(it===W||!o&&it.startsWith(W)&&it.charAt(W.length)==="/"),D={isActive:It,isPending:wt,isTransitioning:H},b=It?t:void 0,w;typeof s=="function"?w=s(D):w=[s,It?"active":null,wt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return Q.createElement(sT,{...y,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:m},typeof g=="function"?g(D):g)});q1.displayName="NavLink";var F1=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=qc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...U},X)=>{let{unstable_useTransitions:F}=Q.useContext(Pn),H=X1(),W=$1(m,{relative:y}),et=f.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&rT.test(m),Ct=It=>{if(g&&g(It),It.defaultPrevented)return;It.preventDefault();let wt=It.nativeEvent.submitter,D=wt?.getAttribute("formmethod")||f,b=()=>H(wt||It.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R});F&&n!==!1?Q.startTransition(()=>b()):b()};return Q.createElement("form",{ref:X,method:et,action:W,onSubmit:s?g:Ct,...U,"data-discover":!it&&r==="render"?"true":void 0})});F1.displayName="Form";function G1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aT(r){let t=Q.useContext(ao);return le(t,G1(r)),t}function K1(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=Xl(),E=Ys(),S=$l(r,{relative:u});return Q.useCallback(R=>{if(A1(R,t)){R.preventDefault();let U=n!==void 0?n:Ul(E)===Ul(S),X=()=>y(r,{replace:U,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?Q.startTransition(()=>X()):X()}},[E,y,S,n,s,t,r,o,u,f,m,g])}var Q1=0,Y1=()=>`__${String(++Q1)}__`;function X1(){let{router:r}=aT("useSubmit"),{basename:t}=Q.useContext(Pn),n=d1(),s=r.fetch,o=r.navigate;return Q.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:S}=w1(u,t);if(f.navigate===!1){let R=f.fetcherKey||Y1();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function $1(r,{relative:t}={}){let{basename:n}=Q.useContext(Pn),s=Q.useContext(Mi);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...$l(r||".",{relative:t})},f=Ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),Ul(u)}function J1(r,{relative:t}={}){let n=Q.useContext(XE);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aT("useViewTransitionState"),o=$l(r,{relative:t});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}function Z1(){const r=Xl();return at.jsxs("div",{style:{padding:40},children:[at.jsx("h2",{children:"Magic Chess Draft"}),at.jsx("p",{children:"Select your role:"}),at.jsx("button",{onClick:()=>r("/referee"),children:"I am a Referee"}),at.jsx("br",{}),at.jsx("br",{}),at.jsx("button",{onClick:()=>r("/join"),children:"I am a Drafter"})]})}const W1=()=>{};var pv={};const oT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},tR=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,U=y&63;g||(U=64,f||(R=64)),s.push(n[E],n[S],n[R],n[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(oT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):tR(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new eR;const R=u<<2|m>>4;if(s.push(R),y!==64){const U=m<<4&240|y>>2;if(s.push(U),S!==64){const X=y<<6&192|S;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nR=function(r){const t=oT(r);return lT.encodeByteArray(t,!0)},nh=function(r){return nR(r).replace(/\./g,"")},uT=function(r){try{return lT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rR=()=>iR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof pv>"u")return;const r=pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&uT(r[1]);return t&&JSON.parse(t)},bh=()=>{try{return W1()||rR()||sR()||aR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cT=r=>bh()?.emulatorHosts?.[r],oR=r=>{const t=cT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},hT=()=>bh()?.config,fT=r=>bh()?.[`_${r}`];class lR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dT(r){return(await fetch(r,{credentials:"include"})).ok}function uR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Il={};function cR(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function hR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let gv=!1;function mT(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Il[r]===t||Il[r]||gv)return;Il[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=cR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,U){R.setAttribute("width","24"),R.setAttribute("id",U),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{gv=!0,f()},R}function E(R,U){R.setAttribute("id",U),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=hR(s),U=n("text"),X=document.getElementById(U)||document.createElement("span"),F=n("learnmore"),H=document.getElementById(F)||document.createElement("a"),W=n("preprendIcon"),et=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;m(it),E(H,F);const Ct=y();g(et,W),it.append(et,X,H,Ct),document.body.appendChild(it)}u?(X.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function dR(){const r=bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _R(){return!dR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vR(){try{return typeof indexedDB=="object"}catch{return!1}}function ER(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const TR="FirebaseError";class or extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=TR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jl.prototype.create)}}class Jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?SR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function SR(r,t){return r.replace(AR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const AR=/\{\$([^}]+)}/g;function bR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Hs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(yv(u)&&yv(f)){if(!Hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function yv(r){return r!==null&&typeof r=="object"}function Zl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function RR(r,t){const n=new wR(r,t);return n.subscribe.bind(n)}class wR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");CR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CR(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}function fn(r){return r&&r._delegate?r._delegate:r}class qs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zs="[DEFAULT]";class IR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new lR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OR(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:DR(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DR(r){return r===zs?void 0:r}function OR(r){return r.instantiationMode==="EAGER"}class NR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new IR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const MR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},VR=Vt.INFO,xR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},LR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=xR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Km{constructor(t){this.name=t,this._logLevel=VR,this._logHandler=LR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const UR=(r,t)=>t.some(n=>r instanceof n);let _v,vv;function kR(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,mm=new WeakMap,gT=new WeakMap,em=new WeakMap,Qm=new WeakMap;function zR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Qr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&pT.set(n,r)}).catch(()=>{}),Qm.set(t,r),t}function BR(r){if(mm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});mm.set(r,t)}let pm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return mm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||gT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function jR(r){pm=r(pm)}function HR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(nm(this),t,...n);return gT.set(s,t.sort?t.sort():[t]),Qr(s)}:PR().includes(r)?function(...t){return r.apply(nm(this),t),Qr(pT.get(this))}:function(...t){return Qr(r.apply(nm(this),t))}}function qR(r){return typeof r=="function"?HR(r):(r instanceof IDBTransaction&&BR(r),UR(r,kR())?new Proxy(r,pm):r)}function Qr(r){if(r instanceof IDBRequest)return zR(r);if(em.has(r))return em.get(r);const t=qR(r);return t!==r&&(em.set(r,t),Qm.set(t,r)),t}const nm=r=>Qm.get(r);function FR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const GR=["get","getKey","getAll","getAllKeys","count"],KR=["put","add","delete","clear"],im=new Map;function Ev(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(im.get(t))return im.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=KR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||GR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return im.set(t,u),u}jR(r=>({...r,get:(t,n,s)=>Ev(t,n)||r.get(t,n,s),has:(t,n)=>!!Ev(t,n)||r.has(t,n)}));class QR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YR(r){return r.getComponent()?.type==="VERSION"}const gm="@firebase/app",Tv="0.14.7";const nr=new Km("@firebase/app"),XR="@firebase/app-compat",$R="@firebase/analytics-compat",JR="@firebase/analytics",ZR="@firebase/app-check-compat",WR="@firebase/app-check",tw="@firebase/auth",ew="@firebase/auth-compat",nw="@firebase/database",iw="@firebase/data-connect",rw="@firebase/database-compat",sw="@firebase/functions",aw="@firebase/functions-compat",ow="@firebase/installations",lw="@firebase/installations-compat",uw="@firebase/messaging",cw="@firebase/messaging-compat",hw="@firebase/performance",fw="@firebase/performance-compat",dw="@firebase/remote-config",mw="@firebase/remote-config-compat",pw="@firebase/storage",gw="@firebase/storage-compat",yw="@firebase/firestore",_w="@firebase/ai",vw="@firebase/firestore-compat",Ew="firebase",Tw="12.8.0";const ym="[DEFAULT]",Sw={[gm]:"fire-core",[XR]:"fire-core-compat",[JR]:"fire-analytics",[$R]:"fire-analytics-compat",[WR]:"fire-app-check",[ZR]:"fire-app-check-compat",[tw]:"fire-auth",[ew]:"fire-auth-compat",[nw]:"fire-rtdb",[iw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[sw]:"fire-fn",[aw]:"fire-fn-compat",[ow]:"fire-iid",[lw]:"fire-iid-compat",[uw]:"fire-fcm",[cw]:"fire-fcm-compat",[hw]:"fire-perf",[fw]:"fire-perf-compat",[dw]:"fire-rc",[mw]:"fire-rc-compat",[pw]:"fire-gcs",[gw]:"fire-gcs-compat",[yw]:"fire-fst",[vw]:"fire-fst-compat",[_w]:"fire-vertex","fire-js":"fire-js",[Ew]:"fire-js-all"};const ih=new Map,Aw=new Map,_m=new Map;function Sv(r,t){try{r.container.addComponent(t)}catch(n){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Za(r){const t=r.name;if(_m.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;_m.set(t,r);for(const n of ih.values())Sv(n,r);for(const n of Aw.values())Sv(n,r);return!0}function Ym(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new Jl("app","Firebase",bw);class Rw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const lo=Tw;function yT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:ym,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=hT()),!n)throw Yr.create("no-options");const u=ih.get(o);if(u){if(Hs(n,u.options)&&Hs(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const f=new NR(o);for(const g of _m.values())f.addComponent(g);const m=new Rw(n,s,f);return ih.set(o,m),m}function _T(r=ym){const t=ih.get(r);if(!t&&r===ym&&hT())return yT();if(!t)throw Yr.create("no-app",{appName:r});return t}function Xr(r,t,n){let s=Sw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}Za(new qs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const ww="firebase-heartbeat-database",Cw=1,kl="firebase-heartbeat-store";let rm=null;function vT(){return rm||(rm=FR(ww,Cw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Yr.create("idb-open",{originalErrorMessage:r.message})})),rm}async function Iw(r){try{const n=(await vT()).transaction(kl),s=await n.objectStore(kl).get(ET(r));return await n.done,s}catch(t){if(t instanceof or)nr.warn(t.message);else{const n=Yr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(n.message)}}}async function Av(r,t){try{const s=(await vT()).transaction(kl,"readwrite");await s.objectStore(kl).put(t,ET(r)),await s.done}catch(n){if(n instanceof or)nr.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}const Dw=1024,Ow=30;class Nw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ow){const o=xw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bv(),{heartbeatsToSend:n,unsentEntries:s}=Mw(this._heartbeatsCache.heartbeats),o=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return nr.warn(t),""}}}function bv(){return new Date().toISOString().substring(0,10)}function Mw(r,t=Dw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Rv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Vw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vR()?ER().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Iw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Rv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function xw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function Lw(r){Za(new qs("platform-logger",t=>new QR(t),"PRIVATE")),Za(new qs("heartbeat",t=>new Nw(t),"PRIVATE")),Xr(gm,Tv,r),Xr(gm,Tv,"esm2020"),Xr("fire-js","")}Lw("");var Uw="firebase",kw="12.8.0";Xr(Uw,kw,"app");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,TT;(function(){var r;function t(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(V,N,L){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return b.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)V[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],N=D.g[2];let L=D.g[3],C;C=b+(L^w&(N^L))+V[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(N^L&(w^N))+V[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(w^N^L)+V[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(N^(w|~L))+V[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=w;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(V[N++]=D.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<b;)if(V[N++]=D[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)D[b++]=this.g[w]>>>V&255;return D};function u(D,b){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function f(D,b){this.h=b;const w=[];let V=!0;for(let N=D.length-1;N>=0;N--){const L=D[N]|0;V&&L==b||(w[N]=L,V=!1)}this.g=w}var m={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return H(y(-D));const b=[];let w=1;for(let V=0;D>=w;V++)b[V]=D/w|0,w*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return H(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let V=S;for(let L=0;L<D.length;L+=8){var N=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(C))):(V=V.j(w),V=V.add(y(C)))}return V}var S=g(0),R=g(1),U=g(16777216);r=f.prototype,r.m=function(){if(F(this))return-H(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(X(this))return"0";if(F(this))return"-"+H(this).toString(D);const b=y(Math.pow(D,6));var w=this;let V="";for(;;){const N=Ct(w,b).g;w=W(w,N.j(b));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=N,X(w))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function X(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function F(D){return D.h==-1}r.l=function(D){return D=W(this,D),F(D)?-1:X(D)?0:1};function H(D){const b=D.g.length,w=[];for(let V=0;V<b;V++)w[V]=~D.g[V];return new f(w,~D.h).add(R)}r.abs=function(){return F(this)?H(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(D.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=C>>>16,L&=65535,C&=65535,w[N]=C<<16|L}return new f(w,w[w.length-1]&-2147483648?-1:0)};function W(D,b){return D.add(H(b))}r.j=function(D){if(X(this)||X(D))return S;if(F(this))return F(D)?H(this).j(H(D)):H(H(this).j(D));if(F(D))return H(this.j(H(D)));if(this.l(U)<0&&D.l(U)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<D.g.length;N++){const L=this.i(V)>>>16,C=this.i(V)&65535,ie=D.i(N)>>>16,De=D.i(N)&65535;w[2*V+2*N]+=C*De,et(w,2*V+2*N),w[2*V+2*N+1]+=L*De,et(w,2*V+2*N+1),w[2*V+2*N+1]+=C*ie,et(w,2*V+2*N+1),w[2*V+2*N+2]+=L*ie,et(w,2*V+2*N+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new f(w,0)};function et(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function it(D,b){this.g=D,this.h=b}function Ct(D,b){if(X(b))throw Error("division by zero");if(X(D))return new it(S,S);if(F(D))return b=Ct(H(D),b),new it(H(b.g),H(b.h));if(F(b))return b=Ct(D,H(b)),new it(H(b.g),b.h);if(D.g.length>30){if(F(D)||F(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,V=b;V.l(D)<=0;)w=It(w),V=It(V);var N=wt(w,1),L=wt(V,1);for(V=wt(V,2),w=wt(w,2);!X(V);){var C=L.add(V);C.l(D)<=0&&(N=N.add(w),L=C),V=wt(V,1),w=wt(w,1)}return b=W(D,N.j(b)),new it(N,b)}for(N=S;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(w),C=L.j(b);F(C)||C.l(D)>0;)w-=V,L=y(w),C=L.j(b);X(L)&&(L=R),N=N.add(L),D=W(D,C)}return new it(N,D)}r.B=function(D){return Ct(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&D.i(V);return new f(w,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|D.i(V);return new f(w,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^D.i(V);return new f(w,this.h^D.h)};function It(D){const b=D.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(w,D.h)}function wt(D,b){const w=b>>5;b%=32;const V=D.g.length-w,N=[];for(let L=0;L<V;L++)N[L]=b>0?D.i(L+w)>>>b|D.i(L+w+1)<<32-b:D.i(L+w);return new f(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,TT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,$r=f}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ST,bl,AT,Gc,vm,bT,RT,wT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in v))break t;v=v[k]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,k,j){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return p.prototype[k].apply(A,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function X(c,p){for(let A=1;A<arguments.length;A++){const k=arguments[A];var v=typeof k;if(v=v!="object"?v:k?Array.isArray(k)?"array":v:"null",v=="array"||v=="object"&&typeof k.length=="number"){v=c.length||0;const j=k.length||0;c.length=v+j;for(let nt=0;nt<j;nt++)c[v+nt]=k[nt]}else c.push(k)}}class F{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function H(c){f.setTimeout(()=>{throw c},0)}function W(){var c=D;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class et{constructor(){this.h=this.g=null}add(p,v){const A=it.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new F(()=>new Ct,c=>c.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,wt=!1,D=new et,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(w)}};function w(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){H(v)}var p=it;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ie(c,p){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}S(ie,N),ie.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),K=0;function rt(c,p,v,A,k){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=k,this.key=++K,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Gt(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,p){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)c[v]=A[v];for(let j=0;j<J.length;j++)v=J[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function lt(c){this.src=c,this.g={},this.h=0}lt.prototype.add=function(c,p,v,A,k){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const nt=bt(c,p,A,k);return nt>-1?(p=c[nt],v||(p.fa=!1)):(p=new rt(p,this.src,j,!!A,k),p.fa=v,c.push(p)),p};function _t(c,p){const v=p.type;if(v in c.g){var A=c.g[v],k=Array.prototype.indexOf.call(A,p,void 0),j;(j=k>=0)&&Array.prototype.splice.call(A,k,1),j&&(dt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,p,v,A){for(let k=0;k<c.length;++k){const j=c[k];if(!j.da&&j.listener==p&&j.capture==!!v&&j.ha==A)return k}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),Oe={};function re(c,p,v,A,k){if(Array.isArray(p)){for(let j=0;j<p.length;j++)re(c,p[j],v,A,k);return null}return v=yo(v),c&&c[De]?c.J(p,v,m(A)?!!A.capture:!1,k):ls(c,p,v,!1,A,k)}function ls(c,p,v,A,k,j){if(!p)throw Error("Invalid event type");const nt=m(k)?!!k.capture:!!k;let St=us(c);if(St||(c[kt]=St=new lt(c)),v=St.add(p,v,A,nt,j),v.proxy)return v;if(A=Js(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(k=nt),k===void 0&&(k=!1),c.addEventListener(p.toString(),A,k);else if(c.attachEvent)c.attachEvent(ti(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function c(v){return p.call(c.src,c.listener,v)}const p=po;return c}function Zs(c,p,v,A,k){if(Array.isArray(p))for(var j=0;j<p.length;j++)Zs(c,p[j],v,A,k);else A=m(A)?!!A.capture:!!A,v=yo(v),c&&c[De]?(c=c.i,j=String(p).toString(),j in c.g&&(p=c.g[j],v=bt(p,v,A,k),v>-1&&(dt(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[j],c.h--)))):c&&(c=us(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bt(p,v,A,k)),(v=c>-1?p[c]:null)&&Ws(v))}function Ws(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[De])_t(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(ti(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=us(p))?(_t(v,c),v.h==0&&(v.src=null,p[kt]=null)):dt(c)}}}function ti(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function po(c,p){if(c.da)c=!0;else{p=new ie(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&Ws(c),c=v.call(A,p)}return c}function us(c){return c=c[kt],c instanceof lt?c:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(c){return typeof c=="function"?c:(c[go]||(c[go]=function(p){return c.handleEvent(p)}),c[go])}function ye(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}S(ye,V),ye.prototype[De]=!0,ye.prototype.removeEventListener=function(c,p,v,A){Zs(this,c,p,v,A)};function Ne(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new N(p,c);else if(p instanceof N)p.target=p.target||c;else{var k=p;p=new N(A,c),st(p,k)}k=!0;let j,nt;if(v)for(nt=v.length-1;nt>=0;nt--)j=p.g=v[nt],k=lr(j,A,!0,p)&&k;if(j=p.g=c,k=lr(j,A,!0,p)&&k,k=lr(j,A,!1,p)&&k,v)for(nt=0;nt<v.length;nt++)j=p.g=v[nt],k=lr(j,A,!1,p)&&k}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[p],c.h--}}this.G=null},ye.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ye.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function lr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let k=!0;for(let j=0;j<p.length;++j){const nt=p[j];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,de=nt.ha||nt.src;nt.fa&&_t(c.i,nt),k=St.call(de,A)!==!1&&k}}return k&&!A.defaultPrevented}function Kh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function ou(c){c.g=Kh(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class We extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){V.call(this),this.h=c,this.g={}}S(cs,V);var _o=[];function vo(c){zt(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ws(p)},c),c.g={}}cs.prototype.N=function(){cs.Z.N.call(this),vo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=f.JSON.stringify,Qh=f.JSON.parse,lu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function uu(){}function cu(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function An(){N.call(this,"c")}S(An,N);var fe={},hu=null;function ta(){return hu=hu||new ye}fe.Ia="serverreachability";function fu(c){N.call(this,fe.Ia,c)}S(fu,N);function ei(c){const p=ta();Ne(p,new fu(p))}fe.STAT_EVENT="statevent";function hs(c,p){N.call(this,fe.STAT_EVENT,c),this.stat=p}S(hs,N);function _e(c){const p=ta();Ne(p,new hs(p,c))}fe.Ja="timingevent";function ni(c,p){N.call(this,fe.Ja,c),this.size=p}S(ni,N);function ii(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Yh(c,p,v,A,k,j){c.info(function(){if(c.g)if(j){var nt="",St=j.split("&");for(let Ht=0;Ht<St.length;Ht++){var de=St[Ht].split("=");if(de.length>1){const se=de[0];de=de[1];const Cn=se.split("_");nt=Cn.length>=2&&Cn[1]=="type"?nt+(se+"="+de+"&"):nt+(se+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+p+`
`+v+`
`+nt})}function du(c,p,v,A,k,j,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+p+`
`+v+`
`+j+" "+nt})}function ri(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Xh(c,v)+(A?" "+A:"")})}function fs(c,p){c.info(function(){return"TIMEOUT: "+p})}Bn.prototype.info=function(){};function Xh(c,p){if(!c.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return ur(j)}catch{return p}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function ms(){}S(ms,uu),ms.prototype.g=function(){return new XMLHttpRequest},To=new ms;function Vi(c){return encodeURIComponent(String(c))}function mu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function jn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Le={};function si(c,p,v){c.M=1,c.A=ps(Te(p)),c.u=v,c.R=!0,ea(c,null)}function ea(c,p){c.F=Date.now(),ai(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),sa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=Du(c.j,v?p:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(_o[0]=k.toString()),k=_o);for(let j=0;j<k.length;j++){const nt=re(v,k[j],A||p.handleEvent,!1,p.h||p);if(!nt)break;p.g[nt.key]=nt}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ei(),Yh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Gn(c)==3?p.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Gn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||de==7||(de==8||Ht<=0?ei(3):ei(2)),oi(this);var p=this.g.ca();this.X=p;var v=$h(this);if(this.o=p==200,du(this.i,this.v,this.B,this.l,this.S,St,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var j=A;break e}}j=null}if(c=j)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=gu(this,v),se==Le){St==4&&(this.m=4,_e(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(nt),nt.P=!0,_e(11))}}else ri(this.i,this.l,v,null),li(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?Ru(this.j,this):(this.o=!1,ai(this)))}else Li(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}};function $h(c){if(!pu(c))return c.g.la();const p=Be(c.g);if(p==="")return"";let v="";const A=p.length,k=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(p[j],{stream:!(k&&j==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function gu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Le:(v=Number(p.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>p.length?Le:(p=p.slice(A,A+v),c.C=A+v,p)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ai(c){c.T=Date.now()+c.H,na(c,c.H)}function na(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),p)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ei(),_e(17)),dn(this),this.m=2,bn(this)):na(this,this.T-c)};function bn(c){c.j.I==0||c.K||Ru(c.j,c)}function dn(c){oi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,vo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function li(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ca(v),yr(v);else break t;Ss(v),_e(18)}}else v.xa=k[1],0<v.xa-v.K&&k[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ca(v),!C(p))for(k=v.Ba.g.parse(p),p=0;p<k.length;p++){let Ht=k[p];const se=Ht[0];if(!(se<=v.K))if(v.K=se,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=Ht[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Kn=Ht[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const As=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var j=A.h;j.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(bo(j,j.h),j.h=null))}if(A.G){const ha=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(A.wa=ha,Kt(A.J,A.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=Iu(A,A.L?A.ba:null,A.W),nt.L){Ro(A.h,nt);var St=nt,de=A.O;de&&(St.H=de),St.D&&(oi(St),ai(St)),A.g=nt}else Au(A);v.i.length>0&&pi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(v,7):xo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,p){this.g=c,this.map=p}};function So(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ao(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function bo(c,p){c.g?c.g.add(p):c.h=p}function Ro(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}So.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return U(c.i)}var yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let k,j=null;A>=0?(k=c[v].substring(0,A),j=c[v].substring(A+1)):k=c[v],p(k,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof mn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.u),this.h=c.h,Co(this,Tu(c.i)),this.m=c.m):c&&(p=String(c).match(yu))?(this.l=!1,Ue(this,p[1]||"",!0),this.o=hi(p[2]||""),this.g=hi(p[3]||"",!0),cr(this,p[4]),this.h=hi(p[5]||"",!0),Co(this,p[6]||"",!0),this.m=hi(p[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}mn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(gs(p,ra,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(gs(p,ra,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gs(v,v.charAt(0)=="/"?Io:_u,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gs(v,vu)),c.join("")},mn.prototype.resolve=function(c){const p=Te(this);let v=!!c.j;v?Ue(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)cr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=p.h.lastIndexOf("/");k!=-1&&(A=p.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const j=[];for(let nt=0;nt<k.length;){const St=k[nt++];St=="."?A&&nt==k.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&nt==k.length&&j.push("")):(j.push(St),A=!0)}A=j.join("/")}else A=k}return v?p.h=A:v=c.i.toString()!=="",v?Co(p,Tu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Te(c){return new mn(c)}function Ue(c,p,v){c.j=v?hi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Co(c,p,v){p instanceof fr?(c.i=p,aa(c.i,c.l)):(v||(p=gs(p,hr)),c.i=new fr(p,c.l))}function Kt(c,p,v){c.i.set(p,v)}function ps(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ra=/[#\/\?@]/g,_u=/[#\?:]/g,Io=/[#\?]/g,hr=/[#\?@]/g,vu=/#/g;function fr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=fr.prototype,r.add=function(c,p){rn(this),this.i=null,c=dr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Eu(c,p){rn(c),p=dr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Do(c,p){return rn(c),p=dr(c,p),c.g.has(p)}r.forEach=function(c,p){rn(this),this.g.forEach(function(v,A){v.forEach(function(k){c.call(p,k,A,this)},this)},this)};function Oo(c,p){rn(c);let v=[];if(typeof p=="string")Do(c,p)&&(v=v.concat(c.g.get(dr(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return rn(this),this.i=null,c=dr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Oo(this,c),c.length>0?String(c[0]):p):p};function sa(c,p,v){Eu(c,p),v.length>0&&(c.i=null,c.g.set(dr(c,p),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const k=Vi(v);v=Oo(this,v);for(let j=0;j<v.length;j++){let nt=k;v[j]!==""&&(nt+="="+Vi(v[j])),c.push(nt)}}return this.i=c.join("&")};function Tu(c){const p=new fr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function dr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function aa(c,p){p&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const k=A.toLowerCase();A!=k&&(Eu(this,A),sa(this,k,v))},c)),c.j=p}function qn(c,p){const v=new Bn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function No(c,p){const v=new Bn,A=new AbortController,k=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(k),j.ok?Rn(v,"TestPingServer: ok",!0,p):Rn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(k),Rn(v,"TestPingServer: error",!1,p)})}function Rn(c,p,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function mr(){this.g=new lu}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,uu),fi.prototype.g=function(){return new ys(this.i,this.h)};function ys(c,p){ye.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ys,ye),r=ys.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?pr(this):Fn(this),this.readyState==3&&oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pr(this))},r.Na=function(c){this.g&&(this.response=c,pr(this))},r.ga=function(){this.g&&pr(this)};function pr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let p="";return zt(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function _s(c,p,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=wn(v),typeof c=="string"?v!=null&&Vi(v):Kt(c,p,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var di=/^https?$/i,Mo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){vs(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Mo,p,void 0)>=0)||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of v)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){vs(this,j)}};function vs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Vo(c),xi(c)}function Vo(c){c.A||(c.A=!0,Ne(c,"complete"),Ne(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ne(this,"complete"),Ne(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},r.Xa=function(){Es(this)};function Es(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ne(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var A;if(A=j===0){let nt=String(c.D).match(yu)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!di.test(nt?nt.toLowerCase():"")}v=A}if(v)Ne(c,"complete"),Ne(c,"success");else{c.o=6;try{var k=Gn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Vo(c)}}finally{xi(c)}}}}function xi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Ne(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Qh(p)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(c){const p={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=mu(c[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=p[k]||[];p[k]=j,j.push(v)}Gt(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function gr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new So(c&&c.concurrentRequestLimit),this.Ba=new mr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_e(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Iu(this,null,this.W),pi(this)};function xo(c){if(la(c),c.I==3){var p=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",p),Kt(v,"TYPE","terminate"),Ts(c,v),p=new jn(c,c.j,p),p.M=2,p.A=ps(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Du(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ai(p)}Cu(c)}function yr(c){c.g&&(Uo(c),c.g.cancel(),c.g=null)}function la(c){yr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!Ao(c.h)&&!c.m){c.m=!0;var p=c.Ea;It||b(),wt||(It(),wt=!0),D.add(p,c),c.D=0}}function ua(c,p){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,p),wu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new jn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),st(j,this.U)):j=this.U),this.u!==null||this.R||(k.J=j,j=null),this.S)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=Su(this,k,p),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),j&&(this.R?p="headers="+Vi(wn(j))+"&"+p:this.u&&_s(v,this.u,j)),bo(this.h,k),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",p),Kt(v,"SID","null"),k.U=!0,si(k,v,null)):si(k,v,p),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||Ao(this.h)||Lo(this))};function Lo(c,p){var v;p?v=p.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Ts(c,A),c.u&&c.o&&_s(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),bo(c.h,v),si(v,A,p)}function Ts(c,p){c.H&&zt(c.H,function(v,A){Kt(p,A,v)}),c.l&&zt({},function(v,A){Kt(p,A,v)})}function Su(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var k=c.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=k[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Ht=!0;for(let se=0;se<v;se++){var j=k[se].g;const Cn=k[se].map;if(j-=St,j<0)St=Math.max(0,k[se].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var nt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Kn]of nt){let Qn=Kn;m(Kn)&&(Qn=ur(Kn)),de.push(j+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw de.push(j+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Cn)}}if(Ht){nt=de.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),p.G=c,nt}function Au(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;It||b(),wt||(It(),wt=!0),D.add(p,c),c.A=0}}function Ss(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),wu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),yr(this),bu(this))};function Uo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function bu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Te(c.na);Kt(p,"RID","rpc"),Kt(p,"SID",c.M),Kt(p,"AID",c.K),Kt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(p,"TO",c.ia),Kt(p,"TYPE","xmlhttp"),Ts(c,p),c.u&&c.o&&_s(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ps(Te(p)),v.u=null,v.R=!0,ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,yr(this),Ss(this),_e(19))};function ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ru(c,p){var v=null;if(c.g==p){ca(c),Uo(c),c.g=null;var A=2}else if(ci(c.h,p))v=p.G,Ro(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var k=c.D;A=ta(),Ne(A,new ni(A,v)),pi(c)}else Au(c);else if(k=p.m,k==3||k==0&&p.X>0||!(A==1&&ua(c,p)||A==2&&Ss(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),k){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function wu(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function gi(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const k=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),ps(A),k?qn(A.toString(),v):No(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(p),Cu(c),la(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Cu(c){if(c.I=0,c.ja=[],c.l){const p=wo(c.h);(p.length!=0||c.i.length!=0)&&(X(c.ja,p),X(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Iu(c,p,v){var A=v instanceof mn?Te(v):new mn(v);if(A.g!="")p&&(A.g=p+"."+A.g),cr(A,A.u);else{var k=f.location;A=k.protocol,p=p?p+"."+k.hostname:k.hostname,k=+k.port;const j=new mn(null);A&&Ue(j,A),p&&(j.g=p),k&&cr(j,k),v&&(j.h=v),A=j}return v=c.G,p=c.wa,v&&p&&Kt(A,v,p),Kt(A,"VER",c.ka),Ts(c,A),A}function Du(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xt(new fi({ab:v})):new Xt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _r(){}_r.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){ye.call(this),this.g=new gr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ui(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xo(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=ur(c),c=v);p.i.push(new Ee(p.Ya++,c)),p.I==3&&pi(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,tn.Z.N.call(this)};function Nu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}S(Nu,ze);function Mu(){An.call(this),this.status=1}S(Mu,An);function Ui(c){this.g=c}S(Ui,Ou),Ui.prototype.ra=function(){Ne(this.g,"a")},Ui.prototype.qa=function(c){Ne(this.g,new Nu(c))},Ui.prototype.pa=function(c){Ne(this.g,new Mu)},Ui.prototype.oa=function(){Ne(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,wT=function(){return new _r},RT=function(){return ta()},bT=fe,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Gc=ds,Eo.COMPLETE="complete",AT=Eo,cu.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,bl=cu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,ST=Xt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let uo="12.8.0";function Pw(r){uo=r}const Fs=new Km("@firebase/firestore");function ja(){return Fs.logLevel}function ot(r,...t){if(Fs.logLevel<=Vt.DEBUG){const n=t.map(Xm);Fs.debug(`Firestore (${uo}): ${r}`,...n)}}function ir(r,...t){if(Fs.logLevel<=Vt.ERROR){const n=t.map(Xm);Fs.error(`Firestore (${uo}): ${r}`,...n)}}function Wa(r,...t){if(Fs.logLevel<=Vt.WARN){const n=t.map(Xm);Fs.warn(`Firestore (${uo}): ${r}`,...n)}}function Xm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,CT(r,s,n)}function CT(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||CT(t,o,s)}function Tt(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class IT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class Bw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new IT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Hw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Hw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Cv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Gw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class $m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Gw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function Em(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return sm(o)===sm(u)?xt(o,u):sm(o)?1:-1}return xt(r.length,t.length)}const Kw=55296,Qw=57343;function sm(r){const t=r.charCodeAt(0);return t>=Kw&&t<=Qw}function to(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const Iv="__name__";class Si{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Si.isNumericId(t),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(n)):Em(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class oe extends Si{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const Yw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return Yw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Ke([Iv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}function Xw(r,t,n){if(!n)throw new ht(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $w(r,t,n,s){if(t===!0&&s===!0)throw new ht(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Dv(r){if(!mt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function DT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(r);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Wl(r,t){if(!DT(r))throw new ht(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(tt.INVALID_ARGUMENT,n);return!0}const Ov=-62135596800,Nv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Nv);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ov)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ov;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function Jw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new Wr(o,mt.empty(),t)}function Zw(r){return new Wr(r.readTime,r.key,Pl)}class Wr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(vt.min(),mt.empty(),Pl)}static max(){return new Wr(vt.max(),mt.empty(),Pl)}}function Ww(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const tC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==tC)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function nC(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}class Rh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Rh.ce=-1;const Zm=-1;function wh(r){return r==null}function rh(r){return r===0&&1/r==-1/0}function iC(r){return typeof r=="number"&&Number.isInteger(r)&&!rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const OT="";function rC(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Mv(t)),t=sC(r.get(n),t);return Mv(t)}function sC(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case OT:n+="";break;default:n+=u}}return n}function Mv(r){return r+OT+""}function Vv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function as(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function NT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pc(this.root,t,this.comparator,!0)}}class Pc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new xv(this.data.getIterator())}getIteratorFrom(t){return new xv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class xv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let n=new xe(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Sn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new MT("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const aC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=aC.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function es(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const VT="server_timestamp",xT="__type__",LT="__previous_value__",UT="__local_write_time__";function Wm(r){return(r?.mapValue?.fields||{})[xT]?.stringValue===VT}function Ch(r){const t=r.mapValue.fields[LT];return Wm(t)?Ch(t):t}function zl(r){const t=ts(r.mapValue.fields[UT].timestampValue);return new ne(t.seconds,t.nanos)}class oC{constructor(t,n,s,o,u,f,m,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const sh="(default)";class Bl{constructor(t,n){this.projectId=t,this.database=n||sh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}function lC(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(r.options.projectId,t)}const kT="__type__",uC="__max__",zc={mapValue:{}},PT="__vector__",ah="value";function ns(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wm(r)?4:hC(r)?9007199254740991:cC(r)?10:11:gt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const n=ns(r);if(n!==ns(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return zl(r).isEqual(zl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ts(o.timestampValue),m=ts(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?rh(f)===rh(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Vv(f)!==Vv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((n=>Oi(n,t)))!==void 0}function eo(r,t){if(r===t)return 0;const n=ns(r),s=ns(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,t);case 3:return Lv(r.timestampValue,t.timestampValue);case 4:return Lv(zl(r),zl(t));case 5:return Em(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=es(u),g=es(f);return m.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=xt(m[y],g[y]);if(E!==0)return E}return xt(m.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=xt(ge(u.latitude),ge(f.latitude));return m!==0?m:xt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Uv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[ah]?.arrayValue,E=g[ah]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Uv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=Em(g[S],E[S]);if(R!==0)return R;const U=eo(m[g[S]],y[E[S]]);if(U!==0)return U}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function Lv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=ts(r),s=ts(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Uv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=eo(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function no(r){return Tm(r)}function Tm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Tm(n.fields[f])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Kc(r){switch(ns(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ch(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Kc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return as(s.fields,((u,f)=>{o+=u.length+Kc(f)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function Sm(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function kv(r){return!!r&&"nullValue"in r}function Pv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function cC(r){return(r?.mapValue?.fields||{})[kT]?.stringValue===PT}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return as(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Dl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return t}return{...r}}function hC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uC}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Dl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){as(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new hn(Dl(this.value))}}function zT(r){const t=[];return as(r.fields,((n,s)=>{const o=new Ke([n]);if(Qc(s)){const u=zT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Sn(t)}class Je{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(t,n){this.position=t,this.inclusive=n}}function zv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],t.position[n]))return!1;return!0}class lh{constructor(t,n="asc"){this.field=t,this.dir=n}}function fC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class BT{}class Ve extends BT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new mC(t,n,s):n==="array-contains"?new yC(t,s):n==="in"?new _C(t,s):n==="not-in"?new vC(t,s):n==="array-contains-any"?new EC(t,s):new Ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new pC(t,s):new gC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends BT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ni(t,n)}matches(t){return jT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(r){return r.op==="and"}function HT(r){return dC(r)&&jT(r)}function dC(r){for(const t of r.filters)if(t instanceof Ni)return!1;return!0}function Am(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+no(r.value);if(HT(r))return r.filters.map((t=>Am(t))).join(",");{const t=r.filters.map((n=>Am(n))).join(",");return`${r.op}(${t})`}}function qT(r,t){return r instanceof Ve?(function(s,o){return o instanceof Ve&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)})(r,t):r instanceof Ni?(function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&qT(f,o.filters[m])),!0):!1})(r,t):void gt(19439)}function FT(r){return r instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${no(n.value)}`})(r):r instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"})(r):"Filter"}class mC extends Ve{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class pC extends Ve{constructor(t,n){super(t,"in",n),this.keys=GT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class gC extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=GT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function GT(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class yC extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return tp(n)&&jl(n.arrayValue,this.value)}}class _C extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class vC extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class EC extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jl(this.value.arrayValue,s)))}}class TC{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function jv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new TC(r,t,n,s,o,u,f)}function ep(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>Am(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>no(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>no(s))).join(",")),t.Te=n}return t.Te}function np(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!qT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Bv(r.startAt,t.startAt)&&Bv(r.endAt,t.endAt)}function bm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Ih{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function SC(r,t,n,s,o,u,f,m){return new Ih(r,t,n,s,o,u,f,m)}function Dh(r){return new Ih(r)}function Hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function AC(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function bC(r){return r.collectionGroup!==null}function Ol(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xe(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new lh(Ke.keyField(),s))}return t.Ie}function bi(r){const t=Tt(r);return t.Ee||(t.Ee=RC(t,Ol(r))),t.Ee}function RC(r,t){if(r.limitType==="F")return jv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lh(o.field,u)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return jv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Rm(r,t,n){return new Ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Oh(r,t){return np(bi(r),bi(t))&&r.limitType===t.limitType}function KT(r){return`${ep(bi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>FT(o))).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>no(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>no(o))).join(",")),`Target(${s})`})(bi(r))}; limitType=${r.limitType})`}function Nh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Ol(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=zv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Ol(s),o)||s.endAt&&!(function(f,m,g){const y=zv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Ol(s),o))})(r,t)}function wC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QT(r){return(t,n)=>{let s=!1;for(const o of Ol(r)){const u=CC(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function CC(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?eo(g,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Xs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){as(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}const IC=new ue(mt.comparator);function rr(){return IC}const YT=new ue(mt.comparator);function Rl(...r){let t=YT;for(const n of r)t=t.insert(n.key,n);return t}function XT(r){let t=YT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Bs(){return Nl()}function $T(){return Nl()}function Nl(){return new Xs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const DC=new ue(mt.comparator),OC=new xe(mt.comparator);function Lt(...r){let t=OC;for(const n of r)t=t.add(n);return t}const NC=new xe(xt);function MC(){return NC}function ip(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function JT(r){return{integerValue:""+r}}function VC(r,t){return iC(t)?JT(t):ip(r,t)}class Mh{constructor(){this._=void 0}}function xC(r,t,n){return r instanceof uh?(function(o,u){const f={fields:{[xT]:{stringValue:VT},[UT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Wm(u)&&(u=Ch(u)),u&&(f.fields[LT]=u),{mapValue:f}})(n,t):r instanceof Hl?WT(r,t):r instanceof ql?t0(r,t):(function(o,u){const f=ZT(o,u),m=qv(f)+qv(o.Ae);return Sm(f)&&Sm(o.Ae)?JT(m):ip(o.serializer,m)})(r,t)}function LC(r,t,n){return r instanceof Hl?WT(r,t):r instanceof ql?t0(r,t):n}function ZT(r,t){return r instanceof ch?(function(s){return Sm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class uh extends Mh{}class Hl extends Mh{constructor(t){super(),this.elements=t}}function WT(r,t){const n=e0(t);for(const s of r.elements)n.some((o=>Oi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ql extends Mh{constructor(t){super(),this.elements=t}}function t0(r,t){let n=e0(t);for(const s of r.elements)n=n.filter((o=>!Oi(o,s)));return{arrayValue:{values:n}}}class ch extends Mh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function qv(r){return ge(r.integerValue||r.doubleValue)}function e0(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UC(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Hl&&o instanceof Hl||s instanceof ql&&o instanceof ql?to(s.elements,o.elements,Oi):s instanceof ch&&o instanceof ch?Oi(s.Ae,o.Ae):s instanceof uh&&o instanceof uh})(r.transform,t.transform)}class kC{constructor(t,n){this.version=t,this.transformResults=n}}class Ri{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Vh{}function n0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new r0(r.key,Ri.none()):new tu(r.key,r.data,Ri.none());{const n=r.data,s=hn.empty();let o=new xe(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(r.key,s,new Sn(o.toArray()),Ri.none())}}function PC(r,t,n){r instanceof tu?(function(o,u,f){const m=o.value.clone(),g=Gv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,n):r instanceof os?(function(o,u,f){if(!Yc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Gv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(i0(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ml(r,t,n,s){return r instanceof tu?(function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=u.value.clone(),E=Kv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof os?(function(u,f,m,g){if(!Yc(u.precondition,f))return m;const y=Kv(u.fieldTransforms,g,f),E=f.data;return E.setAll(i0(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,m){return Yc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,n)}function zC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=ZT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function Fv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,((u,f)=>UC(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Vh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Vh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i0(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Gv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,LC(f,m,n[o]))}return s}function Kv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,xC(u,f,t))}return s}class r0 extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends Vh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&PC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=$T();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=n0(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((n,s)=>Fv(n,s)))&&to(this.baseMutations,t.baseMutations,((n,s)=>Fv(n,s)))}}class rp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return DC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new rp(t,n,s,o)}}class HC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qC{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,Pt;function FC(r){switch(r){case tt.OK:return gt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function s0(r){if(r===void 0)return ir("GRPC error has no .code"),tt.UNKNOWN;switch(r){case we.OK:return tt.OK;case we.CANCELLED:return tt.CANCELLED;case we.UNKNOWN:return tt.UNKNOWN;case we.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case we.INTERNAL:return tt.INTERNAL;case we.UNAVAILABLE:return tt.UNAVAILABLE;case we.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case we.NOT_FOUND:return tt.NOT_FOUND;case we.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case we.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case we.ABORTED:return tt.ABORTED;case we.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case we.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case we.DATA_LOSS:return tt.DATA_LOSS;default:return gt(39323,{code:r})}}(Pt=we||(we={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function GC(){return new TextEncoder}const KC=new $r([4294967295,4294967295],0);function Qv(r){const t=GC().encode(r),n=new TT;return n.update(t),new Uint8Array(n.digest())}function Yv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class sp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(s<0)throw new wl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=$r.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply($r.fromNumber(s)));return o.compare(KC)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Qv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new sp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const n=Qv(t),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new xh(vt.min(),o,new ue(xt),rr(),Lt())}}class eu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new eu(s,n,Lt(),Lt(),Lt())}}class Xc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class a0{constructor(t,n){this.targetId=t,this.Ce=n}}class o0{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}})),new eu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=$v()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class QC{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.He=Bc(),this.Je=Bc(),this.Ze=new ue(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bm(u))if(s===0){const f=new mt(u.path);this.et(n,f,Je.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=es(s).toUint8Array()}catch(g){if(g instanceof MT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new sp(f,o,u)}catch(g){return Wa(g instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&bm(m.target)){const g=new mt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new xh(t,n,this.Ze,this.je,s);return this.je=rr(),this.He=Bc(),this.Je=Bc(),this.Ze=new ue(xt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new Xv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Xv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Bc(){return new ue(mt.comparator)}function $v(){return new ue(mt.comparator)}const YC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$C={and:"AND",or:"OR"};class JC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function wm(r,t){return r.useProto3Json||wh(t)?t:{value:t}}function hh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function l0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function ZC(r,t){return hh(r,t.toTimestamp())}function wi(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=ts(n);return new ne(s.seconds,s.nanos)})(r))}function ap(r,t){return Cm(r,t).canonicalString()}function Cm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function u0(r){const t=oe.fromString(r);return Ft(m0(t),10190,{key:t.toString()}),t}function Im(r,t){return ap(r.databaseId,t.path)}function am(r,t){const n=u0(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(h0(n))}function c0(r,t){return ap(r.databaseId,t)}function WC(r){const t=u0(r);return t.length===4?oe.emptyPath():h0(t)}function Dm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function h0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Jv(r,t,n){return{name:Im(r,t),fields:n.value.mapValue.fields}}function tI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?tt.UNKNOWN:s0(y.code);return new ht(E,y.message||"")})(f);n=new o0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=am(r,s.document.name),u=wi(s.document.updateTime),f=s.document.createTime?wi(s.document.createTime):vt.min(),m=new hn({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Xc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=am(r,s.document),u=s.readTime?wi(s.readTime):vt.min(),f=Je.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Xc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=am(r,s.document),u=s.removedTargetIds||[];n=new Xc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new qC(o,u),m=s.targetId;n=new a0(m,f)}}return n}function eI(r,t){let n;if(t instanceof tu)n={update:Jv(r,t.key,t.value)};else if(t instanceof r0)n={delete:Im(r,t.key)};else if(t instanceof os)n={update:Jv(r,t.key,t.data),updateMask:cI(t.fieldMask)};else{if(!(t instanceof BC))return gt(16599,{dt:t.type});n={verify:Im(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ch)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw gt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function nI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?wi(o.updateTime):wi(u);return f.isEqual(vt.min())&&(f=wi(u)),new kC(f,o.transformResults||[])})(n,t)))):[]}function iI(r,t){return{documents:[c0(r,t.path)]}}function rI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=c0(r,o);const u=(function(y){if(y.length!==0)return d0(Ni.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:qa(R.field),direction:oI(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=wm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function sI(r){let t=WC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=f0(S);return R instanceof Ni&&HT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(X){return new lh(Fa(X.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let R;return R=typeof S=="object"?S.value:S,wh(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,U=S.values||[];return new oh(U,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,U=S.values||[];return new oh(U,R)})(n.endAt)),SC(t,o,f,u,m,"F",g,y)}function aI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function f0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ve.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((s=>f0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function oI(r){return YC[r]}function lI(r){return XC[r]}function uI(r){return $C[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ke.fromServerFormat(r.fieldPath)}function d0(r){return r instanceof Ve?(function(n){if(n.op==="=="){if(Pv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(kv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(kv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:lI(n.op),value:n.value}}})(r):r instanceof Ni?(function(n){const s=n.getFilters().map((o=>d0(o)));return s.length===1?s[0]:{compositeFilter:{op:uI(n.op),filters:s}}})(r):gt(54877,{filter:r})}function cI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function m0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function p0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Kr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),m=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hI{constructor(t){this.yt=t}}function fI(r){const t=sI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(t,t.limit,"L"):t}class dI{constructor(){this.Sn=new mI}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Wr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class mI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(oe.comparator)).toArray()}}const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(g0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class io{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new io(0)}static ar(){return new io(-1)}}const Wv="LruGarbageCollector",pI=1048576;function tE([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class gI{constructor(t){this.Pr=t,this.buffer=new xe(tE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(Wv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ot(Wv,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Ar(3e5)}))}}class _I{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Rh.ce);const s=new gI(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Zv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),ja()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function vI(r,t){return new _I(r,t)}class EI{constructor(){this.changes=new Xs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class TI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class SI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ml(s.mutation,o,Sn.empty(),ne.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Bs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Rl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(t,n,s,o){let u=rr();const f=Nl(),m=(function(){return Nl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof os)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ml(E.mutation,y,E.mutation.getFieldMask(),ne.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new TI(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Nl();let o=new ue(((f,m)=>f-m)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Sn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=$T();E.forEach((R=>{if(!u.has(R)){const U=n0(n.get(R),s.get(R));U!==null&&S.set(R,U),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return AC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):bC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(Bs());let m=Pl,g=u;return f.next((y=>Z.forEach(y,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:m,changes:XT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(t,u).next((m=>Z.forEach(m,(g=>{const y=(function(S,R){return new Ih(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let m=Rl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ml(E.mutation,y,Sn.empty(),ne.now()),Nh(n,y)&&(m=m.insert(g,y))})),m}))}}class AI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:fI(o.bundledQuery),readTime:wi(o.readTime)}})(n)),Z.resolve()}}class bI{constructor(){this.overlays=new ue(mt.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=Bs(),u=n.length+1,f=new mt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Bs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Bs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return Z.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new HC(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class RI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class op{constructor(){this.kr=new xe(Pe.Kr),this.qr=new xe(Pe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new Pe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new oe([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new oe([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new Pe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class wI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(Pe.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Zm:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new mt(u),0);let m=new xe(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new Pe(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CI{constructor(t){this.ti=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=rr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=rr();const f=n.path,m=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Ww(Zw(E),s)<=0||(o.has(E.key)||Nh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ni(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new II(this)}getSize(t){return Z.resolve(this.size)}}class II extends EI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class DI{constructor(t){this.persistence=t,this.ri=new Xs((n=>ep(n)),np),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new op,this.targetCount=0,this.oi=io._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new io(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class y0{constructor(t,n){this._i={},this.overlays={},this.ai=new Rh(0),this.ui=!1,this.ui=!0,this.ci=new RI,this.referenceDelegate=t(this),this.li=new DI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(o){return new CI(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new hI(n),this.Pi=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new wI(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new OI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class OI extends eC{constructor(t){super(),this.currentSequenceNumber=t}}class lp{constructor(t){this.persistence=t,this.Ri=new op,this.Ai=null}static Vi(t){return new lp(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=mt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class fh{constructor(t,n){this.persistence=t,this.fi=new Xs((s=>rC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=vI(this,n)}static Vi(t,n){return new fh(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((m=>{m||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kc(t.data.value)),n}wr(t,n,s){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class up{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new up(t,n.fromCache,s,o)}}class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _R()?8:nC(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new NI;return this.ys(t,n,f).next((m=>{if(u.result=m,this.As)return this.ws(t,n,f,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(ja()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ja()<=Vt.DEBUG&&ot("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ja()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(n))):Z.resolve())}gs(t,n){if(Hv(n))return Z.resolve(null);let s=bi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rm(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(t,Rm(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,o){return Hv(n)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(ja()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Ds(t,f,n,Jw(o,Pl)).next((m=>m)))}))}bs(t,n){let s=new xe(QT(t));return n.forEach(((o,u)=>{Nh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return ja()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(t,n,Wr.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const cp="LocalStore",VI=3e8;class xI{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(xt),this.Fs=new Xs((u=>ep(u)),np),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function LI(r,t,n,s){return new xI(r,t,n,s)}async function _0(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function UI(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const S=y.batch,R=S.keys();let U=Z.resolve();return R.forEach((X=>{U=U.next((()=>E.getEntry(g,X))).next((F=>{const H=y.docVersions.get(X);Ft(H!==null,48541),F.version.compareTo(H)<0&&(S.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Lt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function v0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function kI(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let U=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?U=U.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(S,U),(function(F,H,W){return F.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=VI?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(R,U,E)&&m.push(n.li.updateTargetData(u,U))}));let g=rr(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(PI(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return Z.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function PI(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=rr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ot(cp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function zI(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Zm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function BI(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Kr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Om(r,t,n){const s=Tt(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ho(f))throw f;ot(cp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function eE(r,t,n){const s=Tt(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Tt(g),R=S.Fs.get(E);return R!==void 0?Z.resolve(S.vs.get(R)):S.li.getTargetData(y,E)})(s,f,bi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((m=>(jI(s,wC(t),m),{documents:m,ks:u})))))}function jI(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class nE{constructor(){this.activeTargetIds=MC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HI{constructor(){this.vo=new nE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new nE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class qI{Mo(t){}shutdown(){}}const iE="ConnectivityMonitor";class rE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(iE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(iE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Nm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const om="RestConnection",FI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Nm(),m=this.Qo(t,n.toUriEncodedString());ot(om,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(m),E=oo(y);return this.zo(t,m,g,s,E).then((S=>(ot(om,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Wa(om,`RPC '${t}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=FI[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class KI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",Sl=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ka extends GI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ka.c_){const t=RT();Sl(t,bT.STAT_EVENT,(n=>{n.stat===vm.PROXY?ot(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===vm.NOPROXY&&ot(Xe,"STAT_EVENT: detected no buffering proxy")})),Ka.c_=!0}}zo(t,n,s,o,u){const f=Nm();return new Promise(((m,g)=>{const y=new ST;y.setWithCredentials(!0),y.listenOnce(AT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gc.NO_ERROR:const S=y.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),m(S);break;case Gc.TIMEOUT:ot(Xe,`RPC '${t}' ${f} timed out`),g(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const R=y.getStatus();if(ot(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const X=U?.error;if(X&&X.status&&X.message){const F=(function(W){const et=W.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(et)>=0?et:tt.UNKNOWN})(X.status);g(new ht(F,X.message))}else g(new ht(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Nm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");ot(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=f.createWebChannel(y,m);this.I_(E);let S=!1,R=!1;const U=new KI({Ho:X=>{R?ot(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(S||(ot(Xe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),ot(Xe,`RPC '${t}' stream ${o} sending:`,X),E.send(X))},Jo:()=>E.close()});return Sl(E,bl.EventType.OPEN,(()=>{R||(ot(Xe,`RPC '${t}' stream ${o} transport opened.`),U.i_())})),Sl(E,bl.EventType.CLOSE,(()=>{R||(R=!0,ot(Xe,`RPC '${t}' stream ${o} transport closed`),U.o_(),this.E_(E))})),Sl(E,bl.EventType.ERROR,(X=>{R||(R=!0,Wa(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),U.o_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))})),Sl(E,bl.EventType.MESSAGE,(X=>{if(!R){const F=X.data[0];Ft(!!F,16349);const H=F,W=H?.error||H[0]?.error;if(W){ot(Xe,`RPC '${t}' stream ${o} received error:`,W);const et=W.status;let it=(function(wt){const D=we[wt];if(D!==void 0)return s0(D)})(et),Ct=W.message;it===void 0&&(it=tt.INTERNAL,Ct="Unknown error status: "+et+" with message "+W.message),R=!0,U.o_(new ht(it,Ct)),E.close()}else ot(Xe,`RPC '${t}' stream ${o} received:`,F),U.__(F)}})),Ka.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wT()}}function QI(r){return new Ka(r)}function lm(){return typeof document<"u"?document:null}function Lh(r){return new JC(r,!0)}Ka.c_=!1;class E0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const sE="PersistentStream";class T0{constructor(t,n,s,o,u,f,m,g){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(sE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YI extends T0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=tI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?wi(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=Dm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=bm(g)?{documents:iI(u,g)}:{query:rI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=l0(u,f.resumeToken);const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){m.readTime=hh(u,f.snapshotVersion.toTimestamp());const y=wm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=aI(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=Dm(this.serializer),n.removeTarget=t,this.K_(n)}}class XI extends T0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=nI(t.writeResults,t.commitTime),s=wi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Dm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>eI(this.serializer,s)))};this.K_(n)}}class $I{}class JI extends $I{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Cm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(tt.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(t,Cm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ZI(r,t,n,s){return new JI(r,t,n,s)}class WI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class t2{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(ot(Gs,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await nu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Uh(y)})(this))}))})),this.Va=new WI(s,o)}}async function Uh(r){if($s(r))for(const t of r.Ra)await t(!0)}async function nu(r){for(const t of r.Ra)await t(!1)}function S0(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),mp(n)?dp(n):fo(n).O_()&&fp(n,t))}function hp(r,t){const n=Tt(r),s=fo(n);n.Ia.delete(t),s.O_()&&A0(n,t),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Va.set("Unknown"))}function fp(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Z_(t)}function A0(r,t){r.da.$e(t),fo(r).X_(t)}function dp(r){r.da=new QC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Va.ua()}function mp(r){return $s(r)&&!fo(r).x_()&&r.Ia.size>0}function $s(r){return Tt(r).Ea.size===0}function b0(r){r.da=void 0}async function e2(r){r.Va.set("Online")}async function n2(r){r.Ia.forEach(((t,n)=>{fp(r,t)}))}async function i2(r,t){b0(r),mp(r)?(r.Va.ha(t),dp(r)):r.Va.set("Unknown")}async function r2(r,t,n){if(r.Va.set("Online"),t instanceof o0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,t)}catch(s){ot(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await dh(r,s)}else if(t instanceof Xc?r.da.Xe(t):t instanceof a0?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await v0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),A0(u,g);const S=new Kr(E.target,g,y,E.sequenceNumber);fp(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ot(Gs,"Failed to raise snapshot:",s),await dh(r,s)}}async function dh(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await nu(r),r.Va.set("Offline"),n||(n=()=>v0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Uh(r)}))}function R0(r,t){return t().catch((n=>dh(r,n,t)))}async function kh(r){const t=Tt(r),n=is(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Zm;for(;s2(t);)try{const o=await zI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,a2(t,o)}catch(o){await dh(t,o)}w0(t)&&C0(t)}function s2(r){return $s(r)&&r.Ta.length<10}function a2(r,t){r.Ta.push(t);const n=is(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function w0(r){return $s(r)&&!is(r).x_()&&r.Ta.length>0}function C0(r){is(r).start()}async function o2(r){is(r).ra()}async function l2(r){const t=is(r);for(const n of r.Ta)t.ea(n.mutations)}async function u2(r,t,n){const s=r.Ta.shift(),o=rp.from(s,t,n);await R0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await kh(r)}async function c2(r,t){t&&is(r).Y_&&await(async function(s,o){if((function(f){return FC(f)&&f!==tt.ABORTED})(o.code)){const u=s.Ta.shift();is(s).B_(),await R0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await kh(s)}})(r,t),w0(r)&&C0(r)}async function aE(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),ot(Gs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await nu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uh(n)}async function h2(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Uh(n)):t||(n.Ea.add(2),await nu(n),n.Va.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(n,s,o){const u=Tt(n);return u.sa(),new YI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:e2.bind(null,r),Yo:n2.bind(null,r),t_:i2.bind(null,r),J_:r2.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),mp(r)?dp(r):r.Va.set("Unknown")):(await r.ma.stop(),b0(r))}))),r.ma}function is(r){return r.fa||(r.fa=(function(n,s,o){const u=Tt(n);return u.sa(),new XI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:o2.bind(null,r),t_:c2.bind(null,r),ta:l2.bind(null,r),na:u2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class pp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new pp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gp(r,t){if(ir("AsyncQueue",`${t}: ${r}`),ho(r))return new ht(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class oE{constructor(){this.ga=new ue(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class ro{constructor(t,n,s,o,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ro(t,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class f2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class d2{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=lE(),u.forEach(((f,m)=>{for(const g of m.ba)g.onError(s)}))})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function lE(){return new Xs((r=>KT(r)),Oh)}async function I0(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new f2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=gp(f,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&yp(n)}async function D0(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function m2(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&yp(n)}function p2(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function yp(r){r.Ca.forEach((t=>{t.next()}))}var Mm,uE;(uE=Mm||(Mm={})).Ma="default",uE.Cache="cache";class O0{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ro(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ro.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Mm.Cache}}class N0{constructor(t){this.key=t}}class M0{constructor(t){this.key=t}}class g2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=QT(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new oE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const R=o.get(E),U=Nh(this.query,S)?S:null,X=!!R&&this.mutatedKeys.has(R.key),F=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let H=!1;R&&U?R.data.isEqual(U.data)?X!==F&&(s.track({type:3,doc:U}),H=!0):this.su(R,U)||(s.track({type:2,doc:U}),H=!0,(g&&this.eu(U,g)>0||y&&this.eu(U,y)<0)&&(m=!0)):!R&&U?(s.track({type:0,doc:U}),H=!0):R&&!U&&(s.track({type:1,doc:R}),H=!0,(g||y)&&(m=!0)),H&&(U?(f=f.add(U),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(U,X){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:H})}};return F(U)-F(X)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new ro(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new oE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new M0(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new N0(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _p="SyncEngine";class y2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class _2{constructor(t){this.key=t,this.hu=!1}}class v2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xs((m=>KT(m)),Oh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(mt.comparator),this.Au=new Map,this.Vu=new op,this.du={},this.mu=new Map,this.fu=io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E2(r,t,n=!0){const s=P0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await V0(s,t,n,!0),o}async function T2(r,t){const n=P0(r);await V0(n,t,!0,!1)}async function V0(r,t,n,s){const o=await BI(r.localStore,bi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await S2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&S0(r.remoteStore,o),m}async function S2(r,t,n,s,o){r.pu=(S,R,U)=>(async function(F,H,W,et){let it=H.view.ru(W);it.Ss&&(it=await eE(F.localStore,H.query,!1).then((({documents:D})=>H.view.ru(D,it))));const Ct=et&&et.targetChanges.get(H.targetId),It=et&&et.targetMismatches.get(H.targetId)!=null,wt=H.view.applyChanges(it,F.isPrimaryClient,Ct,It);return hE(F,H.targetId,wt.au),wt.snapshot})(r,S,R,U);const u=await eE(r.localStore,t,!0),f=new g2(t,u.ks),m=f.ru(u.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);hE(r,n,y.au);const E=new y2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function A2(r,t,n){const s=Tt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Oh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Om(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hp(s.remoteStore,o.targetId),Vm(s,o.targetId)})).catch(co)):(Vm(s,o.targetId),await Om(s.localStore,o.targetId,!0))}async function b2(r,t){const n=Tt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hp(n.remoteStore,s.targetId))}async function R2(r,t,n){const s=M2(r);try{const o=await(function(f,m){const g=Tt(f),y=ne.now(),E=m.reduce(((U,X)=>U.add(X.key)),Lt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let X=rr(),F=Lt();return g.xs.getEntries(U,E).next((H=>{X=H,X.forEach(((W,et)=>{et.isValidDocument()||(F=F.add(W))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,X))).next((H=>{S=H;const W=[];for(const et of m){const it=zC(et,S.get(et.key).overlayedDocument);it!=null&&W.push(new os(et.key,it,zT(it.value.mapValue),Ri.exists(!0)))}return g.mutationQueue.addMutationBatch(U,y,W,m)})).next((H=>{R=H;const W=H.applyToLocalDocumentSet(S,F);return g.documentOverlayCache.saveOverlays(U,H.batchId,W)}))})).then((()=>({batchId:R.batchId,changes:XT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await iu(s,o.changes),await kh(s.remoteStore)}catch(o){const u=gp(o,"Failed to persist write");n.reject(u)}}async function x0(r,t){const n=Tt(r);try{const s=await kI(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await iu(n,s,t)}catch(s){await co(s)}}function cE(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Tt(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(m)&&(y=!0)})),y&&yp(g)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function w2(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(mt.comparator);f=f.insert(u,Je.newNoDocument(u,vt.min()));const m=Lt().add(u),g=new xh(vt.min(),new Map,new ue(xt),f,m);await x0(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),vp(s)}else await Om(s.localStore,t,!1).then((()=>Vm(s,t,n))).catch(co)}async function C2(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await UI(n.localStore,t);U0(n,s,null),L0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await iu(n,o)}catch(o){await co(o)}}async function I2(r,t,n){const s=Tt(r);try{const o=await(function(f,m){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);U0(s,t,n),L0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await iu(s,o)}catch(o){await co(o)}}function L0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function U0(r,t,n){const s=Tt(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Vm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||k0(r,s)}))}function k0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(hp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),vp(r))}function hE(r,t,n){for(const s of n)s instanceof N0?(r.Vu.addReference(s.key,t),D2(r,s)):s instanceof M0?(ot(_p,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||k0(r,s.key)):gt(19791,{wu:s})}function D2(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ot(_p,"New document in limbo: "+n),r.Eu.add(s),vp(r))}function vp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new _2(n)),r.Ru=r.Ru.insert(n,s),S0(r.remoteStore,new Kr(bi(Dh(n.path)),s,"TargetPurposeLimboResolution",Rh.ce))}}async function iu(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=up.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(R=>Z.forEach(R.Ts,(U=>E.persistence.referenceDelegate.addReference(S,R.targetId,U))).next((()=>Z.forEach(R.Is,(U=>E.persistence.referenceDelegate.removeReference(S,R.targetId,U)))))))))}catch(S){if(!ho(S))throw S;ot(cp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const U=E.vs.get(R),X=U.snapshotVersion,F=U.withLastLimboFreeSnapshotVersion(X);E.vs=E.vs.insert(R,F)}}})(s.localStore,u))}async function O2(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){ot(_p,"User change. New user:",t.toKey());const s=await _0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ht(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await iu(n,s.Ns)}}function N2(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function P0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=N2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w2.bind(null,t),t.Pu.J_=m2.bind(null,t.eventManager),t.Pu.yu=p2.bind(null,t.eventManager),t}function M2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=I2.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return LI(this.persistence,new MI,t.initialUser,this.serializer)}Cu(t){return new y0(lp.Vi,this.serializer)}Du(t){return new HI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class V2 extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new y0((s=>fh.Vi(s,n)),this.serializer)}}class xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new d2})()}createDatastore(t){const n=Lh(t.databaseInfo.databaseId),s=QI(t.databaseInfo);return ZI(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,m){return new t2(s,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>cE(this.syncEngine,n,0)),(function(){return rE.v()?new rE:new qI})())}createSyncEngine(t,n){return(function(o,u,f,m,g,y,E){const S=new v2(o,u,f,m,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);ot(Gs,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const rs="FirestoreClient";class x2{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=$m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=gp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function um(r,t){r.asyncQueue.verifyOperationInProgress(),ot(rs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await _0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function fE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await L2(r);ot(rs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>aE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>aE(t.remoteStore,o))),r._onlineComponents=t}async function L2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(rs,"Using user provided OfflineComponentProvider");try{await um(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await um(r,new mh)}}else ot(rs,"Using default OfflineComponentProvider"),await um(r,new V2(void 0));return r._offlineComponents}async function B0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(rs,"Using user provided OnlineComponentProvider"),await fE(r,r._uninitializedComponentsProvider._online)):(ot(rs,"Using default OnlineComponentProvider"),await fE(r,new xm))),r._onlineComponents}function U2(r){return B0(r).then((t=>t.syncEngine))}async function Lm(r){const t=await B0(r),n=t.eventManager;return n.onListen=E2.bind(null,t.syncEngine),n.onUnlisten=A2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=T2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=b2.bind(null,t.syncEngine),n}function k2(r,t,n,s){const o=new z0(s),u=new O0(t,o,n);return r.asyncQueue.enqueueAndForget((async()=>I0(await Lm(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>D0(await Lm(r),u)))}}function P2(r,t,n={}){const s=new Jr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new z0({next:R=>{E.Nu(),f.enqueueAndForget((()=>D0(u,S)));const U=R.docs.has(m);!U&&R.fromCache?y.reject(new ht(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&R.fromCache&&g&&g.source==="server"?y.reject(new ht(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new O0(Dh(m.path),E,{includeMetadataChanges:!0,Ka:!0});return I0(u,S)})(await Lm(r),r.asyncQueue,t,n,s))),s.promise}function z2(r,t){const n=new Jr;return r.asyncQueue.enqueueAndForget((async()=>R2(await U2(r),t,n))),n.promise}function j0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const B2="ComponentProvider",dE=new Map;function j2(r,t,n,s,o){return new oC(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,j0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const H0="firestore.googleapis.com",mE=!0;class pE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H0,this.ssl=mE}else this.host=t.host,this.ssl=t.ssl??mE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=g0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pI)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$w("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ep{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new zw;switch(s.type){case"firstParty":return new qw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=dE.get(n);s&&(ot(B2,"Removing Datastore"),dE.delete(n),s.terminate())})(this),Promise.resolve()}}function H2(r,t,n,s={}){r=Ai(r,Ep);const o=oo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(dT(`https://${m}`),mT("Firestore",!0)),u.host!==H0&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Hs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=uR(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new Bw(new IT(y,E))}}class Ph{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ph(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Wl(n,Ie._jsonSchema))return new Ie(t,s||null,new mt(oe.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Fl extends Ph{constructor(t,n,s){super(t,n,Dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new mt(t))}withConverter(t){return new Fl(this.firestore,t,this._path)}}function Vl(r,t,...n){if(r=fn(r),arguments.length===1&&(t=$m.newId()),Xw("doc","path",t),r instanceof Ep){const s=oe.fromString(t,...n);return Dv(s),new Ie(r,null,new mt(s))}{if(!(r instanceof Ie||r instanceof Fl))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return Dv(s),new Ie(r.firestore,r instanceof Fl?r.converter:null,new mt(s))}}const gE="AsyncQueue";class yE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E0(this,"async_queue_retry"),this._c=()=>{const s=lm();s&&ot(gE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;ot(gE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",_E(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=pp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:_E(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function _E(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class so extends Ep{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new yE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new yE(t),this._firestoreClient=void 0,await t}}}function q2(r,t){const n=typeof r=="object"?r:_T(),s=typeof r=="string"?r:sh,o=Ym(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oR("firestore");u&&H2(o,...u)}return o}function Tp(r){if(r._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||F2(r),r._firestoreClient}function F2(r){const t=r._freezeSettings(),n=j2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new x2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(n){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class Sp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ap{constructor(t){this._methodName=t}}class Ci{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Wl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wl(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wn(t.vectorValues);throw new ht(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const G2=/^__.*__$/;class K2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new os(t,this.data,this.fieldMask,n,this.fieldTransforms):new tu(t,this.data,n,this.fieldTransforms)}}class q0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new os(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function F0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class bp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new bp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ph(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(F0(this.dataSource)&&G2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Q2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(t)}createContext(t,n,s,o=!1){return new bp({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G0(r){const t=r._freezeSettings(),n=Lh(r._databaseId);return new Q2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Y2(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);Rp("Data must be an object, but it was:",f,s);const m=K0(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=Gl(t,S,n);if(!f.contains(R))throw new ht(tt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);X0(E,R)||E.push(R)}g=new Sn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new K2(new hn(m),g,y)}class zh extends Ap{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zh}}function X2(r,t,n,s){const o=r.createContext(1,t,n);Rp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();as(s,((g,y)=>{const E=Y0(t,g,n);y=fn(y);const S=o.childContextForFieldPath(E);if(y instanceof zh)u.push(E);else{const R=Bh(y,S);R!=null&&(u.push(E),f.set(E,R))}}));const m=new Sn(u);return new q0(f,m,o.fieldTransforms)}function $2(r,t,n,s,o,u){const f=r.createContext(1,t,n),m=[Gl(t,s,n)],g=[o];if(u.length%2!=0)throw new ht(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Gl(t,u[R])),g.push(u[R+1]);const y=[],E=hn.empty();for(let R=m.length-1;R>=0;--R)if(!X0(y,m[R])){const U=m[R];let X=g[R];X=fn(X);const F=f.childContextForFieldPath(U);if(X instanceof zh)y.push(U);else{const H=Bh(X,F);H!=null&&(y.push(U),E.set(U,H))}}const S=new Sn(y);return new q0(E,S,f.fieldTransforms)}function Bh(r,t){if(Q0(r=fn(r)))return Rp("Unsupported field value:",t,r),K0(r,t);if(r instanceof Ap)return(function(s,o){if(!F0(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Bh(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:hh(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hh(o.serializer,u)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:l0(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wn)return(function(f,m){const g=f instanceof Wn?f.toArray():f;return{mapValue:{fields:{[kT]:{stringValue:PT},[ah]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return ip(m.serializer,E)}))}}}}}})(s,o);if(p0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Jm(s)}`)})(r,t)}function K0(r,t){const n={};return NT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(r,((s,o)=>{const u=Bh(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof Ci||r instanceof Un||r instanceof Ie||r instanceof Ap||r instanceof Wn||p0(r))}function Rp(r,t,n){if(!Q0(n)||!DT(n)){const s=Jm(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Gl(r,t,n){if((t=fn(t))instanceof Sp)return t._internalPath;if(typeof t=="string")return Y0(r,t);throw ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const J2=new RegExp("[~\\*/\\[\\]]");function Y0(r,t,n){if(t.search(J2)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Sp(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ph(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ht(tt.INVALID_ARGUMENT,m+r+g)}function X0(r,t){return r.some((n=>n.isEqual(t)))}class Z2{convertValue(t,n="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return as(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[ah].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(n)}convertGeoPoint(t){return new Ci(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Ch(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const n=ts(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Ft(m0(s),9688,{name:t});const o=new Bl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class $0 extends Z2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}const vE="@firebase/firestore",EE="4.10.0";function TE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class J0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Gl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W2 extends J0{data(){return super.data()}}function tD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function eD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class js extends J0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Gl("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Ce("string",js._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class $c extends js{data(t={}){return super.data(t)}}class Ya{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new $c(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new $c(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Cl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:nD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=$m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ce("string",Ya._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function iD(r){r=Ai(r,Ie);const t=Ai(r.firestore,so),n=Tp(t);return P2(n,r._key).then((s=>W0(t,r,s)))}function rD(r,t,n){r=Ai(r,Ie);const s=Ai(r.firestore,so),o=eD(r.converter,t),u=G0(s);return Z0(s,[Y2(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ri.none())])}function Um(r,t,n,...s){r=Ai(r,Ie);const o=Ai(r.firestore,so),u=G0(o);let f;return f=typeof(t=fn(t))=="string"||t instanceof Sp?$2(u,"updateDoc",r._key,t,n,s):X2(u,"updateDoc",r._key,t),Z0(o,[f.toMutation(r._key,Ri.exists(!0))])}function sD(r,...t){r=fn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||TE(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(TE(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let u,f,m;if(r instanceof Ie)f=Ai(r.firestore,so),m=Dh(r._key.path),u={next:y=>{t[s]&&t[s](W0(f,r,y))},error:t[s+1],complete:t[s+2]};else{const y=Ai(r,Ph);f=Ai(y.firestore,so),m=y._query;const E=new $0(f);u={next:S=>{t[s]&&t[s](new Ya(f,E,y,S))},error:t[s+1],complete:t[s+2]},tD(r._query)}const g=Tp(f);return k2(g,m,o,u)}function Z0(r,t){const n=Tp(r);return z2(n,t)}function W0(r,t,n){const s=n.docs.get(t._key),o=new $0(r);return new js(r,o,t._key,s,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Pw(lo),Za(new qs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new so(new jw(s.getProvider("auth-internal")),new Fw(f,s.getProvider("app-check-internal")),lC(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Xr(vE,EE,t),Xr(vE,EE,"esm2020")})();function tS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aD=tS,eS=new Jl("auth","Firebase",tS());const gh=new Km("@firebase/auth");function oD(r,...t){gh.logLevel<=Vt.WARN&&gh.warn(`Auth (${lo}): ${r}`,...t)}function Jc(r,...t){gh.logLevel<=Vt.ERROR&&gh.error(`Auth (${lo}): ${r}`,...t)}function sr(r,...t){throw wp(r,...t)}function Ii(r,...t){return wp(r,...t)}function nS(r,t,n){const s={...aD(),[t]:n};return new Jl("auth","Firebase",s).create(t,{appName:r.name})}function Zr(r){return nS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return eS.create(r,...t)}function yt(r,t,...n){if(!r)throw wp(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Jc(t),new Error(t)}function ar(r,t){r||Zi(t)}function km(){return typeof self<"u"&&self.location?.href||""}function lD(){return SE()==="http:"||SE()==="https:"}function SE(){return typeof self<"u"&&self.location?.protocol||null}function uD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lD()||pR()||"connection"in navigator)?navigator.onLine:!0}function cD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ru{constructor(t,n){this.shortDelay=t,this.longDelay=n,ar(n>t,"Short delay should be less than long delay!"),this.isMobile=fR()||gR()}get(){return uD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cp(r,t){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class iS{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dD=new ru(3e4,6e4);function jh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mo(r,t,n,s,o={}){return rS(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=Zl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return mR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),iS.fetch()(await aS(r,r.config.apiHost,n,m),y)})}async function rS(r,t,n){r._canInitEmulator=!1;const s={...hD,...t};try{const o=new mD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw nS(r,E,y);sr(r,E)}}catch(o){if(o instanceof or)throw o;sr(r,"network-request-failed",{message:String(o)})}}async function sS(r,t,n,s,o={}){const u=await mo(r,t,n,s,o);return"mfaPendingCredential"in u&&sr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function aS(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Cp(r.config,o):`${r.config.apiScheme}://${o}`;return fD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class mD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),dD.get())})}}function Hc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,t,s);return o.customData._tokenResponse=n,o}async function pD(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function yh(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gD(r,t=!1){const n=fn(r),s=await n.getIdToken(t),o=Ip(s);yt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:xl(cm(o.auth_time)),issuedAtTime:xl(cm(o.iat)),expirationTime:xl(cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(r){return Number(r)*1e3}function Ip(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=uT(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AE(r){const t=Ip(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof or&&yD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class _D{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(r){const t=r.auth,n=await r.getIdToken(),s=await Kl(r,yh(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?oS(o.providerUserInfo):[],f=ED(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function vD(r){const t=fn(r);await _h(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ED(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function oS(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function TD(r,t){const n=await rS(r,{},async()=>{const s=Zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await aS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(g.credentials="include"),iS.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SD(r,t){return mo(r,"POST","/v2/accounts:revokeToken",jh(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):AE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=AE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await TD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Xa;return s&&(yt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(yt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(yt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function jr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Kl(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gD(this,t)}reload(){return vD(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Kl(this,pD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:U,providerData:X,stsTokenManager:F}=n;yt(S&&F,t,"internal-error");const H=Xa.fromJSON(this.name,F);yt(typeof S=="string",t,"internal-error"),jr(s,t.name),jr(o,t.name),yt(typeof R=="boolean",t,"internal-error"),yt(typeof U=="boolean",t,"internal-error"),jr(u,t.name),jr(f,t.name),jr(m,t.name),jr(g,t.name),jr(y,t.name),jr(E,t.name);const W=new Zn({uid:S,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:U,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(W.providerData=X.map(et=>({...et}))),g&&(W._redirectEventId=g),W}static async _fromIdTokenResponse(t,n,s=!1){const o=new Xa;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];yt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Xa;m.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const bE=new Map;function Wi(r){ar(r instanceof Function,"Expected a class definition");let t=bE.get(r);return t?(ar(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,bE.set(r,t),t)}class lS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lS.type="NONE";const RE=lS;function Zc(r,t,n){return`firebase:${r}:${t}:${n}`}class $a{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await yh(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new $a(Wi(RE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(RE);const f=Zc(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await yh(t,{idToken:E}).catch(()=>{});if(!R)break;S=await Zn._fromGetAccountInfoResponse(t,R,E)}else S=Zn._fromJSON(t,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new $a(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new $a(u,t,s))}}function wE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mS(t))return"Blackberry";if(pS(t))return"Webos";if(cS(t))return"Safari";if((t.includes("chrome/")||hS(t))&&!t.includes("edge/"))return"Chrome";if(dS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function uS(r=Ze()){return/firefox\//i.test(r)}function cS(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hS(r=Ze()){return/crios\//i.test(r)}function fS(r=Ze()){return/iemobile/i.test(r)}function dS(r=Ze()){return/android/i.test(r)}function mS(r=Ze()){return/blackberry/i.test(r)}function pS(r=Ze()){return/webos/i.test(r)}function Dp(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function AD(r=Ze()){return Dp(r)&&!!window.navigator?.standalone}function bD(){return yR()&&document.documentMode===10}function gS(r=Ze()){return Dp(r)||dS(r)||pS(r)||mS(r)||/windows phone/i.test(r)||fS(r)}function yS(r,t=[]){let n;switch(r){case"Browser":n=wE(Ze());break;case"Worker":n=`${wE(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}class RD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function wD(r,t={}){return mo(r,"GET","/v2/passwordPolicy",jh(r,t))}const CD=6;class ID{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class DD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await yh(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await _h(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Zr(this));const n=t?fn(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wD(this),n=new ID(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wi(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&oD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hh(r){return fn(r)}class CE{constructor(t){this.auth=t,this.observer=null,this.addObserver=RR(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Op={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(r){Op=r}function ND(r){return Op.loadJS(r)}function MD(){return Op.gapiScript}function VD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function xD(r,t){const n=Ym(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hs(u,t??{}))return o;sr(o,"already-initialized")}return n.initialize({options:t})}function LD(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function UD(r,t,n){const s=Hh(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=_S(t),{host:f,port:m}=kD(t),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Hs(y,s.config.emulator)&&Hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,oo(f)?(dT(`${u}//${f}${g}`),mT("Auth",!0)):PD()}function _S(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function kD(r){const t=_S(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:IE(f)}}}function IE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function PD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class vS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ja(r,t){return sS(r,"POST","/v1/accounts:signInWithIdp",jh(r,t))}const zD="http://localhost";class Ks extends vS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Ja(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:zD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Zl(n)}return t}}class ES{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class su extends ES{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends su{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class qr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Fr extends su{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends su{constructor(){super("twitter.com")}static credential(t,n){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function BD(r,t){return sS(r,"POST","/v1/accounts:signUp",jh(r,t))}class ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zn._fromIdTokenResponse(t,s,o),f=DE(s);return new ss({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=DE(s);return new ss({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function DE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function jD(r){if(Jn(r.app))return Promise.reject(Zr(r));const t=Hh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ss({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await BD(t,{returnSecureToken:!0}),s=await ss._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}class vh extends or{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new vh(t,n,s,o)}}function TS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(r,u,t,s):u})}async function HD(r,t,n=!1){const s=await Kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return ss._forOperation(r,"link",s)}async function qD(r,t,n=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Zr(s));const o="reauthenticate";try{const u=await Kl(r,TS(s,o,t,r),n);yt(u.idToken,s,"internal-error");const f=Ip(u.idToken);yt(f,s,"internal-error");const{sub:m}=f;return yt(r.uid===m,s,"user-mismatch"),ss._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&sr(s,"user-mismatch"),u}}async function FD(r,t,n=!1){if(Jn(r.app))return Promise.reject(Zr(r));const s="signIn",o=await TS(r,s,t),u=await ss._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function GD(r,t,n,s){return fn(r).onIdTokenChanged(t,n,s)}function KD(r,t,n){return fn(r).beforeAuthStateChanged(t,n)}const Eh="__sak";class SS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const QD=1e3,YD=10;class AS extends SS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);bD()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,YD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},QD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}AS.type="LOCAL";const XD=AS;class bS extends SS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}bS.type="SESSION";const RS=bS;function $D(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new qh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await $D(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Np(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class JD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Np("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function ZD(r){Di().location.href=r}function wS(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function WD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tO(){return navigator?.serviceWorker?.controller||null}function eO(){return wS()?self:null}const CS="firebaseLocalStorageDb",nO=1,Th="firebaseLocalStorage",IS="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,t){return r.transaction([Th],t?"readwrite":"readonly").objectStore(Th)}function iO(){const r=indexedDB.deleteDatabase(CS);return new au(r).toPromise()}function zm(){const r=indexedDB.open(CS,nO);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:IS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?t(s):(s.close(),await iO(),t(await zm()))})})}async function OE(r,t,n){const s=Fh(r,!0).put({[IS]:t,value:n});return new au(s).toPromise()}async function rO(r,t){const n=Fh(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function NE(r,t){const n=Fh(r,!0).delete(t);return new au(n).toPromise()}const sO=800,aO=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(eO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WD(),!this.activeServiceWorker)return;this.sender=new JD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zm();return await OE(t,Eh,"1"),await NE(t,Eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>OE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>rO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>NE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const oO=DS;new ru(3e4,6e4);function lO(r,t){return t?Wi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Mp extends vS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function uO(r){return FD(r.auth,new Mp(r),r.bypassAuthState)}function cO(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),qD(n,new Mp(r),r.bypassAuthState)}async function hO(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),HD(n,new Mp(r),r.bypassAuthState)}class OS{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uO;case"linkViaPopup":case"linkViaRedirect":return hO;case"reauthViaPopup":case"reauthViaRedirect":return cO;default:sr(this.auth,"internal-error")}}resolve(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fO=new ru(2e3,1e4);class Ga extends OS{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const t=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fO.get())};t()}}Ga.currentPopupAction=null;const dO="pendingRedirect",Wc=new Map;class mO extends OS{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const s=await pO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pO(r,t){const n=_O(t),s=yO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gO(r,t){Wc.set(r._key(),t)}function yO(r){return Wi(r._redirectPersistence)}function _O(r){return Zc(dO,r.config.apiKey,r.name)}async function vO(r,t,n=!1){if(Jn(r.app))return Promise.reject(Zr(r));const s=Hh(r),o=lO(s,t),f=await new mO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const EO=600*1e3;class TO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!SO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!NS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EO&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(t))}saveEventToCache(t){this.cachedEventUids.add(ME(t)),this.lastProcessedEventTime=Date.now()}}function ME(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function NS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function SO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NS(r);default:return!1}}async function AO(r,t={}){return mo(r,"GET","/v1/projects",t)}const bO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RO=/^https?/;async function wO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await AO(r);for(const n of t)try{if(CO(n))return}catch{}sr(r,"unauthorized-domain")}function CO(r){const t=km(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!RO.test(n))return!1;if(bO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const IO=new ru(3e4,6e4);function VE(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DO(r){return new Promise((t,n)=>{function s(){VE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(Ii(r,"network-request-failed"))},timeout:IO.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=VD("iframefcb");return Di()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},ND(`${MD()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw th=null,t})}let th=null;function OO(r){return th=th||DO(r),th}const NO=new ru(5e3,15e3),MO="__/auth/iframe",VO="emulator/auth/iframe",xO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UO(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Cp(t,VO):`https://${r.config.authDomain}/${MO}`,s={apiKey:t.apiKey,appName:r.name,v:lo},o=LO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Zl(s).slice(1)}`}async function kO(r){const t=await OO(r),n=Di().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:UO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},NO.get());function g(){Di().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const PO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zO=500,BO=600,jO="_blank",HO="http://localhost";class xE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qO(r,t,n,s=zO,o=BO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...PO,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(m=hS(y)?jO:n),uS(y)&&(t=t||HO,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[U,X])=>`${R}${U}=${X},`,"");if(AD(y)&&m!=="_self")return FO(t||"",m),new xE(null);const S=window.open(t||"",m,E);yt(S,r,"popup-blocked");try{S.focus()}catch{}return new xE(S)}function FO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const GO="__/auth/handler",KO="emulator/auth/handler",QO=encodeURIComponent("fac");async function LE(r,t,n,s,o,u){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:lo,eventId:o};if(t instanceof ES){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",bR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof su){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${QO}=${encodeURIComponent(g)}`:"";return`${YO(r)}?${Zl(m).slice(1)}${y}`}function YO({config:r}){return r.emulator?Cp(r,KO):`https://${r.authDomain}/${GO}`}const hm="webStorageSupport";class XO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RS,this._completeRedirectFn=vO,this._overrideRedirectResult=gO}async _openPopup(t,n,s,o){ar(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await LE(t,n,s,km(),o);return qO(t,u,Np())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await LE(t,n,s,km(),o);return ZD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await kO(t),s=new TO(t);return n.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(hm,{type:hm},o=>{const u=o?.[0]?.[hm];u!==void 0&&n(!!u),sr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gS()||cS()||Dp()}}const $O=XO;var UE="@firebase/auth",kE="1.12.0";class JO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WO(r){Za(new qs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;yt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yS(r)},y=new DD(s,o,u,g);return LD(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Za(new qs("auth-internal",t=>{const n=Hh(t.getProvider("auth").getImmediate());return(s=>new JO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(UE,kE,ZO(r)),Xr(UE,kE,"esm2020")}const tN=300,eN=fT("authIdTokenMaxAge")||tN;let PE=null;const nN=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eN)return;const o=n?.token;PE!==o&&(PE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iN(r=_T()){const t=Ym(r,"auth");if(t.isInitialized())return t.getImmediate();const n=xD(r,{popupRedirectResolver:$O,persistence:[oO,XD,RS]}),s=fT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nN(u.toString());KD(n,f,()=>f(n.currentUser)),GD(n,m=>f(m))}}const o=cT("auth");return o&&UD(n,`http://${o}`),n}function rN(){return document.getElementsByTagName("head")?.[0]??document}OD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WO("Browser");const sN={apiKey:"AIzaSyC1UFz_HEJNwcKxXM_dLz908lq1I6ACQ78",authDomain:"draft-simulation-magic-chess.firebaseapp.com",projectId:"draft-simulation-magic-chess",storageBucket:"draft-simulation-magic-chess.firebasestorage.app",messagingSenderId:"235285862584",appId:"1:235285862584:web:ef2a79aa756d006127bc4d"},MS=yT(sN),Ll=q2(MS),Gh=iN(MS);jD(Gh).then(()=>{console.log("Firebase anonymous auth connected")}).catch(r=>{console.error("Firebase auth error:",r)});function aN(){return Math.random().toString(36).substring(2,8).toUpperCase()}function oN(){const[r,t]=Q.useState(""),n=Xl(),s=async()=>{if(!r.trim()){alert("Please enter your alias");return}const o=aN();await rD(Vl(Ll,"rooms",o),{status:"lobby",users:{[Gh.currentUser.uid]:{name:r,role:"referee",ready:!1,joinedAt:Date.now()}},createdAt:Date.now()}),n(`/room/${o}`)};return at.jsxs("div",{style:{padding:20},children:[at.jsx("h2",{children:"Referee Setup"}),at.jsx("input",{placeholder:"Referee alias",value:r,onChange:o=>t(o.target.value)}),at.jsx("br",{}),at.jsx("br",{}),at.jsx("button",{onClick:s,children:"Create Draft Room"})]})}function lN(){const[r,t]=Q.useState(""),[n,s]=Q.useState("A"),[o,u]=Q.useState(""),f=Xl(),m=async()=>{if(!r||!o){alert("Please fill all fields");return}const g=Vl(Ll,"rooms",o.toUpperCase()),y=await iD(g);if(!y.exists()){alert("Room not found");return}const E=y.data();if(Object.values(E.users||{}).some(R=>R.role===n)){alert(`Team ${n} already taken`);return}await Um(g,{[`users.${Gh.currentUser.uid}`]:{name:r,role:n,ready:!1,joinedAt:Date.now()}}),f(`/room/${o}`)};return at.jsxs("div",{style:{padding:20},children:[at.jsx("h2",{children:"Join Draft Room"}),at.jsx("input",{placeholder:"Your alias / team name",value:r,onChange:g=>t(g.target.value)}),at.jsx("br",{}),at.jsx("br",{}),at.jsxs("select",{value:n,onChange:g=>s(g.target.value),children:[at.jsx("option",{value:"A",children:"Team A"}),at.jsx("option",{value:"B",children:"Team B"})]}),at.jsx("br",{}),at.jsx("br",{}),at.jsx("input",{placeholder:"Room Code",value:o,onChange:g=>u(g.target.value)}),at.jsx("br",{}),at.jsx("br",{}),at.jsx("button",{onClick:m,children:"Join Room"})]})}const uN=[{id:"c1",name:"Commander Alpha"},{id:"c2",name:"Commander Bravo"},{id:"c3",name:"Commander Charlie"},{id:"c4",name:"Commander Delta"},{id:"c5",name:"Commander Echo"},{id:"c6",name:"Commander Foxtrot"}];function cN(r){return r==="6-ban"?[{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"pick",count:1},{team:"B",action:"pick",count:2},{team:"A",action:"pick",count:1},{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"pick",count:1},{team:"B",action:"pick",count:2},{team:"A",action:"pick",count:1}]:r==="8-ban"?[{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"pick",count:1},{team:"B",action:"pick",count:2},{team:"A",action:"pick",count:1},{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"ban",count:1},{team:"B",action:"ban",count:1},{team:"A",action:"pick",count:1},{team:"B",action:"pick",count:2},{team:"A",action:"pick",count:1}]:[]}function hN(){const{code:r}=i1(),t=Xl(),[n,s]=Q.useState(null),[o,u]=Q.useState("6-ban");if(Q.useEffect(()=>{const F=sD(Vl(Ll,"rooms",r),H=>{const W=H.data();s(W),W?.draft?.type&&u(W.draft.type)});return()=>F()},[r]),!n)return at.jsx("p",{children:"Loading..."});const f=n.users?.[Gh.currentUser.uid],m=n.draft,g=m?.steps?.[m.stepIndex],y=m?.bans.map(F=>F.commanderId)||[],E=m?.picks.A||[],S=m?.picks.B||[],R=F=>y.includes(F)?"banned":E.includes(F)?"A":S.includes(F)?"B":"available",U=async()=>{f.role==="referee"&&await Um(Vl(Ll,"rooms",r),{status:"draft",draft:{type:o,mode:"scrimmage",steps:cN(o),stepIndex:0,pickIndexInStep:0,bans:[],picks:{A:[],B:[]},startedAt:Date.now(),turnStartedAt:Date.now()}})},X=async F=>{if(!g||f.role!==g.team)return;const H=Vl(Ll,"rooms",r);let W={};g.action==="ban"&&(W["draft.bans"]=[...m.bans,{team:g.team,commanderId:F}]),g.action==="pick"&&(W[`draft.picks.${g.team}`]=[...m.picks[g.team],F]);let et=m.pickIndexInStep+1,it=m.stepIndex;et>=g.count&&(et=0,it++),it>=m.steps.length&&(W.status="done"),W["draft.pickIndexInStep"]=et,W["draft.stepIndex"]=it,await Um(H,W),W.status==="done"&&t(`/summary/${r}`)};return at.jsxs("div",{style:{padding:16},children:[at.jsxs("h2",{children:["Room Code: ",r]}),n.status==="lobby"&&at.jsxs(at.Fragment,{children:[at.jsx("h3",{children:"Lobby"}),at.jsx("ul",{children:Object.entries(n.users).map(([F,H])=>at.jsxs("li",{children:[at.jsx("strong",{children:H.name}),"  ",H.role]},F))}),f?.role==="referee"&&at.jsxs("div",{style:{marginTop:20,padding:12,border:"1px solid #333",borderRadius:8,maxWidth:320},children:[at.jsx("strong",{children:"Draft Format"}),at.jsx("div",{style:{marginTop:8},children:at.jsxs("label",{children:[at.jsx("input",{type:"radio",value:"6-ban",checked:o==="6-ban",onChange:()=>u("6-ban")})," ","6 Ban Format"]})}),at.jsx("div",{children:at.jsxs("label",{children:[at.jsx("input",{type:"radio",value:"8-ban",checked:o==="8-ban",onChange:()=>u("8-ban")})," ","8 Ban Format"]})}),at.jsx("button",{onClick:U,style:{marginTop:12,width:"100%"},children:" Start Draft"})]}),f?.role!=="referee"&&at.jsxs("p",{style:{marginTop:12},children:["Draft Format: ",at.jsx("strong",{children:o})]})]}),n.status==="draft"&&g&&at.jsxs(at.Fragment,{children:[at.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[at.jsx("strong",{style:{color:g.team==="A"?"#3b82f6":"#888"},children:"TEAM A"}),at.jsx("strong",{children:g.action.toUpperCase()}),at.jsx("strong",{style:{color:g.team==="B"?"#a855f7":"#888"},children:"TEAM B"})]}),at.jsx("div",{style:{display:"flex",gap:6,marginBottom:16,flexWrap:"wrap"},children:m.steps.map((F,H)=>at.jsxs("div",{style:{padding:"4px 8px",borderRadius:6,background:H===m.stepIndex?"#22c55e":"#333",fontSize:12},children:[F.team," ",F.action]},H))}),at.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:10},children:uN.map(F=>{const H=R(F.id),W=H!=="available";return at.jsxs("div",{onClick:()=>!W&&f.role===g.team&&X(F.id),style:{opacity:W?.35:1,border:H==="A"?"2px solid #3b82f6":H==="B"?"2px solid #a855f7":H==="banned"?"2px solid #ef4444":"1px solid #444",borderRadius:8,padding:4,textAlign:"center",cursor:W?"not-allowed":"pointer"},children:[at.jsx("img",{src:`/commanders/${F.id}.png`,alt:F.name,style:{width:"100%",borderRadius:6}}),at.jsx("small",{children:F.name})]},F.id)})})]})]})}function fN(){return at.jsx(H1,{children:at.jsxs(_1,{children:[at.jsx(Al,{path:"/",element:at.jsx(Z1,{})}),at.jsx(Al,{path:"/referee",element:at.jsx(oN,{})}),at.jsx(Al,{path:"/join",element:at.jsx(lN,{})}),at.jsx(Al,{path:"/room/:roomId",element:at.jsx(hN,{})})]})})}Eb.createRoot(document.getElementById("root")).render(at.jsx(fb.StrictMode,{children:at.jsx(fN,{})}));
