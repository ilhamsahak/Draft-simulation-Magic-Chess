(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function VE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bd={exports:{}},yl={};var Y_;function t1(){if(Y_)return yl;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var X_;function e1(){return X_||(X_=1,Bd.exports=t1()),Bd.exports}var ft=e1(),jd={exports:{}},Et={};var $_;function n1(){if($_)return Et;$_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,F={};function et(M,$,st){this.props=M,this.context=$,this.refs=F,this.updater=st||J}et.prototype.isReactComponent={},et.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},et.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function tt(){}tt.prototype=et.prototype;function it(M,$,st){this.props=M,this.context=$,this.refs=F,this.updater=st||J}var Ct=it.prototype=new tt;Ct.constructor=it,X(Ct,et.prototype),Ct.isPureReactComponent=!0;var It=Array.isArray;function wt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function w(M,$,st){var ot=st.ref;return{$$typeof:r,type:M,key:$,ref:ot!==void 0?ot:null,props:st}}function V(M,$){return w(M.type,$,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(st){return $[st]})}var C=/\/+/g;function ie(M,$){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):$.toString(36)}function Ie(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,$,st,ot,_t){var bt=typeof M;(bt==="undefined"||bt==="boolean")&&(M=null);var Pt=!1;if(M===null)Pt=!0;else switch(bt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(M.$$typeof){case r:case t:Pt=!0;break;case E:return Pt=M._init,G(Pt(M._payload),$,st,ot,_t)}}if(Pt)return _t=_t(M),Pt=ot===""?"."+ie(M,0):ot,It(_t)?(st="",Pt!=null&&(st=Pt.replace(C,"$&/")+"/"),G(_t,$,st,"",function(os){return os})):_t!=null&&(N(_t)&&(_t=V(_t,st+(_t.key==null||M&&M.key===_t.key?"":(""+_t.key).replace(C,"$&/")+"/")+Pt)),$.push(_t)),1;Pt=0;var De=ot===""?".":ot+":";if(It(M))for(var re=0;re<M.length;re++)ot=M[re],bt=De+ie(ot,re),Pt+=G(ot,$,st,bt,_t);else if(re=P(M),typeof re=="function")for(M=re.call(M),re=0;!(ot=M.next()).done;)ot=ot.value,bt=De+ie(ot,re++),Pt+=G(ot,$,st,bt,_t);else if(bt==="object"){if(typeof M.then=="function")return G(Ie(M),$,st,ot,_t);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function rt(M,$,st){if(M==null)return M;var ot=[],_t=0;return G(M,ot,"","",function(bt){return $.call(st,bt,_t++)}),ot}function dt(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(st){(M._status===0||M._status===-1)&&(M._status=1,M._result=st)},function(st){(M._status===0||M._status===-1)&&(M._status=2,M._result=st)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:rt,forEach:function(M,$,st){rt(M,function(){$.apply(this,arguments)},st)},count:function(M){var $=0;return rt(M,function(){$++}),$},toArray:function(M){return rt(M,function($){return $})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=S,Et.Children=Gt,Et.Component=et,Et.Fragment=n,Et.Profiler=o,Et.PureComponent=it,Et.StrictMode=s,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,$,st){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=X({},M.props),_t=M.key;if($!=null)for(bt in $.key!==void 0&&(_t=""+$.key),$)!b.call($,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&$.ref===void 0||(ot[bt]=$[bt]);var bt=arguments.length-2;if(bt===1)ot.children=st;else if(1<bt){for(var Pt=Array(bt),De=0;De<bt;De++)Pt[De]=arguments[De+2];ot.children=Pt}return w(M.type,_t,ot)},Et.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Et.createElement=function(M,$,st){var ot,_t={},bt=null;if($!=null)for(ot in $.key!==void 0&&(bt=""+$.key),$)b.call($,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=$[ot]);var Pt=arguments.length-2;if(Pt===1)_t.children=st;else if(1<Pt){for(var De=Array(Pt),re=0;re<Pt;re++)De[re]=arguments[re+2];_t.children=De}if(M&&M.defaultProps)for(ot in Pt=M.defaultProps,Pt)_t[ot]===void 0&&(_t[ot]=Pt[ot]);return w(M,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:p,render:M}},Et.isValidElement=N,Et.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:dt}},Et.memo=function(M,$){return{$$typeof:y,type:M,compare:$===void 0?null:$}},Et.startTransition=function(M){var $=D.T,st={};D.T=st;try{var ot=M(),_t=D.S;_t!==null&&_t(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(wt,zt)}catch(bt){zt(bt)}finally{$!==null&&st.types!==null&&($.types=st.types),D.T=$}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(M){return D.H.use(M)},Et.useActionState=function(M,$,st){return D.H.useActionState(M,$,st)},Et.useCallback=function(M,$){return D.H.useCallback(M,$)},Et.useContext=function(M){return D.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,$){return D.H.useDeferredValue(M,$)},Et.useEffect=function(M,$){return D.H.useEffect(M,$)},Et.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(M,$,st){return D.H.useImperativeHandle(M,$,st)},Et.useInsertionEffect=function(M,$){return D.H.useInsertionEffect(M,$)},Et.useLayoutEffect=function(M,$){return D.H.useLayoutEffect(M,$)},Et.useMemo=function(M,$){return D.H.useMemo(M,$)},Et.useOptimistic=function(M,$){return D.H.useOptimistic(M,$)},Et.useReducer=function(M,$,st){return D.H.useReducer(M,$,st)},Et.useRef=function(M){return D.H.useRef(M)},Et.useState=function(M){return D.H.useState(M)},Et.useSyncExternalStore=function(M,$,st){return D.H.useSyncExternalStore(M,$,st)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.3",Et}var J_;function Vm(){return J_||(J_=1,jd.exports=n1()),jd.exports}var K=Vm();const i1=VE(K);var Hd={exports:{}},_l={},qd={exports:{}},Fd={};var Z_;function r1(){return Z_||(Z_=1,(function(r){function t(G,rt){var dt=G.length;G.push(rt);t:for(;0<dt;){var zt=dt-1>>>1,Gt=G[zt];if(0<o(Gt,rt))G[zt]=rt,G[dt]=Gt,dt=zt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var rt=G[0],dt=G.pop();if(dt!==rt){G[0]=dt;t:for(var zt=0,Gt=G.length,M=Gt>>>1;zt<M;){var $=2*(zt+1)-1,st=G[$],ot=$+1,_t=G[ot];if(0>o(st,dt))ot<Gt&&0>o(_t,st)?(G[zt]=_t,G[ot]=dt,zt=ot):(G[zt]=st,G[$]=dt,zt=$);else if(ot<Gt&&0>o(_t,dt))G[zt]=_t,G[ot]=dt,zt=ot;else break t}}return rt}function o(G,rt){var dt=G.sortIndex-rt.sortIndex;return dt!==0?dt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],E=1,S=null,R=3,P=!1,J=!1,X=!1,F=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var rt=n(y);rt!==null;){if(rt.callback===null)s(y);else if(rt.startTime<=G)s(y),rt.sortIndex=rt.expirationTime,t(g,rt);else break;rt=n(y)}}function It(G){if(X=!1,Ct(G),!J)if(n(g)!==null)J=!0,wt||(wt=!0,L());else{var rt=n(y);rt!==null&&Ie(It,rt.startTime-G)}}var wt=!1,D=-1,b=5,w=-1;function V(){return F?!0:!(r.unstable_now()-w<b)}function N(){if(F=!1,wt){var G=r.unstable_now();w=G;var rt=!0;try{t:{J=!1,X&&(X=!1,tt(D),D=-1),P=!0;var dt=R;try{e:{for(Ct(G),S=n(g);S!==null&&!(S.expirationTime>G&&V());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,R=S.priorityLevel;var Gt=zt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Gt=="function"){S.callback=Gt,Ct(G),rt=!0;break e}S===n(g)&&s(g),Ct(G)}else s(g);S=n(g)}if(S!==null)rt=!0;else{var M=n(y);M!==null&&Ie(It,M.startTime-G),rt=!1}}break t}finally{S=null,R=dt,P=!1}rt=void 0}}finally{rt?L():wt=!1}}}var L;if(typeof it=="function")L=function(){it(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=N,L=function(){ie.postMessage(null)}}else L=function(){et(N,0)};function Ie(G,rt){D=et(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var rt=3;break;default:rt=R}var dt=R;R=rt;try{return G()}finally{R=dt}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=R;R=G;try{return rt()}finally{R=dt}},r.unstable_scheduleCallback=function(G,rt,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=dt+Gt,G={id:E++,callback:rt,priorityLevel:G,startTime:dt,expirationTime:Gt,sortIndex:-1},dt>zt?(G.sortIndex=dt,t(y,G),n(g)===null&&G===n(y)&&(X?(tt(D),D=-1):X=!0,Ie(It,dt-zt))):(G.sortIndex=Gt,t(g,G),J||P||(J=!0,wt||(wt=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var rt=R;return function(){var dt=R;R=rt;try{return G.apply(this,arguments)}finally{R=dt}}}})(Fd)),Fd}var W_;function s1(){return W_||(W_=1,qd.exports=r1()),qd.exports}var Gd={exports:{}},Ye={};var tv;function a1(){if(tv)return Ye;tv=1;var r=Vm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},Ye.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Ye.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:R,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Ye.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,y){return g(y)},Ye.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var ev;function o1(){if(ev)return Gd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=a1(),Gd.exports}var nv;function l1(){if(nv)return _l;nv=1;var r=s1(),t=Vm(),n=o1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),tt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case et:return"Profiler";case F:return"StrictMode";case It:return"Suspense";case wt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case it:return e.displayName||"Context";case tt:return(e._context.displayName||"Context")+".Consumer";case Ct:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return i=e.displayName||null,i!==null?i:ie(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ie(e(i))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function $(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function st(e,i){Gt++,zt[Gt]=e.current,e.current=i}var ot=M(null),_t=M(null),bt=M(null),Pt=M(null);function De(e,i){switch(st(bt,i),st(_t,e),st(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=y_(i),e=__(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ot),st(ot,e)}function re(){$(ot),$(_t),$(bt)}function os(e){e.memoizedState!==null&&st(Pt,e);var i=ot.current,a=__(i,e.type);i!==a&&(st(_t,e),st(ot,a))}function Js(e){_t.current===e&&($(ot),$(_t)),Pt.current===e&&($(Pt),dl._currentValue=dt)}var Zs,Ws;function ti(e){if(Zs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zs=i&&i[1]||"",Ws=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zs+e+Ws}var fo=!1;function ls(e,i){if(!e||fo)return"";fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(H){B=H}e.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var q=`
`+I[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ti(a):""}function mo(e,i){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==i&&i!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return ti("Activity");default:return""}}function po(e){try{var i="",a=null;do i+=mo(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,or=r.unstable_cancelCallback,jh=r.unstable_shouldYield,iu=r.unstable_requestPaint,We=r.unstable_now,us=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,yo=r.unstable_UserBlockingPriority,lr=r.unstable_NormalPriority,Hh=r.unstable_LowPriority,ru=r.unstable_IdlePriority,su=r.log,au=r.unstable_setDisableYieldValue,zn=null,ze=null;function An(e){if(typeof su=="function"&&au(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:lu,ou=Math.log,ta=Math.LN2;function lu(e){return e>>>=0,e===0?32:31-(ou(e)/ta|0)|0}var ei=256,cs=262144,_e=4194304;function ni(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ni(l):(_&=T,_!==0?h=ni(_):a||(a=T&~e,a!==0&&(h=ni(a))))):(T=l&~d,T!==0?h=ni(T):_!==0?h=ni(_):a||(a=l&~e,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Bn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function qh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ri(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function hs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,i,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var q=31-fe(a),Y=1<<q;T[q]=0,I[q]=-1;var B=z[q];if(B!==null)for(z[q]=null,q=0;q<B.length;q++){var H=B[q];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&fs(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function fs(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-fe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function _o(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-fe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function vo(e,i){var a=i&-i;return a=(a&42)!==0?1:ds(a),(a&(e.suspendedLanes|i))!==0?0:a}function ds(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function jn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Hn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Hn,Le="__reactProps$"+Hn,si="__reactContainer$"+Hn,ea="__reactEvents$"+Hn,Gh="__reactListeners$"+Hn,hu="__reactHandles$"+Hn,fu="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function na(e){delete e[ve],delete e[Le],delete e[ea],delete e[Gh],delete e[hu]}function oi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[si]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=R_(e);e!==null;){if(a=e[ve])return a;e=R_(e)}return i}e=a,a=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function fn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function li(e){var i=e[fu];return i||(i=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ee(e){e[ai]=!0}var Eo=new Set,To={};function ui(e,i){ci(e,i),ci(e+"Capture",i)}function ci(e,i){for(To[e]=i,e=0;e<i.length;e++)Eo.add(i[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},bo={};function du(e){return ye.call(bo,e)?!0:ye.call(Ao,e)?!1:So.test(e)?bo[e]=!0:(Ao[e]=!0,!1)}function ia(e,i,a){if(du(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function dn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Te(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ur(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ro(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Kt(e){if(!e._valueTracker){var i=ur(e)?"checked":"value";e._valueTracker=Ro(e,i,""+e[i])}}function ms(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ur(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ps=/[\n"\\]/g;function nn(e){return e.replace(ps,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(e,i,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ue(i)):e.value!==""+Ue(i)&&(e.value=""+Ue(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?wo(e,_,Ue(i)):a!=null?wo(e,_,Ue(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ue(T):e.removeAttribute("name")}function mu(e,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Kt(e);return}a=a!=null?""+Ue(a):"",i=i!=null?""+Ue(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Kt(e)}function wo(e,i,a){i==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function pu(e,i,a){if(i!=null&&(i=""+Ue(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ue(a):""}function hr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ue(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Kt(e)}function rn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||gu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Io(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Co(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Co(e,d,i[d])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return fr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Do=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dr=null,fi=null;function gs(e){var i=bn(e);if(i&&(e=i.stateNode)){var a=e[Le]||null;t:switch(e=i.stateNode,i.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Le]||null;if(!h)throw Error(s(90));ra(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ms(l)}break t;case"textarea":pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&cr(e,!!a.multiple,i,!1)}}}var oa=!1;function mr(e,i,a){if(oa)return e(i,a);oa=!0;try{var l=e(i);return l}finally{if(oa=!1,(dr!==null||fi!==null)&&(cc(),dr&&(i=dr,e=fi,fi=dr=null,gs(i),e)))for(i=0;i<e.length;i++)gs(e[i])}}function Fn(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(wn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{ys=!1}var di=null,Oo=null,_s=null;function No(){if(_s)return _s;var e,i=Oo,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return _s=h.slice(e,1<l?1-l:void 0)}function vs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Gn(){return!1}function Be(e){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Vi:Gn,this.isPropagationStopped=Gn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),i}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=Be(xi),pr=S({},xi,{view:0,detail:0}),Mo=Be(pr),gr,la,pi,ua=S({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(gr=e.screenX-pi.screenX,la=e.screenY-pi.screenY):la=gr=0,pi=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Vo=Be(ua),Es=S({},ua,{dataTransfer:0}),_u=Be(Es),vu=S({},pr,{relatedTarget:0}),Ts=Be(vu),xo=S({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Be(xo),ca=S({},xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Be(ca),Su=S({},xi,{data:0}),gi=Be(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function yr(){return wu}var tn=S({},pr,{key:function(e){if(e.key){var i=Au[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Be(tn),Iu=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(Iu),c=S({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),m=Be(c),v=S({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),U=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Be(U),nt=S({},xi,{newState:0,oldState:0}),St=Be(nt),de=[9,13,27,32],Ht=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Cn=wn&&"TextEvent"in window&&!se,yi=wn&&(!Ht||se&&8<se&&11>=se),Kn=" ",Qn=!1;function Ss(e,i){switch(e){case"keyup":return de.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function bS(e,i){switch(e){case"compositionend":return ha(i);case"keypress":return i.which!==32?null:(Qn=!0,Kn);case"textInput":return e=i.data,e===Kn&&Qn?null:e;default:return null}}function RS(e,i){if(fa)return e==="compositionend"||!Ht&&Ss(e,i)?(e=No(),_s=Oo=di=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yi&&i.locale!=="ko"?null:i.data;default:return null}}var wS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ip(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!wS[e.type]:i==="textarea"}function Dp(e,i,a,l){dr?fi?fi.push(l):fi=[l]:dr=l,i=yc(i,"onChange"),0<i.length&&(a=new mi("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Lo=null,Uo=null;function CS(e){h_(e,0)}function Du(e){var i=fn(e);if(ms(i))return e}function Op(e,i){if(e==="change")return i}var Np=!1;if(wn){var Kh;if(wn){var Qh="oninput"in document;if(!Qh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Qh=typeof Mp.oninput=="function"}Kh=Qh}else Kh=!1;Np=Kh&&(!document.documentMode||9<document.documentMode)}function Vp(){Lo&&(Lo.detachEvent("onpropertychange",xp),Uo=Lo=null)}function xp(e){if(e.propertyName==="value"&&Du(Uo)){var i=[];Dp(i,Uo,e,Rn(e)),mr(CS,i)}}function IS(e,i,a){e==="focusin"?(Vp(),Lo=i,Uo=a,Lo.attachEvent("onpropertychange",xp)):e==="focusout"&&Vp()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Uo)}function OS(e,i){if(e==="click")return Du(i)}function NS(e,i){if(e==="input"||e==="change")return Du(i)}function MS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var mn=typeof Object.is=="function"?Object.is:MS;function Po(e,i){if(mn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ye.call(i,h)||!mn(e[h],i[h]))return!1}return!0}function Lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Up(e,i){var a=Lp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Lp(a)}}function Pp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Pp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hi(e.document)}return i}function Yh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VS=wn&&"documentMode"in document&&11>=document.documentMode,da=null,Xh=null,ko=null,$h=!1;function zp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;$h||da==null||da!==hi(l)||(l=da,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Po(ko,l)||(ko=l,l=yc(Xh,"onSelect"),0<l.length&&(i=new mi("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=da)))}function As(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ma={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Jh={},Bp={};wn&&(Bp=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function bs(e){if(Jh[e])return Jh[e];if(!ma[e])return e;var i=ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Bp)return Jh[e]=i[a];return e}var jp=bs("animationend"),Hp=bs("animationiteration"),qp=bs("animationstart"),xS=bs("transitionrun"),LS=bs("transitionstart"),US=bs("transitioncancel"),Fp=bs("transitionend"),Gp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Yn(e,i){Gp.set(e,i),ui(i,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],pa=0,Wh=0;function Nu(){for(var e=pa,i=Wh=pa=0;i<e;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Kp(a,h,d)}}function Mu(e,i,a,l){In[pa++]=e,In[pa++]=i,In[pa++]=a,In[pa++]=l,Wh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function tf(e,i,a,l){return Mu(e,i,a,l),Vu(e)}function Rs(e,i){return Mu(e,null,null,i),Vu(e)}function Kp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-fe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Vu(e){if(50<al)throw al=0,cd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function PS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,l){return new PS(e,i,a,l)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Qp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function xu(e,i,a,l,h,d){var _=0;if(l=e,typeof e=="function")ef(e)&&(_=1);else if(typeof e=="string")_=HA(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=pn(31,a,i,h),e.elementType=w,e.lanes=d,e;case X:return ws(a.children,h,d,i);case F:_=8,h|=24;break;case et:return e=pn(12,a,i,h|2),e.elementType=et,e.lanes=d,e;case It:return e=pn(13,a,i,h),e.elementType=It,e.lanes=d,e;case wt:return e=pn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case tt:_=9;break t;case Ct:_=11;break t;case D:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=pn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ws(e,i,a,l){return e=pn(7,e,l,i),e.lanes=a,e}function nf(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function Yp(e){var i=pn(18,null,null,0);return i.stateNode=e,i}function rf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Xp=new WeakMap;function Dn(e,i){if(typeof e=="object"&&e!==null){var a=Xp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:po(i)},Xp.set(e,i),i)}return{value:e,source:i,stack:po(i)}}var ya=[],_a=0,Lu=null,zo=0,On=[],Nn=0,_r=null,_i=1,vi="";function Pi(e,i){ya[_a++]=zo,ya[_a++]=Lu,Lu=e,zo=i}function $p(e,i,a){On[Nn++]=_i,On[Nn++]=vi,On[Nn++]=_r,_r=e;var l=_i;e=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,_i=1<<32-fe(i)+h|a<<h|l,vi=d+e}else _i=1<<d|a<<h|l,vi=e}function sf(e){e.return!==null&&(Pi(e,1),$p(e,1,0))}function af(e){for(;e===Lu;)Lu=ya[--_a],ya[_a]=null,zo=ya[--_a],ya[_a]=null;for(;e===_r;)_r=On[--Nn],On[Nn]=null,vi=On[--Nn],On[Nn]=null,_i=On[--Nn],On[Nn]=null}function Jp(e,i){On[Nn++]=_i,On[Nn++]=vi,On[Nn++]=_r,_i=i.id,vi=i.overflow,_r=e}var je=null,te=null,Ut=!1,vr=null,Mn=!1,of=Error(s(519));function Er(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(Dn(i,e)),of}function Zp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ve]=e,i[Le]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<ll.length;a++)Ot(ll[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),hr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=qn),i=!0):i=!1,i||Er(e,!0)}function Wp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function va(e){if(e!==je)return!1;if(!Ut)return Wp(e),Ut=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Rd(e.type,e.memoizedProps)),a=!a),a&&te&&Er(e),Wp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=b_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));te=b_(e)}else i===27?(i=te,xr(e.type)?(e=Od,Od=null,te=e):te=i):te=je?xn(e.stateNode.nextSibling):null;return!0}function Cs(){te=je=null,Ut=!1}function lf(){var e=vr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),vr=null),e}function Bo(e){vr===null?vr=[e]:vr.push(e)}var uf=M(null),Is=null,ki=null;function Tr(e,i,a){st(uf,i._currentValue),i._currentValue=a}function zi(e){e._currentValue=uf.current,$(uf)}function cf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function hf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),cf(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),cf(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ea(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;mn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&hf(i,e,a,l),i.flags|=262144}function Uu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Is=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return tg(Is,e)}function Pu(e,i){return Is===null&&Ds(e),tg(e,i)}function tg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(e===null)throw Error(s(308));ki=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ki=ki.next=i;return a}var kS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},zS=r.unstable_scheduleCallback,BS=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new kS,data:new Map,refCount:0}}function jo(e){e.refCount--,e.refCount===0&&zS(BS,function(){e.controller.abort()})}var Ho=null,df=0,Ta=0,Sa=null;function jS(e,i){if(Ho===null){var a=Ho=[];df=0,Ta=gd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(eg,eg),i}function eg(){if(--df===0&&Ho!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ho;Ho=null,Ta=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function HS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ng=G.S;G.S=function(e,i){zy=We(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(e,i),ng!==null&&ng(e,i)};var Os=M(null);function mf(){var e=Os.current;return e!==null?e:Wt.pooledCache}function ku(e,i){i===null?st(Os,Os.current):st(Os,i.pool)}function ig(){var e=mf();return e===null?null:{parent:Se._currentValue,pool:e}}var Aa=Error(s(460)),pf=Error(s(474)),zu=Error(s(542)),Bu={then:function(){}};function rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(qn,qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,og(e),e;default:if(typeof i.status=="string")i.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,og(e),e}throw Ms=i,Aa}}function Ns(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ms=a,Aa):a}}var Ms=null;function ag(){if(Ms===null)throw Error(s(459));var e=Ms;return Ms=null,e}function og(e){if(e===Aa||e===zu)throw Error(s(483))}var ba=null,qo=0;function ju(e){var i=qo;return qo+=1,ba===null&&(ba=[]),sg(ba,e,i)}function Fo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Hu(e,i){throw i.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function lg(e){function i(x,O){if(e){var k=x.deletions;k===null?(x.deletions=[O],x.flags|=16):k.push(O)}}function a(x,O){if(!e)return null;for(;O!==null;)i(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function h(x,O){return x=Ui(x,O),x.index=0,x.sibling=null,x}function d(x,O,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<O?(x.flags|=67108866,O):k):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,O,k,Q){return O===null||O.tag!==6?(O=nf(k,x.mode,Q),O.return=x,O):(O=h(O,k),O.return=x,O)}function I(x,O,k,Q){var ht=k.type;return ht===X?q(x,O,k.props.children,Q,k.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ns(ht)===O.type)?(O=h(O,k.props),Fo(O,k),O.return=x,O):(O=xu(k.type,k.key,k.props,null,x.mode,Q),Fo(O,k),O.return=x,O)}function z(x,O,k,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=rf(k,x.mode,Q),O.return=x,O):(O=h(O,k.children||[]),O.return=x,O)}function q(x,O,k,Q,ht){return O===null||O.tag!==7?(O=ws(k,x.mode,Q,ht),O.return=x,O):(O=h(O,k),O.return=x,O)}function Y(x,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nf(""+O,x.mode,k),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return k=xu(O.type,O.key,O.props,null,x.mode,k),Fo(k,O),k.return=x,k;case J:return O=rf(O,x.mode,k),O.return=x,O;case b:return O=Ns(O),Y(x,O,k)}if(Ie(O)||L(O))return O=ws(O,x.mode,k,null),O.return=x,O;if(typeof O.then=="function")return Y(x,ju(O),k);if(O.$$typeof===it)return Y(x,Pu(x,O),k);Hu(x,O)}return null}function B(x,O,k,Q){var ht=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:T(x,O,""+k,Q);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P:return k.key===ht?I(x,O,k,Q):null;case J:return k.key===ht?z(x,O,k,Q):null;case b:return k=Ns(k),B(x,O,k,Q)}if(Ie(k)||L(k))return ht!==null?null:q(x,O,k,Q,null);if(typeof k.then=="function")return B(x,O,ju(k),Q);if(k.$$typeof===it)return B(x,O,Pu(x,k),Q);Hu(x,k)}return null}function H(x,O,k,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(k)||null,T(O,x,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return x=x.get(Q.key===null?k:Q.key)||null,I(O,x,Q,ht);case J:return x=x.get(Q.key===null?k:Q.key)||null,z(O,x,Q,ht);case b:return Q=Ns(Q),H(x,O,k,Q,ht)}if(Ie(Q)||L(Q))return x=x.get(k)||null,q(O,x,Q,ht,null);if(typeof Q.then=="function")return H(x,O,k,ju(Q),ht);if(Q.$$typeof===it)return H(x,O,k,Pu(O,Q),ht);Hu(O,Q)}return null}function lt(x,O,k,Q){for(var ht=null,Bt=null,ut=O,Rt=O=0,Mt=null;ut!==null&&Rt<k.length;Rt++){ut.index>Rt?(Mt=ut,ut=null):Mt=ut.sibling;var jt=B(x,ut,k[Rt],Q);if(jt===null){ut===null&&(ut=Mt);break}e&&ut&&jt.alternate===null&&i(x,ut),O=d(jt,O,Rt),Bt===null?ht=jt:Bt.sibling=jt,Bt=jt,ut=Mt}if(Rt===k.length)return a(x,ut),Ut&&Pi(x,Rt),ht;if(ut===null){for(;Rt<k.length;Rt++)ut=Y(x,k[Rt],Q),ut!==null&&(O=d(ut,O,Rt),Bt===null?ht=ut:Bt.sibling=ut,Bt=ut);return Ut&&Pi(x,Rt),ht}for(ut=l(ut);Rt<k.length;Rt++)Mt=H(ut,x,Rt,k[Rt],Q),Mt!==null&&(e&&Mt.alternate!==null&&ut.delete(Mt.key===null?Rt:Mt.key),O=d(Mt,O,Rt),Bt===null?ht=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ut.forEach(function(zr){return i(x,zr)}),Ut&&Pi(x,Rt),ht}function pt(x,O,k,Q){if(k==null)throw Error(s(151));for(var ht=null,Bt=null,ut=O,Rt=O=0,Mt=null,jt=k.next();ut!==null&&!jt.done;Rt++,jt=k.next()){ut.index>Rt?(Mt=ut,ut=null):Mt=ut.sibling;var zr=B(x,ut,jt.value,Q);if(zr===null){ut===null&&(ut=Mt);break}e&&ut&&zr.alternate===null&&i(x,ut),O=d(zr,O,Rt),Bt===null?ht=zr:Bt.sibling=zr,Bt=zr,ut=Mt}if(jt.done)return a(x,ut),Ut&&Pi(x,Rt),ht;if(ut===null){for(;!jt.done;Rt++,jt=k.next())jt=Y(x,jt.value,Q),jt!==null&&(O=d(jt,O,Rt),Bt===null?ht=jt:Bt.sibling=jt,Bt=jt);return Ut&&Pi(x,Rt),ht}for(ut=l(ut);!jt.done;Rt++,jt=k.next())jt=H(ut,x,Rt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Rt:jt.key),O=d(jt,O,Rt),Bt===null?ht=jt:Bt.sibling=jt,Bt=jt);return e&&ut.forEach(function(WA){return i(x,WA)}),Ut&&Pi(x,Rt),ht}function Zt(x,O,k,Q){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case P:t:{for(var ht=k.key;O!==null;){if(O.key===ht){if(ht=k.type,ht===X){if(O.tag===7){a(x,O.sibling),Q=h(O,k.props.children),Q.return=x,x=Q;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ns(ht)===O.type){a(x,O.sibling),Q=h(O,k.props),Fo(Q,k),Q.return=x,x=Q;break t}a(x,O);break}else i(x,O);O=O.sibling}k.type===X?(Q=ws(k.props.children,x.mode,Q,k.key),Q.return=x,x=Q):(Q=xu(k.type,k.key,k.props,null,x.mode,Q),Fo(Q,k),Q.return=x,x=Q)}return _(x);case J:t:{for(ht=k.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){a(x,O.sibling),Q=h(O,k.children||[]),Q.return=x,x=Q;break t}else{a(x,O);break}else i(x,O);O=O.sibling}Q=rf(k,x.mode,Q),Q.return=x,x=Q}return _(x);case b:return k=Ns(k),Zt(x,O,k,Q)}if(Ie(k))return lt(x,O,k,Q);if(L(k)){if(ht=L(k),typeof ht!="function")throw Error(s(150));return k=ht.call(k),pt(x,O,k,Q)}if(typeof k.then=="function")return Zt(x,O,ju(k),Q);if(k.$$typeof===it)return Zt(x,O,Pu(x,k),Q);Hu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(a(x,O.sibling),Q=h(O,k),Q.return=x,x=Q):(a(x,O),Q=nf(k,x.mode,Q),Q.return=x,x=Q),_(x)):a(x,O)}return function(x,O,k,Q){try{qo=0;var ht=Zt(x,O,k,Q);return ba=null,ht}catch(ut){if(ut===Aa||ut===zu)throw ut;var Bt=pn(29,ut,null,x.mode);return Bt.lanes=Q,Bt.return=x,Bt}}}var Vs=lg(!0),ug=lg(!1),Sr=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ar(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function br(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Vu(e),Kp(e,null,a),i}return Mu(e,l,i,a),Vu(e)}function Go(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,_o(e,a)}}function _f(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var vf=!1;function Ko(){if(vf){var e=Sa;if(e!==null)throw e}}function Qo(e,i,a,l){vf=!1;var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var q=e.alternate;q!==null&&(q=q.updateQueue,T=q.lastBaseUpdate,T!==_&&(T===null?q.firstBaseUpdate=z:T.next=z,q.lastBaseUpdate=I))}if(d!==null){var Y=h.baseState;_=0,q=z=I=null,T=d;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Nt&B)===B:(l&B)===B){B!==0&&B===Ta&&(vf=!0),q!==null&&(q=q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,pt=T;B=i;var Zt=a;switch(pt.tag){case 1:if(lt=pt.payload,typeof lt=="function"){Y=lt.call(Zt,Y,B);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=pt.payload,B=typeof lt=="function"?lt.call(Zt,Y,B):lt,B==null)break t;Y=S({},Y,B);break t;case 2:Sr=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},q===null?(z=q=H,I=Y):q=q.next=H,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);q===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=q,d===null&&(h.shared.lanes=0),Dr|=_,e.lanes=_,e.memoizedState=Y}}function cg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function hg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)cg(a[e],i)}var Ra=M(null),qu=M(0);function fg(e,i){e=Yi,st(qu,e),st(Ra,i),Yi=e|i.baseLanes}function Ef(){st(qu,Yi),st(Ra,Ra.current)}function Tf(){Yi=qu.current,$(Ra),$(qu)}var gn=M(null),Vn=null;function Rr(e){var i=e.alternate;st(me,me.current&1),st(gn,e),Vn===null&&(i===null||Ra.current!==null||i.memoizedState!==null)&&(Vn=e)}function Sf(e){st(me,me.current),st(gn,e),Vn===null&&(Vn=e)}function dg(e){e.tag===22?(st(me,me.current),st(gn,e),Vn===null&&(Vn=e)):wr()}function wr(){st(me,me.current),st(gn,gn.current)}function yn(e){$(gn),Vn===e&&(Vn=null),$(me)}var me=M(0);function Fu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Dd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bi=0,At=null,$t=null,Ae=null,Gu=!1,wa=!1,xs=!1,Ku=0,Yo=0,Ca=null,qS=0;function ce(){throw Error(s(321))}function Af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!mn(e[a],i[a]))return!1;return!0}function bf(e,i,a,l,h,d){return Bi=d,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?$g:zf,xs=!1,d=a(l,h),xs=!1,wa&&(d=pg(i,a,l,h)),mg(e),d}function mg(e){G.H=Jo;var i=$t!==null&&$t.next!==null;if(Bi=0,Ae=$t=At=null,Gu=!1,Yo=0,Ca=null,i)throw Error(s(300));e===null||be||(e=e.dependencies,e!==null&&Uu(e)&&(be=!0))}function pg(e,i,a,l){At=e;var h=0;do{if(wa&&(Ca=null),Yo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Ae=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Jg,d=i(a,l)}while(wa);return d}function FS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Xo(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),i}function Rf(){var e=Ku!==0;return Ku=0,e}function wf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Cf(e){if(Gu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Gu=!1}Bi=0,Ae=$t=At=null,wa=!1,Yo=Ku=0,Ca=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function pe(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=Ae===null?At.memoizedState:Ae.next;if(i!==null)Ae=i,$t=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var i=Yo;return Yo+=1,Ca===null&&(Ca=[]),e=sg(Ca,e,i),i=At,(Ae===null?i.memoizedState:Ae.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?$g:zf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===it)return He(e)}throw Error(s(438,String(e)))}function If(e){var i=null,a=At.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Qu(),At.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function ji(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=pe();return Df(i,$t,e)}function Df(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=_=null,I=null,z=i,q=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:(Bi&Y)===Y){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ta&&(q=!0);else if((Bi&B)===B){z=z.next,B===Ta&&(q=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=Y,_=d):I=I.next=Y,At.lanes|=B,Dr|=B;Y=z.action,xs&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else B={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,_=d):I=I.next=B,At.lanes|=Y,Dr|=Y;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=T,!mn(d,e.memoizedState)&&(be=!0,q&&(a=Sa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Of(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);mn(d,i.memoizedState)||(be=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gg(e,i,a){var l=At,h=pe(),d=Ut;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!mn(($t||h).memoizedState,a);if(_&&(h.memoizedState=a,be=!0),h=h.queue,Vf(vg.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ia(9,{destroy:void 0},_g.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(Bi&127)!==0||yg(l,i,a)}return a}function yg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=At.updateQueue,i===null?(i=Qu(),At.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function _g(e,i,a,l){i.value=a,i.getSnapshot=l,Eg(i)&&Tg(e)}function vg(e,i,a){return a(function(){Eg(i)&&Tg(e)})}function Eg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!mn(e,a)}catch{return!0}}function Tg(e){var i=Rs(e,2);i!==null&&un(i,e,2)}function Nf(e){var i=en();if(typeof e=="function"){var a=e;if(e=a(),xs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},i}function Sg(e,i,a,l){return e.baseState=a,Df(e,$t,typeof l=="function"?l:ji)}function GS(e,i,a,l,h){if(Zu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ag(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ag(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var T=a(h,l),I=G.S;I!==null&&I(_,T),bg(e,i,T)}catch(z){Mf(e,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),bg(e,i,d)}catch(z){Mf(e,i,z)}}function bg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Rg(e,i,l)},function(l){return Mf(e,i,l)}):Rg(e,i,a)}function Rg(e,i,a){i.status="fulfilled",i.value=a,wg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Ag(e,a)))}function Mf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,wg(i),i=i.next;while(i!==l)}e.action=null}function wg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Cg(e,i){return i}function Ig(e,i){if(Ut){var a=Wt.formState;if(a!==null){t:{var l=At;if(Ut){if(te){e:{for(var h=te,d=Mn;h.nodeType!==8;){if(!d){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){te=xn(h.nextSibling),l=h.data==="F!";break t}}Er(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:i},a.queue=l,a=Qg.bind(null,At,l),l.dispatch=a,l=Nf(!1),d=kf.bind(null,At,!1,l.queue),l=en(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=GS.bind(null,At,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Dg(e){var i=pe();return Og(i,$t,e)}function Og(e,i,a){if(i=Df(e,i,Cg)[0],e=Xu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xo(i)}catch(_){throw _===Aa?zu:_}else l=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},KS.bind(null,h,a),null)),[l,d,e]}function KS(e,i){e.action=i}function Ng(e){var i=pe(),a=$t;if(a!==null)return Og(i,a,e);pe(),i=i.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ia(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=At.updateQueue,i===null&&(i=Qu(),At.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Mg(){return pe().memoizedState}function $u(e,i,a,l){var h=en();At.flags|=e,h.memoizedState=Ia(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ju(e,i,a,l){var h=pe();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Af(l,$t.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(At.flags|=e,h.memoizedState=Ia(1|i,d,a,l))}function Vg(e,i){$u(8390656,8,e,i)}function Vf(e,i){Ju(2048,8,e,i)}function QS(e){At.flags|=4;var i=At.updateQueue;if(i===null)i=Qu(),At.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function xg(e){var i=pe().memoizedState;return QS({ref:i,nextImpl:e}),function(){if((qt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Lg(e,i){return Ju(4,2,e,i)}function Ug(e,i){return Ju(4,4,e,i)}function Pg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function kg(e,i,a){a=a!=null?a.concat([e]):null,Ju(4,4,Pg.bind(null,i,e),a)}function xf(){}function zg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Bg(e,i){var a=pe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=e(),xs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l}function Lf(e,i,a){return a===void 0||(Bi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=jy(),At.lanes|=e,Dr|=e,a)}function jg(e,i,a,l){return mn(a,i)?a:Ra.current!==null?(e=Lf(e,a,l),mn(e,i)||(be=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Nt&261930)===0?(be=!0,e.memoizedState=a):(e=jy(),At.lanes|=e,Dr|=e,i)}function Hg(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=G.T,T={};G.T=T,kf(e,!1,i,a);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var q=HS(I,l);$o(e,i,q,En(e))}else $o(e,i,l,En(e))}catch(Y){$o(e,i,{then:function(){},status:"rejected",reason:Y},En())}finally{rt.p=d,_!==null&&T.types!==null&&(_.types=T.types),G.T=_}}function YS(){}function Uf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=qg(e).queue;Hg(e,h,i,dt,a===null?YS:function(){return Fg(e),a(l)})}function qg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Fg(e){var i=qg(e);i.next===null&&(i=e.alternate.memoizedState),$o(e,i.next.queue,{},En())}function Pf(){return He(dl)}function Gg(){return pe().memoizedState}function Kg(){return pe().memoizedState}function XS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=Ar(a);var l=br(i,e,a);l!==null&&(un(l,i,a),Go(l,i,a)),i={cache:ff()},e.payload=i;return}i=i.return}}function $S(e,i,a){var l=En();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zu(e)?Yg(i,a):(a=tf(e,i,a,l),a!==null&&(un(a,e,l),Xg(a,i,l)))}function Qg(e,i,a){var l=En();$o(e,i,a,l)}function $o(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))Yg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,mn(T,_))return Mu(e,i,h,0),Wt===null&&Nu(),!1}catch{}if(a=tf(e,i,h,l),a!==null)return un(a,e,l),Xg(a,i,l),!0}return!1}function kf(e,i,a,l){if(l={lane:2,revertLane:gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(i)throw Error(s(479))}else i=tf(e,a,l,2),i!==null&&un(i,e,2)}function Zu(e){var i=e.alternate;return e===At||i!==null&&i===At}function Yg(e,i){wa=Gu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Xg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,_o(e,a)}}var Jo={readContext:He,use:Yu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Jo.useEffectEvent=ce;var $g={readContext:He,use:Yu,useCallback:function(e,i){return en().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:Vg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,$u(4194308,4,Pg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return $u(4194308,4,e,i)},useInsertionEffect:function(e,i){$u(4,2,e,i)},useMemo:function(e,i){var a=en();i=i===void 0?null:i;var l=e();if(xs){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=en();if(a!==void 0){var h=a(i);if(xs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=$S.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var i=en();return e={current:e},i.memoizedState=e},useState:function(e){e=Nf(e);var i=e.queue,a=Qg.bind(null,At,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(e,i){var a=en();return Lf(a,e,i)},useTransition:function(){var e=Nf(!1);return e=Hg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=At,h=en();if(Ut){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(Nt&127)!==0||yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Vg(vg.bind(null,l,d,e),[e]),l.flags|=2048,Ia(9,{destroy:void 0},_g.bind(null,l,d,a,i),null),a},useId:function(){var e=en(),i=Wt.identifierPrefix;if(Ut){var a=vi,l=_i;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Ku++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=qS++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Pf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e){var i=en();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,At,!0,a),a.dispatch=i,[e,i]},useMemoCache:If,useCacheRefresh:function(){return en().memoizedState=XS.bind(null,At)},useEffectEvent:function(e){var i=en(),a={impl:e};return i.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:He,use:Yu,useCallback:zg,useContext:He,useEffect:Vf,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Bg,useReducer:Xu,useRef:Mg,useState:function(){return Xu(ji)},useDebugValue:xf,useDeferredValue:function(e,i){var a=pe();return jg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Xu(ji)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Pf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,i){var a=pe();return Sg(a,$t,e,i)},useMemoCache:If,useCacheRefresh:Kg};zf.useEffectEvent=xg;var Jg={readContext:He,use:Yu,useCallback:zg,useContext:He,useEffect:Vf,useImperativeHandle:kg,useInsertionEffect:Lg,useLayoutEffect:Ug,useMemo:Bg,useReducer:Of,useRef:Mg,useState:function(){return Of(ji)},useDebugValue:xf,useDeferredValue:function(e,i){var a=pe();return $t===null?Lf(a,e,i):jg(a,$t.memoizedState,e,i)},useTransition:function(){var e=Of(ji)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Xo(e),i]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Pf,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,i){var a=pe();return $t!==null?Sg(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Kg};Jg.useEffectEvent=xg;function Bf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:S({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var jf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=En(),h=Ar(l);h.payload=i,a!=null&&(h.callback=a),i=br(e,h,l),i!==null&&(un(i,e,l),Go(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=En(),h=Ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(e,h,l),i!==null&&(un(i,e,l),Go(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),l=Ar(a);l.tag=2,i!=null&&(l.callback=i),i=br(e,l,a),i!==null&&(un(i,e,a),Go(i,e,a))}};function Zg(e,i,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Po(a,l)||!Po(h,d):!0}function Wg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&jf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function ty(e){Ou(e)}function ey(e){console.error(e)}function ny(e){Ou(e)}function Wu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function iy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,i,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(e,i)},a}function ry(e){return e=Ar(e),e.tag=3,e}function sy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){iy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){iy(i,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function JS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ea(i,a,h,!0),a=gn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?hc():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dd(e,l,h)),!1;case 22:return a.flags|=65536,l===Bu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dd(e,l,h)),!1}throw Error(s(435,a.tag))}return dd(e,l,h),hc(),!1}if(Ut)return i=gn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(e=Error(s(422),{cause:l}),Bo(Dn(e,a)))):(l!==of&&(i=Error(s(423),{cause:l}),Bo(Dn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,a),h=Hf(e.stateNode,l,h),_f(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),sl===null?sl=[d]:sl.push(d),he!==4&&(he=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Hf(a.stateNode,l,e),_f(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ry(h),sy(h,e,a,l),_f(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),be=!1;function qe(e,i,a,l){i.child=e===null?ug(i,null,a,l):Vs(i,e.child,a,l)}function ay(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ds(i),l=bf(e,i,a,_,d,h),T=Rf(),e!==null&&!be?(wf(e,i,h),Hi(e,i,h)):(Ut&&T&&sf(i),i.flags|=1,qe(e,i,l,h),i.child)}function oy(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ly(e,i,d,l,h)):(e=xu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Jf(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(_,l)&&e.ref===i.ref)return Hi(e,i,h)}return i.flags|=1,e=Ui(d,l),e.ref=i.ref,e.return=i,i.child=e}function ly(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Po(d,l)&&e.ref===i.ref)if(be=!1,i.pendingProps=l=d,Jf(e,h))(e.flags&131072)!==0&&(be=!0);else return i.lanes=e.lanes,Hi(e,i,h)}return Ff(e,i,a,l,h)}function uy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return cy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(i,d!==null?d.cachePool:null),d!==null?fg(i,d):Ef(),dg(i);else return l=i.lanes=536870912,cy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ku(i,d.cachePool),fg(i,d),wr(),i.memoizedState=null):(e!==null&&ku(i,null),Ef(),wr());return qe(e,i,h,a),i.child}function Zo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cy(e,i,a,l,h){var d=mf();return d=d===null?null:{parent:Se._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&ku(i,null),Ef(),dg(i),e!==null&&Ea(e,i,l,!0),i.childLanes=h,null}function tc(e,i){return i=nc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function hy(e,i,a){return Vs(i,e.child,null,a),e=tc(i,i.pendingProps),e.flags|=2,yn(i),i.memoizedState=null,e}function ZS(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=tc(i,l),i.lanes=536870912,Zo(null,e);if(Sf(i),(e=te)?(e=A_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_r!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Er(i);return i.lanes=536870912,null}return tc(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Sf(i),h)if(i.flags&256)i.flags&=-257,i=hy(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(be||Ea(e,i,a,!1),h=(a&e.childLanes)!==0,be||h){if(l=Wt,l!==null&&(_=vo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Rs(e,_),un(l,e,_),qf;hc(),i=hy(e,i,a)}else e=d.treeContext,te=xn(_.nextSibling),je=i,Ut=!0,vr=null,Mn=!1,e!==null&&Jp(i,e),i=tc(i,l),i.flags|=4096;return i}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ec(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Ff(e,i,a,l,h){return Ds(i),a=bf(e,i,a,l,void 0,h),l=Rf(),e!==null&&!be?(wf(e,i,h),Hi(e,i,h)):(Ut&&l&&sf(i),i.flags|=1,qe(e,i,a,h),i.child)}function fy(e,i,a,l,h,d){return Ds(i),i.updateQueue=null,a=pg(i,l,a,h),mg(e),l=Rf(),e!==null&&!be?(wf(e,i,d),Hi(e,i,d)):(Ut&&l&&sf(i),i.flags|=1,qe(e,i,a,d),i.child)}function dy(e,i,a,l,h){if(Ds(i),i.stateNode===null){var d=ga,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):ga,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&jf.enqueueReplaceState(d,d.state,null),Qo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ls(a,T);d.props=I;var z=d.context,q=a.contextType;_=ga,typeof q=="object"&&q!==null&&(_=He(q));var Y=a.getDerivedStateFromProps;q=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&Wg(i,d,l,_),Sr=!1;var B=i.memoizedState;d.state=B,Qo(i,l,d,h),Ko(),z=i.memoizedState,T||B!==z||Sr?(typeof Y=="function"&&(Bf(i,a,Y,l),z=i.memoizedState),(I=Sr||Zg(i,a,I,l,B,z,_))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yf(e,i),_=i.memoizedProps,q=Ls(a,_),d.props=q,Y=i.pendingProps,B=d.context,z=a.contextType,I=ga,typeof z=="object"&&z!==null&&(I=He(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Y||B!==I)&&Wg(i,d,l,I),Sr=!1,B=i.memoizedState,d.state=B,Qo(i,l,d,h),Ko();var H=i.memoizedState;_!==Y||B!==H||Sr||e!==null&&e.dependencies!==null&&Uu(e.dependencies)?(typeof T=="function"&&(Bf(i,a,T,l),H=i.memoizedState),(q=Sr||Zg(i,a,q,l,B,H,I)||e!==null&&e.dependencies!==null&&Uu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=q):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Vs(i,e.child,null,h),i.child=Vs(i,null,a,h)):qe(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Hi(e,i,h),e}function my(e,i,a,l){return Cs(),i.flags|=256,qe(e,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:ig()}}function Qf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=vn),e}function py(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ut){if(h?Rr(i):wr(),(e=te)?(e=A_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:_r!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=Yp(e),a.return=i,i.child=a,je=i,te=null)):e=null,e===null)throw Er(i);return Dd(e)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(wr(),h=i.mode,T=nc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(e,_,a),i.memoizedState=Gf,Zo(null,l)):(Rr(i),Yf(i,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=Xf(e,i,a)):i.memoizedState!==null?(wr(),i.child=e.child,i.flags|=128,i=null):(wr(),T=l.fallback,h=i.mode,l=nc({mode:"visible",children:l.children},h),T=ws(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Vs(i,e.child,null,a),l=i.child,l.memoizedState=Kf(a),l.childLanes=Qf(e,_,a),i.memoizedState=Gf,i=Zo(null,l));else if(Rr(i),Dd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,Bo({value:l,source:null,stack:null}),i=Xf(e,i,a)}else if(be||Ea(e,i,a,!1),_=(a&e.childLanes)!==0,be||_){if(_=Wt,_!==null&&(l=vo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Rs(e,l),un(_,e,l),qf;Id(T)||hc(),i=Xf(e,i,a)}else Id(T)?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,te=xn(T.nextSibling),je=i,Ut=!0,vr=null,Mn=!1,e!==null&&Jp(i,e),i=Yf(i,l.children),i.flags|=4096);return i}return h?(wr(),T=l.fallback,h=i.mode,I=e.child,z=I.sibling,l=Ui(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?T=Ui(z,T):(T=ws(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Zo(null,l),l=i.child,T=e.child.memoizedState,T===null?T=Kf(a):(h=T.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=ig(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Qf(e,_,a),i.memoizedState=Gf,Zo(e.child,l)):(Rr(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Yf(e,i){return i=nc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function nc(e,i){return e=pn(22,e,null,i),e.lanes=0,e}function Xf(e,i,a){return Vs(i,e.child,null,a),e=Yf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function gy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),cf(e.return,i,a)}function $f(e,i,a,l,h,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function yy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,st(me,_),qe(e,i,l,a),l=Ut?zo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,a,i);else if(e.tag===19)gy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Fu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),$f(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}$f(i,!0,a,null,d,l);break;case"together":$f(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Hi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Dr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ea(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Jf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Uu(e)))}function WS(e,i,a){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),Tr(i,Se,e.memoizedState.cache),Cs();break;case 27:case 5:os(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:Tr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?py(e,i,a):(Rr(i),e=Hi(e,i,a),e!==null?e.sibling:null);Rr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ea(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return yy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(me,me.current),l)break;return null;case 22:return i.lanes=0,uy(e,i,a,i.pendingProps);case 24:Tr(i,Se,e.memoizedState.cache)}return Hi(e,i,a)}function _y(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)be=!0;else{if(!Jf(e,a)&&(i.flags&128)===0)return be=!1,WS(e,i,a);be=(e.flags&131072)!==0}else be=!1,Ut&&(i.flags&1048576)!==0&&$p(i,zo,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ns(i.elementType),i.type=e,typeof e=="function")ef(e)?(l=Ls(e,l),i.tag=1,i=dy(null,i,e,l,a)):(i.tag=0,i=Ff(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===Ct){i.tag=11,i=ay(null,i,e,l,a);break t}else if(h===D){i.tag=14,i=oy(null,i,e,l,a);break t}}throw i=ie(e)||e,Error(s(306,i,""))}}return i;case 0:return Ff(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),dy(e,i,l,h,a);case 3:t:{if(De(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,yf(e,i),Qo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Tr(i,Se,l),l!==d.cache&&hf(i,[Se],a,!0),Ko(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=my(e,i,l,a);break t}else if(l!==h){h=Dn(Error(s(424)),i),Bo(h),i=my(e,i,l,a);break t}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=xn(e.firstChild),je=i,Ut=!0,vr=null,Mn=!0,a=ug(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Cs(),l===h){i=Hi(e,i,a);break t}qe(e,i,l,a)}i=i.child}return i;case 26:return ec(e,i),e===null?(a=D_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ut||(a=i.type,e=i.pendingProps,l=_c(bt.current).createElement(a),l[ve]=i,l[Le]=e,Fe(l,a,e),Ee(l),i.stateNode=l):i.memoizedState=D_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return os(i),e===null&&Ut&&(l=i.stateNode=w_(i.type,i.pendingProps,bt.current),je=i,Mn=!0,h=te,xr(i.type)?(Od=h,te=xn(l.firstChild)):te=h),qe(e,i,i.pendingProps.children,a),ec(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ut&&((h=l=te)&&(l=DA(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,je=i,te=xn(l.firstChild),Mn=!1,h=!0):h=!1),h||Er(i)),os(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Rd(h,d)?l=null:_!==null&&Rd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(e,i,FS,null,null,a),dl._currentValue=h),ec(e,i),qe(e,i,l,a),i.child;case 6:return e===null&&Ut&&((e=a=te)&&(a=OA(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,je=i,te=null,e=!0):e=!1),e||Er(i)),null;case 13:return py(e,i,a);case 4:return De(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Vs(i,null,l,a):qe(e,i,l,a),i.child;case 11:return ay(e,i,i.type,i.pendingProps,a);case 7:return qe(e,i,i.pendingProps,a),i.child;case 8:return qe(e,i,i.pendingProps.children,a),i.child;case 12:return qe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Tr(i,i.type,l.value),qe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ds(i),h=He(h),l=l(h),i.flags|=1,qe(e,i,l,a),i.child;case 14:return oy(e,i,i.type,i.pendingProps,a);case 15:return ly(e,i,i.type,i.pendingProps,a);case 19:return yy(e,i,a);case 31:return ZS(e,i,a);case 22:return uy(e,i,a,i.pendingProps);case 24:return Ds(i),l=He(Se),e===null?(h=mf(),h===null&&(h=Wt,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},gf(i),Tr(i,Se,h)):((e.lanes&a)!==0&&(yf(e,i),Qo(i,null,null,a),Ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Tr(i,Se,l)):(l=d.cache,Tr(i,Se,l),l!==h.cache&&hf(i,[Se],a,!0))),qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function qi(e){e.flags|=4}function Zf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Ms=Bu,pf}else e.flags&=-16777217}function vy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!x_(i))if(Gy())e.flags|=8192;else throw Ms=Bu,pf}function ic(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?uu():536870912,e.lanes|=i,Ma|=i)}function Wo(e,i){if(!Ut)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function tA(e,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(i),null;case 1:return ee(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(Se),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(i)?qi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),ee(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(qi(i),d!==null?(ee(i),vy(i,d)):(ee(i),Zf(i,h,null,l,a))):d?d!==e.memoizedState?(qi(i),ee(i),vy(i,d)):(ee(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&qi(i),ee(i),Zf(i,h,e,l,a)),null;case 27:if(Js(i),a=bt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}e=ot.current,va(i)?Zp(i):(e=w_(h,l,a),i.stateNode=e,qi(i))}return ee(i),null;case 5:if(Js(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ee(i),null}if(d=ot.current,va(i))Zp(i);else{var _=_c(bt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[ve]=i,d[Le]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Fe(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(i)}}return ee(i),Zf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&qi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=bt.current,va(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(e.nodeValue,a)),e||Er(i,!0)}else e=_c(e).createTextNode(l),e[ve]=i,i.stateNode=e}return ee(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=va(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),e=!1}else a=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(yn(i),i):(yn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ee(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ee(i),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yn(i),i):(yn(i),null)}return yn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),ee(i),null);case 4:return re(),e===null&&Ed(i.stateNode.containerInfo),ee(i),null;case 10:return zi(i.type),ee(i),null;case 19:if($(me),l=i.memoizedState,l===null)return ee(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Wo(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Fu(e),d!==null){for(i.flags|=128,Wo(l,!1),e=d.updateQueue,i.updateQueue=e,ic(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Qp(a,e),a=a.sibling;return st(me,me.current&1|2),Ut&&Pi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&We()>lc&&(i.flags|=128,h=!0,Wo(l,!1),i.lanes=4194304)}else{if(!h)if(e=Fu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,ic(i,e),Wo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ut)return ee(i),null}else 2*We()-l.renderingStartTime>lc&&a!==536870912&&(i.flags|=128,h=!0,Wo(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,a=me.current,st(me,h?a&1|2:a&1),Ut&&Pi(i,l.treeForkCount),e):(ee(i),null);case 22:case 23:return yn(i),Tf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ee(i),i.subtreeFlags&6&&(i.flags|=8192)):ee(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&$(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(Se),ee(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function eA(e,i){switch(af(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return zi(Se),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Js(i),null;case 31:if(i.memoizedState!==null){if(yn(i),i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(yn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(me),null;case 4:return re(),null;case 10:return zi(i.type),null;case 22:case 23:return yn(i),Tf(),e!==null&&$(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Ey(e,i){switch(af(i),i.tag){case 3:zi(Se),re();break;case 26:case 27:case 5:Js(i);break;case 4:re();break;case 31:i.memoizedState!==null&&yn(i);break;case 13:yn(i);break;case 19:$(me);break;case 10:zi(i.type);break;case 22:case 23:yn(i),Tf(),e!==null&&$(Os);break;case 24:zi(Se)}}function tl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(i,i.return,T)}}function Cr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(q){Yt(h,I,q)}}}l=l.next}while(l!==d)}}catch(q){Yt(i,i.return,q)}}function Ty(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{hg(i,a)}catch(l){Yt(e,e.return,l)}}}function Sy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,i,l)}}function el(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Yt(e,i,h)}}function Ei(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,i,h)}else a.current=null}function Ay(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Wf(e,i,a){try{var l=e.stateNode;AA(l,e.type,a,i),l[Le]=i}catch(h){Yt(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=qn));else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ed(e,i,a),e=e.sibling;e!==null;)ed(e,i,a),e=e.sibling}function rc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&xr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(rc(e,i,a),e=e.sibling;e!==null;)rc(e,i,a),e=e.sibling}function Ry(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Fe(i,l,a),i[ve]=e,i[Le]=a}catch(d){Yt(e,e.return,d)}}var Fi=!1,Re=!1,nd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function nA(e,i){if(e=e.containerInfo,Ad=Rc,e=kp(e),Yh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,I=-1,z=0,q=0,Y=e,B=null;e:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(T=_+h),Y!==d||l!==0&&Y.nodeType!==3||(I=_+l),Y.nodeType===3&&(_+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===e)break e;if(B===a&&++z===h&&(T=_),B===d&&++q===l&&(I=_),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(bd={focusedElem:e,selectionRange:a},Rc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var lt=Ls(a.type,h);e=l.getSnapshotBeforeUpdate(lt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Yt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Cy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),l&4&&tl(5,a);break;case 1:if(Ki(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Yt(a,a.return,_)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(a,a.return,_)}}l&64&&Ty(a),l&512&&el(a,a.return);break;case 3:if(Ki(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{hg(e,i)}catch(_){Yt(a,a.return,_)}}break;case 27:i===null&&l&4&&Ry(a);case 26:case 5:Ki(e,a),i===null&&l&4&&Ay(a),l&512&&el(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),l&4&&Oy(e,a);break;case 13:Ki(e,a),l&4&&Ny(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=hA.bind(null,a),NA(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||Re,h=Fi;var d=Re;Fi=l,(Re=i)&&!d?Qi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Fi=h,Re=d}break;case 30:break;default:Ki(e,a)}}function Iy(e){var i=e.alternate;i!==null&&(e.alternate=null,Iy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&na(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,sn=!1;function Gi(e,i,a){for(a=a.child;a!==null;)Dy(e,i,a),a=a.sibling}function Dy(e,i,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zn,a)}catch{}switch(a.tag){case 26:Re||Ei(a,i),Gi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Re||Ei(a,i);var l=ae,h=sn;xr(a.type)&&(ae=a.stateNode,sn=!1),Gi(e,i,a),cl(a.stateNode),ae=l,sn=h;break;case 5:Re||Ei(a,i);case 6:if(l=ae,h=sn,ae=null,Gi(e,i,a),ae=l,sn=h,ae!==null)if(sn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(d){Yt(a,i,d)}else try{ae.removeChild(a.stateNode)}catch(d){Yt(a,i,d)}break;case 18:ae!==null&&(sn?(e=ae,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):T_(ae,a.stateNode));break;case 4:l=ae,h=sn,ae=a.stateNode.containerInfo,sn=!0,Gi(e,i,a),ae=l,sn=h;break;case 0:case 11:case 14:case 15:Cr(2,a,i),Re||Cr(4,a,i),Gi(e,i,a);break;case 1:Re||(Ei(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sy(a,i,l)),Gi(e,i,a);break;case 21:Gi(e,i,a);break;case 22:Re=(l=Re)||a.memoizedState!==null,Gi(e,i,a),Re=l;break;default:Gi(e,i,a)}}function Oy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){Yt(i,i.return,a)}}}function Ny(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){Yt(i,i.return,a)}}function iA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new wy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new wy),i;default:throw Error(s(435,e.tag))}}function sc(e,i){var a=iA(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=fA.bind(null,e,l);l.then(h,h)}})}function an(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){ae=T.stateNode,sn=!1;break t}break;case 5:ae=T.stateNode,sn=!1;break t;case 3:case 4:ae=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ae===null)throw Error(s(160));Dy(d,_,h),ae=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)My(i,e),i=i.sibling}var Xn=null;function My(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(i,e),on(e),l&4&&(Cr(3,e,e.return),tl(3,e),Cr(5,e,e.return));break;case 1:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Fe(d,l,a),d[ve]=e,Ee(d),l=d;break t;case"link":var _=M_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;case"meta":if(_=M_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),Fe(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[ve]=e,Ee(d),l=d}e.stateNode=l}else V_(h,e.type,e.stateNode);else e.stateNode=N_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?V_(h,e.type,e.stateNode):N_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),a!==null&&l&4&&Wf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(i,e),on(e),l&512&&(Re||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(lt){Yt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(nd=!0);break;case 6:if(an(i,e),on(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(Tc=null,h=Xn,Xn=vc(i.containerInfo),an(i,e),Xn=h,on(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(lt){Yt(e,e.return,lt)}nd&&(nd=!1,Vy(e));break;case 4:l=Xn,Xn=vc(e.stateNode.containerInfo),an(i,e),on(e),Xn=l;break;case 12:an(i,e),on(e);break;case 31:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 13:an(i,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Fi,q=Re;if(Fi=z||h,Re=q||I,an(i,e),Re=q,Fi=z,on(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Fi||Re||Us(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var Y=I.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Yt(I,I.return,lt)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Yt(I,I.return,lt)}}}else if(i.tag===18){if(a===null){I=i;try{var H=I.stateNode;h?S_(H,!0):S_(I.stateNode,!1)}catch(lt){Yt(I,I.return,lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sc(e,a))));break;case 19:an(i,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 30:break;case 21:break;default:an(i,e),on(e)}}function on(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(by(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=td(e);rc(e,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(rn(_,""),a.flags&=-33);var T=td(e);rc(e,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=td(e);ed(e,z,I);break;default:throw Error(s(161))}}catch(q){Yt(e,e.return,q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Vy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Vy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ki(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cy(e,i.alternate,i),i=i.sibling}function Us(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Cr(4,i,i.return),Us(i);break;case 1:Ei(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Sy(i,i.return,a),Us(i);break;case 27:cl(i.stateNode);case 26:case 5:Ei(i,i.return),Us(i);break;case 22:i.memoizedState===null&&Us(i);break;case 30:Us(i);break;default:Us(i)}e=e.sibling}}function Qi(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(h,d,a),tl(4,d);break;case 1:if(Qi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)cg(I[h],T)}catch(z){Yt(l,l.return,z)}}a&&_&64&&Ty(d),el(d,d.return);break;case 27:Ry(d);case 26:case 5:Qi(h,d,a),a&&l===null&&_&4&&Ay(d),el(d,d.return);break;case 12:Qi(h,d,a);break;case 31:Qi(h,d,a),a&&_&4&&Oy(h,d);break;case 13:Qi(h,d,a),a&&_&4&&Ny(h,d);break;case 22:d.memoizedState===null&&Qi(h,d,a),el(d,d.return);break;case 30:break;default:Qi(h,d,a)}i=i.sibling}}function id(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&jo(a))}function rd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e))}function $n(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(e,i,a,l),i=i.sibling}function xy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(e,i,a,l),h&2048&&tl(9,i);break;case 1:$n(e,i,a,l);break;case 3:$n(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&jo(e)));break;case 12:if(h&2048){$n(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(i,i.return,I)}}else $n(e,i,a,l);break;case 31:$n(e,i,a,l);break;case 13:$n(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(e,i,a,l):nl(e,i):d._visibility&2?$n(e,i,a,l):(d._visibility|=2,Da(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&id(_,i);break;case 24:$n(e,i,a,l),h&2048&&rd(i.alternate,i);break;default:$n(e,i,a,l)}}function Da(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,T=a,I=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Da(d,_,T,I,h),tl(8,_);break;case 23:break;case 22:var q=_.stateNode;_.memoizedState!==null?q._visibility&2?Da(d,_,T,I,h):nl(d,_):(q._visibility|=2,Da(d,_,T,I,h)),h&&z&2048&&id(_.alternate,_);break;case 24:Da(d,_,T,I,h),h&&z&2048&&rd(_.alternate,_);break;default:Da(d,_,T,I,h)}i=i.sibling}}function nl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:nl(a,l),h&2048&&id(l.alternate,l);break;case 24:nl(a,l),h&2048&&rd(l.alternate,l);break;default:nl(a,l)}i=i.sibling}}var il=8192;function Oa(e,i,a){if(e.subtreeFlags&il)for(e=e.child;e!==null;)Ly(e,i,a),e=e.sibling}function Ly(e,i,a){switch(e.tag){case 26:Oa(e,i,a),e.flags&il&&e.memoizedState!==null&&qA(a,Xn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,i,a);break;case 3:case 4:var l=Xn;Xn=vc(e.stateNode.containerInfo),Oa(e,i,a),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=il,il=16777216,Oa(e,i,a),il=l):Oa(e,i,a));break;default:Oa(e,i,a)}}function Uy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function rl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,ky(l,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Py(e),e=e.sibling}function Py(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ac(e)):rl(e);break;default:rl(e)}}function ac(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,ky(l,e)}Uy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Cr(8,i,i.return),ac(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ac(i));break;default:ac(i)}e=e.sibling}}function ky(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Cr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Iy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var rA={getCacheForType:function(e){var i=He(Se),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return He(Se).controller.signal}},sA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Dt=null,Nt=0,Qt=0,_n=null,Ir=!1,Na=!1,sd=!1,Yi=0,he=0,Dr=0,Ps=0,ad=0,vn=0,Ma=0,sl=null,ln=null,od=!1,oc=0,zy=0,lc=1/0,uc=null,Or=null,Ne=0,Nr=null,Va=null,Xi=0,ld=0,ud=null,By=null,al=0,cd=null;function En(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?gd():cu()}function jy(){if(vn===0)if((Nt&536870912)===0||Ut){var e=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),vn=e}else vn=536870912;return e=gn.current,e!==null&&(e.flags|=32),vn}function un(e,i,a){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Mr(e,Nt,vn,!1)),hs(e,a),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Ps|=a),he===4&&Mr(e,Nt,vn,!1)),Ti(e))}function Hy(e,i,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Bn(e,i),h=l?lA(e,i):fd(e,i,!0),d=l;do{if(h===0){Na&&!l&&Mr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!aA(a)){h=fd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=sl;var I=T.current.memoizedState.isDehydrated;if(I&&(xa(T,_).flags|=256),_=fd(T,_,!1),_!==2){if(sd&&!I){T.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break t}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Mr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Mr(l,i,vn,!Ir);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=oc+300-We(),10<h)){if(Mr(l,i,vn,!Ir),ii(l,0,!0)!==0)break t;Xi=i,l.timeoutHandle=v_(qy.bind(null,l,a,ln,uc,od,i,vn,Ps,Ma,Ir,d,"Throttled",-0,0),h);break t}qy(l,a,ln,uc,od,i,vn,Ps,Ma,Ir,d,null,-0,0)}}break}while(!0);Ti(e)}function qy(e,i,a,l,h,d,_,T,I,z,q,Y,B,H){if(e.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ly(i,d,Y);var lt=(d&62914560)===d?oc-We():(d&4194048)===d?zy-We():0;if(lt=FA(Y,lt),lt!==null){Xi=d,e.cancelPendingCommit=lt(Jy.bind(null,e,i,d,a,l,h,_,T,I,q,Y,null,B,H)),Mr(e,d,_,!z);return}}Jy(e,i,d,a,l,h,_,T,I)}function aA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Mr(e,i,a,l){i&=~ad,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&fs(e,a,i)}function cc(){return(qt&6)===0?(ol(0),!1):!0}function hd(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,ki=Is=null,Cf(e),ba=null,qo=0,e=Dt;for(;e!==null;)Ey(e.alternate,e),e=e.return;Dt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xi=0,hd(),Wt=e,Dt=a=Ui(e.current,null),Nt=i,Qt=0,_n=null,Ir=!1,Na=Bn(e,i),sd=!1,Ma=vn=ad=Ps=Dr=he=0,ln=sl=null,od=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-fe(l),d=1<<h;i|=e[h],l&=~d}return Yi=i,Nu(),a}function Fy(e,i){At=null,G.H=Jo,i===Aa||i===zu?(i=ag(),Qt=3):i===pf?(i=ag(),Qt=4):Qt=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Dt===null&&(he=1,Wu(e,Dn(i,e.current)))}function Gy(){var e=gn.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function Ky(){var e=G.H;return G.H=Jo,e===null?Jo:e}function Qy(){var e=G.A;return G.A=rA,e}function hc(){he=4,Ir||(Nt&4194048)!==Nt&&gn.current!==null||(Na=!0),(Dr&134217727)===0&&(Ps&134217727)===0||Wt===null||Mr(Wt,Nt,vn,!1)}function fd(e,i,a){var l=qt;qt|=2;var h=Ky(),d=Qy();(Wt!==e||Nt!==i)&&(uc=null,xa(e,i)),i=!1;var _=he;t:do try{if(Qt!==0&&Dt!==null){var T=Dt,I=_n;switch(Qt){case 8:hd(),_=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(i=!0);var z=Qt;if(Qt=0,_n=null,La(e,T,I,z),a&&Na){_=0;break t}break;default:z=Qt,Qt=0,_n=null,La(e,T,I,z)}}oA(),_=he;break}catch(q){Fy(e,q)}while(!0);return i&&e.shellSuspendCounter++,ki=Is=null,qt=l,G.H=h,G.A=d,Dt===null&&(Wt=null,Nt=0,Nu()),_}function oA(){for(;Dt!==null;)Yy(Dt)}function lA(e,i){var a=qt;qt|=2;var l=Ky(),h=Qy();Wt!==e||Nt!==i?(uc=null,lc=We()+500,xa(e,i)):Na=Bn(e,i);t:do try{if(Qt!==0&&Dt!==null){i=Dt;var d=_n;e:switch(Qt){case 1:Qt=0,_n=null,La(e,i,d,1);break;case 2:case 9:if(rg(d)){Qt=0,_n=null,Xy(i);break}i=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),Ti(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:rg(d)?(Qt=0,_n=null,Xy(i)):(Qt=0,_n=null,La(e,i,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(_?x_(_):T.stateNode.complete){Qt=0,_n=null;var I=T.sibling;if(I!==null)Dt=I;else{var z=T.return;z!==null?(Dt=z,fc(z)):Dt=null}break e}}Qt=0,_n=null,La(e,i,d,5);break;case 6:Qt=0,_n=null,La(e,i,d,6);break;case 8:hd(),he=6;break t;default:throw Error(s(462))}}uA();break}catch(q){Fy(e,q)}while(!0);return ki=Is=null,G.H=l,G.A=h,qt=a,Dt!==null?0:(Wt=null,Nt=0,Nu(),he)}function uA(){for(;Dt!==null&&!jh();)Yy(Dt)}function Yy(e){var i=_y(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function Xy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=fy(a,i,i.pendingProps,i.type,void 0,Nt);break;case 11:i=fy(a,i,i.pendingProps,i.type.render,i.ref,Nt);break;case 5:Cf(i);default:Ey(a,i),i=Dt=Qp(i,Yi),i=_y(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?fc(e):Dt=i}function La(e,i,a,l){ki=Is=null,Cf(i),ba=null,qo=0;var h=i.return;try{if(JS(e,h,i,a,Nt)){he=1,Wu(e,Dn(a,e.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,Wu(e,Dn(a,e.current)),Dt=null;return}i.flags&32768?(Ut||l===1?e=!0:Na||(Nt&536870912)!==0?e=!1:(Ir=e=!0,(l===2||l===9||l===3||l===6)&&(l=gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(i,e)):fc(i)}function fc(e){var i=e;do{if((i.flags&32768)!==0){$y(i,Ir);return}e=i.return;var a=tA(i.alternate,i,Yi);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);he===0&&(he=5)}function $y(e,i){do{var a=eA(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);he=6,Dt=null}function Jy(e,i,a,l,h,d,_,T,I){e.cancelPendingCommit=null;do dc();while(Ne!==0);if((qt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Wh,Fh(e,a,d,_,T,I),e===Wt&&(Dt=Wt=null,Nt=0),Va=i,Nr=e,Xi=a,ld=d,ud=h,By=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dA(lr,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=rt.p,rt.p=2,_=qt,qt|=4;try{nA(e,i,a)}finally{qt=_,rt.p=h,G.T=l}}Ne=1,Zy(),Wy(),t_()}}function Zy(){if(Ne===1){Ne=0;var e=Nr,i=Va,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{My(i,e);var d=bd,_=kp(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Pp(T.ownerDocument.documentElement,T)){if(I!==null&&Yh(T)){var z=I.start,q=I.end;if(q===void 0&&(q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(q,T.value.length);else{var Y=T.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),lt=T.textContent.length,pt=Math.min(I.start,lt),Zt=I.end===void 0?pt:Math.min(I.end,lt);!H.extend&&pt>Zt&&(_=Zt,Zt=pt,pt=_);var x=Up(T,pt),O=Up(T,Zt);if(x&&O&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var k=Y.createRange();k.setStart(x.node,x.offset),H.removeAllRanges(),pt>Zt?(H.addRange(k),H.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),H.addRange(k))}}}}for(Y=[],H=T;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!Ad,bd=Ad=null}finally{qt=h,rt.p=l,G.T=a}}e.current=i,Ne=2}}function Wy(){if(Ne===2){Ne=0;var e=Nr,i=Va,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=rt.p;rt.p=2;var h=qt;qt|=4;try{Cy(e,i.alternate,i)}finally{qt=h,rt.p=l,G.T=a}}Ne=3}}function t_(){if(Ne===4||Ne===3){Ne=0,iu();var e=Nr,i=Va,a=Xi,l=By;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ne=5:(Ne=0,Va=Nr=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Or=null),Mi(a),i=i.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{G.T=i,rt.p=h}}(Xi&3)!==0&&dc(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===cd?al++:(al=0,cd=e):al=0,ol(0)}}function e_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,jo(i)))}function dc(){return Zy(),Wy(),t_(),n_()}function n_(){if(Ne!==5)return!1;var e=Nr,i=ld;ld=0;var a=Mi(Xi),l=G.T,h=rt.p;try{rt.p=32>a?32:a,G.T=null,a=ud,ud=null;var d=Nr,_=Xi;if(Ne=0,Va=Nr=null,Xi=0,(qt&6)!==0)throw Error(s(331));var T=qt;if(qt|=4,Py(d.current),xy(d,d.current,_,a),qt=T,ol(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zn,d)}catch{}return!0}finally{rt.p=h,G.T=l,e_(e,i)}}function i_(e,i,a){i=Dn(a,i),i=Hf(e.stateNode,i,2),e=br(e,i,2),e!==null&&(hs(e,2),Ti(e))}function Yt(e,i,a){if(e.tag===3)i_(e,e,a);else for(;i!==null;){if(i.tag===3){i_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){e=Dn(a,e),a=ry(2),l=br(i,a,2),l!==null&&(sy(a,l,i,e),hs(l,2),Ti(l));break}}i=i.return}}function dd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(sd=!0,h.add(a),e=cA.bind(null,e,i,a),i.then(e,e))}function cA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Nt&a)===a&&(he===4||he===3&&(Nt&62914560)===Nt&&300>We()-oc?(qt&2)===0&&xa(e,0):ad|=a,Ma===Nt&&(Ma=0)),Ti(e)}function r_(e,i){i===0&&(i=uu()),e=Rs(e,i),e!==null&&(hs(e,i),Ti(e))}function hA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(e,a)}function fA(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r_(e,a)}function dA(e,i){return Oe(e,i)}var mc=null,Ua=null,md=!1,pc=!1,pd=!1,Vr=0;function Ti(e){e!==Ua&&e.next===null&&(Ua===null?mc=Ua=e:Ua=Ua.next=e),pc=!0,md||(md=!0,pA())}function ol(e,i){if(!pd&&pc){pd=!0;do for(var a=!1,l=mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-fe(42|e)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(l,d))}else d=Nt,d=ii(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Bn(l,d)||(a=!0,l_(l,d));l=l.next}while(a);pd=!1}}function mA(){s_()}function s_(){pc=md=!1;var e=0;Vr!==0&&RA()&&(e=Vr);for(var i=We(),a=null,l=mc;l!==null;){var h=l.next,d=a_(l,i);d===0?(l.next=null,a===null?mc=h:a.next=h,h===null&&(Ua=a)):(a=l,(e!==0||(d&3)!==0)&&(pc=!0)),l=h}Ne!==0&&Ne!==5||ol(e),Vr!==0&&(Vr=0)}function a_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-fe(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=qh(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Nt,a=ii(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&or(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&or(l),Mi(a)){case 2:case 8:a=yo;break;case 32:a=lr;break;case 268435456:a=ru;break;default:a=lr}return l=o_.bind(null,e),a=Oe(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&or(l),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,i){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(dc()&&e.callbackNode!==a)return null;var l=Nt;return l=ii(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Hy(e,l,i),a_(e,We()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,i){if(dc())return null;Hy(e,i,!0)}function pA(){CA(function(){(qt&6)!==0?Oe(go,mA):s_()})}function gd(){if(Vr===0){var e=Ta;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Vr=e}return Vr}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function c_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function gA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=u_((h[Le]||null).action),_=l.submitter;_&&(i=(i=_[Le]||null)?u_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vr!==0){var I=_?c_(h,_):new FormData(h);Uf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?c_(h,_):new FormData(h),Uf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var yd=0;yd<Zh.length;yd++){var _d=Zh[yd],yA=_d.toLowerCase(),_A=_d[0].toUpperCase()+_d.slice(1);Yn(yA,"on"+_A)}Yn(jp,"onAnimationEnd"),Yn(Hp,"onAnimationIteration"),Yn(qp,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(xS,"onTransitionRun"),Yn(LS,"onTransitionStart"),Yn(US,"onTransitionCancel"),Yn(Fp,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function h_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(q){Ou(q)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(q){Ou(q)}h.currentTarget=null,d=I}}}}function Ot(e,i){var a=i[ea];a===void 0&&(a=i[ea]=new Set);var l=e+"__bubble";a.has(l)||(f_(i,e,2,!1),a.add(l))}function vd(e,i,a){var l=0;i&&(l|=4),f_(a,e,l,i)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[gc]){e[gc]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(vA.has(a)||vd(a,!1,e),vd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[gc]||(i[gc]=!0,vd("selectionchange",!1,i))}}function f_(e,i,a,l){switch(j_(i)){case 2:var h=QA;break;case 8:h=YA;break;default:h=Ld}a=h.bind(null,i,a,e),h=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Td(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=oi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue t}T=T.parentNode}}l=l.return}mr(function(){var z=d,q=Rn(a),Y=[];t:{var B=Gp.get(e);if(B!==void 0){var H=mi,lt=e;switch(e){case"keypress":if(vs(a)===0)break t;case"keydown":case"keyup":H=Cu;break;case"focusin":lt="focus",H=Ts;break;case"focusout":lt="blur",H=Ts;break;case"beforeblur":case"afterblur":H=Ts;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jp:case Hp:case qp:H=Eu;break;case Fp:H=A;break;case"scroll":case"scrollend":H=Mo;break;case"wheel":H=j;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Li;break;case"toggle":case"beforetoggle":H=St}var pt=(i&4)!==0,Zt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var O=z,k;O!==null;){var Q=O;if(k=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||k===null||x===null||(Q=Fn(O,x),Q!=null&&pt.push(ul(O,Q,k))),Zt)break;O=O.return}0<pt.length&&(B=new H(B,lt,null,a,q),Y.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&a!==Do&&(lt=a.relatedTarget||a.fromElement)&&(oi(lt)||lt[si]))break t;if((H||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(lt=a.relatedTarget||a.toElement,H=z,lt=lt?oi(lt):null,lt!==null&&(Zt=u(lt),pt=lt.tag,lt!==Zt||pt!==5&&pt!==27&&pt!==6)&&(lt=null)):(H=null,lt=z),H!==lt)){if(pt=Vo,Q="onMouseLeave",x="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Li,Q="onPointerLeave",x="onPointerEnter",O="pointer"),Zt=H==null?B:fn(H),k=lt==null?B:fn(lt),B=new pt(Q,O+"leave",H,a,q),B.target=Zt,B.relatedTarget=k,Q=null,oi(q)===z&&(pt=new pt(x,O+"enter",lt,a,q),pt.target=k,pt.relatedTarget=Zt,Q=pt),Zt=Q,H&&lt)e:{for(pt=EA,x=H,O=lt,k=0,Q=x;Q;Q=pt(Q))k++;Q=0;for(var ht=O;ht;ht=pt(ht))Q++;for(;0<k-Q;)x=pt(x),k--;for(;0<Q-k;)O=pt(O),Q--;for(;k--;){if(x===O||O!==null&&x===O.alternate){pt=x;break e}x=pt(x),O=pt(O)}pt=null}else pt=null;H!==null&&d_(Y,B,H,pt,!1),lt!==null&&Zt!==null&&d_(Y,Zt,lt,pt,!0)}}t:{if(B=z?fn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Bt=Op;else if(Ip(B))if(Np)Bt=NS;else{Bt=DS;var ut=IS}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&sa(z.elementType)&&(Bt=Op):Bt=OS;if(Bt&&(Bt=Bt(e,z))){Dp(Y,Bt,a,q);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&wo(B,"number",B.value)}switch(ut=z?fn(z):window,e){case"focusin":(Ip(ut)||ut.contentEditable==="true")&&(da=ut,Xh=z,ko=null);break;case"focusout":ko=Xh=da=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,zp(Y,a,q);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":zp(Y,a,q)}var Rt;if(Ht)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else fa?Ss(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(yi&&a.locale!=="ko"&&(fa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&fa&&(Rt=No()):(di=q,Oo="value"in di?di.value:di.textContent,fa=!0)),ut=yc(z,Mt),0<ut.length&&(Mt=new gi(Mt,e,null,a,q),Y.push({event:Mt,listeners:ut}),Rt?Mt.data=Rt:(Rt=ha(a),Rt!==null&&(Mt.data=Rt)))),(Rt=Cn?bS(e,a):RS(e,a))&&(Mt=yc(z,"onBeforeInput"),0<Mt.length&&(ut=new gi("onBeforeInput","beforeinput",null,a,q),Y.push({event:ut,listeners:Mt}),ut.data=Rt)),gA(Y,e,z,a,q)}h_(Y,i)})}function ul(e,i,a){return{instance:e,listener:i,currentTarget:a}}function yc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(e,a),h!=null&&l.unshift(ul(e,h,d)),h=Fn(e,i),h!=null&&l.push(ul(e,h,d))),e.tag===3)return l;e=e.return}return[]}function EA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=Fn(a,d),z!=null&&_.unshift(ul(a,z,I))):h||(z=Fn(a,d),z!=null&&_.push(ul(a,z,I)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var TA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(TA,`
`).replace(SA,"")}function p_(e,i){return i=m_(i),m_(e)===i}function Jt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&rn(e,""+l);break;case"className":dn(e,"class",l);break;case"tabIndex":dn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,a,l);break;case"style":Io(e,l,d);break;case"data":if(i!=="object"){dn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Jt(e,i,"name",h.name,h,null),Jt(e,i,"formEncType",h.formEncType,h,null),Jt(e,i,"formMethod",h.formMethod,h,null),Jt(e,i,"formTarget",h.formTarget,h,null)):(Jt(e,i,"encType",h.encType,h,null),Jt(e,i,"method",h.method,h,null),Jt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yu.get(a)||a,ia(e,a,l))}}function Sd(e,i,a,l,h,d){switch(a){case"style":Io(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ia(e,a,l)}}}function Fe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,d,_,a,null)}}h&&Jt(e,i,"srcSet",a.srcSet,a,null),l&&Jt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=_=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var q=a[l];if(q!=null)switch(l){case"name":h=q;break;case"type":_=q;break;case"checked":I=q;break;case"defaultChecked":z=q;break;case"value":d=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Jt(e,i,l,q,a,null)}}mu(e,d,T,I,z,_,h,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Jt(e,i,h,T,a,null)}i=d,a=_,e.multiple=!!l,i!=null?cr(e,!!l,i,!1):a!=null&&cr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(e,i,_,T,a,null)}hr(e,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,i,I,l,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<ll.length;l++)Ot(ll[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Jt(e,i,z,l,a,null)}return;default:if(sa(i)){for(q in a)a.hasOwnProperty(q)&&(l=a[q],l!==void 0&&Sd(e,i,q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Jt(e,i,T,l,a,null))}function AA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,z=null,q=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(H)||Jt(e,i,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":q=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Y&&Jt(e,i,B,H,l,Y)}}ra(e,_,T,I,z,q,d,h);return;case"select":H=_=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Jt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&Jt(e,i,h,d,l,I)}i=T,a=_,l=H,B!=null?cr(e,!!a,B,!1):!!l!=!!a&&(i!=null?cr(e,!!a,i,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(e,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Jt(e,i,_,h,l,d)}pu(e,B,H);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,i,lt,null,l,B));for(I in l)B=l[I],H=a[I],l.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,i,I,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Jt(e,i,pt,null,l,B);for(z in l)if(B=l[z],H=a[z],l.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Jt(e,i,z,B,l,H)}return;default:if(sa(i)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&Sd(e,i,Zt,void 0,l,B);for(q in l)B=l[q],H=a[q],!l.hasOwnProperty(q)||B===H||B===void 0&&H===void 0||Sd(e,i,q,B,l,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Jt(e,i,x,null,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||Jt(e,i,Y,B,l,H)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&g_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],z=I.startTime;if(z>T)break;var q=I.transferSize,Y=I.initiatorType;q&&g_(Y)&&(I=I.responseEnd,_+=q*(I<T?1:(T-z)/(I-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,bd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Rd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var wd=null;function RA(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,wA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(IA)}:v_;function IA(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function T_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),Ba(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,cl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&cl(e.ownerDocument.body);a=h}while(a);Ba(i)}function S_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function DA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function OA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=xn(e.nextSibling),e===null))return null;return e}function A_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=xn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NA(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Od=null;function b_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function R_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function w_(e,i,a){switch(i=_c(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function cl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);na(e)}var Ln=new Map,C_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=rt.d;rt.d={f:MA,r:VA,D:xA,C:LA,L:UA,m:PA,X:zA,S:kA,M:BA};function MA(){var e=$i.f(),i=cc();return e||i}function VA(e){var i=bn(e);i!==null&&i.tag===5&&i.type==="form"?Fg(i):$i.r(e)}var Pa=typeof document>"u"?null:document;function I_(e,i,a){var l=Pa;if(l&&typeof i=="string"&&i){var h=nn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),C_.has(h)||(C_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function xA(e){$i.D(e),I_("dns-prefetch",e,null)}function LA(e,i){$i.C(e,i),I_("preconnect",e,i)}function UA(e,i,a){$i.L(e,i,a);var l=Pa;if(l&&e&&i){var h='link[rel="preload"][as="'+nn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+nn(a.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var d=h;switch(i){case"style":d=ka(e);break;case"script":d=za(e)}Ln.has(d)||(e=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(hl(d))||i==="script"&&l.querySelector(fl(d))||(i=l.createElement("link"),Fe(i,"link",e),Ee(i),l.head.appendChild(i)))}}function PA(e,i){$i.m(e,i);var a=Pa;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+nn(l)+'"][href="'+nn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(e)}if(!Ln.has(d)&&(e=S({rel:"modulepreload",href:e},i),Ln.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(d)))return}l=a.createElement("link"),Fe(l,"link",e),Ee(l),a.head.appendChild(l)}}}function kA(e,i,a){$i.S(e,i,a);var l=Pa;if(l&&e){var h=li(l).hoistableStyles,d=ka(e);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(hl(d)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(d))&&Nd(e,a);var I=_=l.createElement("link");Ee(I),Fe(I,"link",e),I._p=new Promise(function(z,q){I.onload=z,I.onerror=q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function zA(e,i){$i.X(e,i);var a=Pa;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(e=S({src:e,async:!0},i),(i=Ln.get(h))&&Md(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function BA(e,i){$i.M(e,i);var a=Pa;if(a&&e){var l=li(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(e=S({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&Md(e,i),d=a.createElement("script"),Ee(d),Fe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function D_(e,i,a,l){var h=(h=bt.current)?vc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=li(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ka(a.href);var d=li(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(hl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),d||jA(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=li(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ka(e){return'href="'+nn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function O_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function jA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Fe(i,"link",a),Ee(i),e.head.appendChild(i))}function za(e){return'[src="'+nn(e)+'"]'}function fl(e){return"script[async]"+e}function N_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(l)return i.instance=l,Ee(l),l;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Fe(l,"style",h),Ec(l,a.precedence,e),i.instance=l;case"stylesheet":h=ka(a.href);var d=e.querySelector(hl(h));if(d)return i.state.loading|=4,i.instance=d,Ee(d),d;l=O_(a),(h=Ln.get(h))&&Nd(l,h),d=(e.ownerDocument||e).createElement("link"),Ee(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),i.state.loading|=4,Ec(d,a.precedence,e),i.instance=d;case"script":return d=za(a.src),(h=e.querySelector(fl(d)))?(i.instance=h,Ee(h),h):(l=a,(h=Ln.get(d))&&(l=S({},a),Md(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Fe(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ec(l,a.precedence,e));return i.instance}function Ec(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Tc=null;function M_(e,i,a){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(a,l)}else h=Tc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function V_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function HA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function x_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qA(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ka(l.href),d=i.querySelector(hl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Sc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ee(d);return}d=i.ownerDocument||i,l=O_(l),(h=Ln.get(h))&&Nd(l,h),d=d.createElement("link"),Ee(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Fe(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Sc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function FA(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Vd===0&&(Vd=62500*bA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Vd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,i.forEach(GA,e),Ac=null,Sc.call(e))}function GA(e,i){if(!(i.state.loading&4)){var a=Ac.get(e);if(a)var l=a.get(null);else{a=new Map,Ac.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var dl={$$typeof:it,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function KA(e,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function L_(e,i,a,l,h,d,_,T,I,z,q,Y){return e=new KA(e,i,a,_,I,z,q,Y,T),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),e.current=d,d.stateNode=e,i=ff(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},gf(d),e}function U_(e){return e?(e=ga,e):ga}function P_(e,i,a,l,h,d){h=U_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=br(e,l,i),a!==null&&(un(a,e,i),Go(a,e,i))}function k_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function xd(e,i){k_(e,i),(e=e.alternate)&&k_(e,i)}function z_(e){if(e.tag===13||e.tag===31){var i=Rs(e,67108864);i!==null&&un(i,e,67108864),xd(e,67108864)}}function B_(e){if(e.tag===13||e.tag===31){var i=En();i=ds(i);var a=Rs(e,i);a!==null&&un(a,e,i),xd(e,i)}}var Rc=!0;function QA(e,i,a,l){var h=G.T;G.T=null;var d=rt.p;try{rt.p=2,Ld(e,i,a,l)}finally{rt.p=d,G.T=h}}function YA(e,i,a,l){var h=G.T;G.T=null;var d=rt.p;try{rt.p=8,Ld(e,i,a,l)}finally{rt.p=d,G.T=h}}function Ld(e,i,a,l){if(Rc){var h=Ud(l);if(h===null)Td(e,i,l,wc,a),H_(e,l);else if($A(h,e,i,a,l))l.stopPropagation();else if(H_(e,l),i&4&&-1<XA.indexOf(e)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ni(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-fe(_);T.entanglements[1]|=I,_&=~I}Ti(d),(qt&6)===0&&(lc=We()+500,ol(0))}}break;case 31:case 13:T=Rs(d,2),T!==null&&un(T,d,2),cc(),xd(d,2)}if(d=Ud(l),d===null&&Td(e,i,l,wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Td(e,i,l,null,a)}}function Ud(e){return e=Rn(e),Pd(e)}var wc=null;function Pd(e){if(wc=null,e=oi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return wc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case go:return 2;case yo:return 8;case lr:case Hh:return 32;case ru:return 268435456;default:return 32}default:return 32}}var kd=!1,Lr=null,Ur=null,Pr=null,ml=new Map,pl=new Map,kr=[],XA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,i){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(i.pointerId)}}function gl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&z_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function $A(e,i,a,l,h){switch(i){case"focusin":return Lr=gl(Lr,e,i,a,l,h),!0;case"dragenter":return Ur=gl(Ur,e,i,a,l,h),!0;case"mouseover":return Pr=gl(Pr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ml.set(d,gl(ml.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,pl.set(d,gl(pl.get(d)||null,e,i,a,l,h)),!0}return!1}function q_(e){var i=oi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,jn(e.priority,function(){B_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,jn(e.priority,function(){B_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ud(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Do=l,a.target.dispatchEvent(l),Do=null}else return i=bn(a),i!==null&&z_(i),e.blockedOn=a,!1;i.shift()}return!0}function F_(e,i,a){Cc(e)&&a.delete(i)}function JA(){kd=!1,Lr!==null&&Cc(Lr)&&(Lr=null),Ur!==null&&Cc(Ur)&&(Ur=null),Pr!==null&&Cc(Pr)&&(Pr=null),ml.forEach(F_),pl.forEach(F_)}function Ic(e,i){e.blockedOn===i&&(e.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,JA)))}var Dc=null;function G_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Pd(l||a)===null)continue;break}var d=bn(a);d!==null&&(e.splice(i,3),i-=3,Uf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ba(e){function i(I){return Ic(I,e)}Lr!==null&&Ic(Lr,e),Ur!==null&&Ic(Ur,e),Pr!==null&&Ic(Pr,e),ml.forEach(i),pl.forEach(i);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&kr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||G_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(Pd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),G_(a)}}}function K_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Oc.prototype.render=zd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();P_(a,l,e,i,null,null)},Oc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;P_(e.current,2,null,e,null,null),cc(),i[si]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var i=cu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<kr.length&&i!==0&&i<kr[a].priority;a++);kr.splice(a,0,e),a===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.3")throw Error(s(527,Q_,"19.2.3"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var ZA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{zn=Nc.inject(ZA),ze=Nc}catch{}}return _l.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=ty,d=ey,_=ny;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=L_(e,1,!1,null,null,a,l,null,h,d,_,K_),e[si]=i.current,Ed(e),new zd(i)},_l.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=ty,_=ey,T=ny,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=L_(e,1,!0,i,a??null,l,h,I,d,_,T,K_),i.context=U_(null),a=i.current,l=En(),l=ds(l),h=Ar(l),h.callback=null,br(a,h,l),a=l,i.current.lanes=a,hs(i,a),Ti(i),e[si]=i.current,Ed(e),new Oc(i)},_l.version="19.2.3",_l}var iv;function u1(){if(iv)return Hd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=l1(),Hd.exports}var c1=u1();const h1=VE(c1);var rv="popstate";function f1(r={}){function t(o,u){let{pathname:f="/",search:p="",hash:g=""}=Qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),om("",{pathname:f,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof u=="string"?u:Vl(u))}function s(o,u){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return m1(t,n,s,r)}function le(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Pn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d1(){return Math.random().toString(36).substring(2,10)}function sv(r,t){return{usr:r.state,key:r.key,idx:t}}function om(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Qs(t):t,state:n,key:t&&t.key||s||d1()}}function Vl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function m1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){p="POP";let F=E(),et=F==null?null:F-y;y=F,g&&g({action:p,location:X.location,delta:et})}function R(F,et){p="PUSH";let tt=om(X.location,F,et);n&&n(tt,F),y=E()+1;let it=sv(tt,y),Ct=X.createHref(tt);try{f.pushState(it,"",Ct)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;o.location.assign(Ct)}u&&g&&g({action:p,location:X.location,delta:1})}function P(F,et){p="REPLACE";let tt=om(X.location,F,et);n&&n(tt,F),y=E();let it=sv(tt,y),Ct=X.createHref(tt);f.replaceState(it,"",Ct),u&&g&&g({action:p,location:X.location,delta:0})}function J(F){return p1(F)}let X={get action(){return p},get location(){return r(o,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(rv,S),g=F,()=>{o.removeEventListener(rv,S),g=null}},createHref(F){return t(o,F)},createURL:J,encodeLocation(F){let et=J(F);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:P,go(F){return f.go(F)}};return X}function p1(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Vl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xE(r,t,n="/"){return g1(r,t,n,!1)}function g1(r,t,n,s){let o=typeof t=="string"?Qs(t):t,u=tr(o.pathname||"/",n);if(u==null)return null;let f=LE(r);y1(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=I1(u);p=w1(f[g],y,s)}return p}function LE(r,t=[],n=[],s="",o=!1){let u=(f,p,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;le(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=Wi([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),LE(f.children,t,R,S,g)),!(f.path==null&&!f.index)&&t.push({path:S,score:b1(S,f.index),routesMeta:R})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of UE(f.path))u(f,p,!0,g)}),t}function UE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=UE(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function y1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:R1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _1=/^:[\w-]+$/,v1=3,E1=2,T1=1,S1=10,A1=-2,av=r=>r==="*";function b1(r,t){let n=r.split("/"),s=n.length;return n.some(av)&&(s+=A1),t&&(s+=E1),n.filter(o=>!av(o)).reduce((o,u)=>o+(_1.test(u)?v1:u===""?T1:S1),s)}function R1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function w1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",S=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Jc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Wi([u,S.pathname]),pathnameBase:M1(Wi([u,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(u=Wi([u,S.pathnameBase]))}return f}function Jc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=C1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let J=p[R]||"";f=u.slice(0,u.length-J.length).replace(/(.)\/+$/,"$1")}const P=p[R];return S&&!P?y[E]=void 0:y[E]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function C1(r,t=!1,n=!0){Pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function I1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function tr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D1=r=>PE.test(r);function O1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Qs(r):r,u;if(n)if(D1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=ov(n.substring(1),"/"):u=ov(n,t)}else u=t;return{pathname:u,search:V1(s),hash:x1(o)}}function ov(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function kE(r){let t=N1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function zE(r,t,n,s=!1){let o;typeof r=="string"?o=Qs(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}p=S>=0?t[S]:"/"}let g=O1(o,p),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),M1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),V1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,x1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,L1=class{constructor(r,t,n,s=!1){this.status=r,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function U1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function P1(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jE(r,t){let n=r;if(typeof n!="string"||!PE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(BE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),p=tr(f.pathname,t);f.origin===u.origin&&p!=null?n=p+f.search+f.hash:o=!0}catch{Pn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var k1=["GET",...HE];new Set(k1);var ro=K.createContext(null);ro.displayName="DataRouter";var _h=K.createContext(null);_h.displayName="DataRouterState";var z1=K.createContext(!1),qE=K.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var B1=K.createContext(new Map);B1.displayName="Fetchers";var j1=K.createContext(null);j1.displayName="Await";var kn=K.createContext(null);kn.displayName="Navigation";var Fl=K.createContext(null);Fl.displayName="Location";var Ni=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var xm=K.createContext(null);xm.displayName="RouteError";var FE="REACT_ROUTER_ERROR",H1="REDIRECT",q1="ROUTE_ERROR_RESPONSE";function F1(r){if(r.startsWith(`${FE}:${H1}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function G1(r){if(r.startsWith(`${FE}:${q1}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new L1(t.status,t.statusText,t.data)}catch{}}function K1(r,{relative:t}={}){le(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(kn),{hash:o,pathname:u,search:f}=Kl(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:Wi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Gl(){return K.useContext(Fl)!=null}function Ys(){return le(Gl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Fl).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(r){K.useContext(kn).static||K.useLayoutEffect(r)}function vh(){let{isDataRoute:r}=K.useContext(Ni);return r?ab():Q1()}function Q1(){le(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(ro),{basename:t,navigator:n}=K.useContext(kn),{matches:s}=K.useContext(Ni),{pathname:o}=Ys(),u=JSON.stringify(kE(s)),f=K.useRef(!1);return KE(()=>{f.current=!0}),K.useCallback((g,y={})=>{if(Pn(f.current,GE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=zE(g,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Wi([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,r])}K.createContext(null);function Y1(){let{matches:r}=K.useContext(Ni),t=r[r.length-1];return t?t.params:{}}function Kl(r,{relative:t}={}){let{matches:n}=K.useContext(Ni),{pathname:s}=Ys(),o=JSON.stringify(kE(n));return K.useMemo(()=>zE(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function X1(r,t){return QE(r,t)}function QE(r,t,n,s,o){le(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(kn),{matches:f}=K.useContext(Ni),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",E=p?p.pathnameBase:"/",S=p&&p.route;{let tt=S&&S.path||"";XE(y,!S||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let R=Ys(),P;if(t){let tt=typeof t=="string"?Qs(t):t;le(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),P=tt}else P=R;let J=P.pathname||"/",X=J;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");X="/"+J.replace(/^\//,"").split("/").slice(tt.length).join("/")}let F=xE(r,{pathname:X});Pn(S||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Pn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=tb(F&&F.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:Wi([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Wi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,n,s,o);return t&&et?K.createElement(Fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},et):et}function $1(){let r=sb(),t=U1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,f)}var J1=K.createElement($1,null),YE=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=G1(r.digest);n&&(r=n)}let t=r!==void 0?K.createElement(Ni.Provider,{value:this.props.routeContext},K.createElement(xm.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?K.createElement(Z1,{error:r},t):t}};YE.contextType=z1;var Qd=new WeakMap;function Z1({children:r,error:t}){let{basename:n}=K.useContext(kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=F1(t.digest);if(s){let o=Qd.get(t);if(o)throw o;let u=jE(s.location,n);if(BE&&!Qd.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Qd.set(t,f),f}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function W1({routeContext:r,match:t,children:n}){let s=K.useContext(ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Ni.Provider,{value:r},n)}function tb(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(S=>S.route.id&&f?.[S.route.id]!==void 0);le(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let p=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let S=u[E];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(g=E),S.route.id){let{loaderData:R,errors:P}=n,J=S.route.loader&&!R.hasOwnProperty(S.route.id)&&(!P||P[S.route.id]===void 0);if(S.route.lazy||J){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,S)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:P1(n.matches),errorInfo:S})}:void 0;return u.reduceRight((E,S,R)=>{let P,J=!1,X=null,F=null;n&&(P=f&&S.route.id?f[S.route.id]:void 0,X=S.route.errorElement||J1,p&&(g<0&&R===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,F=null):g===R&&(J=!0,F=S.route.hydrateFallbackElement||null)));let et=t.concat(u.slice(0,R+1)),tt=()=>{let it;return P?it=X:J?it=F:S.route.Component?it=K.createElement(S.route.Component,null):S.route.element?it=S.route.element:it=E,K.createElement(W1,{match:S,routeContext:{outlet:E,matches:et,isDataRoute:n!=null},children:it})};return n&&(S.route.ErrorBoundary||S.route.errorElement||R===0)?K.createElement(YE,{location:n.location,revalidation:n.revalidation,component:X,error:P,children:tt(),routeContext:{outlet:null,matches:et,isDataRoute:!0},onError:y}):tt()},null)}function Lm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eb(r){let t=K.useContext(ro);return le(t,Lm(r)),t}function nb(r){let t=K.useContext(_h);return le(t,Lm(r)),t}function ib(r){let t=K.useContext(Ni);return le(t,Lm(r)),t}function Um(r){let t=ib(r),n=t.matches[t.matches.length-1];return le(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function rb(){return Um("useRouteId")}function sb(){let r=K.useContext(xm),t=nb("useRouteError"),n=Um("useRouteError");return r!==void 0?r:t.errors?.[n]}function ab(){let{router:r}=eb("useNavigate"),t=Um("useNavigate"),n=K.useRef(!1);return KE(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{Pn(n.current,GE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var lv={};function XE(r,t,n){!t&&!lv[r]&&(lv[r]=!0,Pn(!1,n))}K.memo(ob);function ob({routes:r,future:t,state:n,onError:s}){return QE(r,void 0,n,s,t)}function Tl(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lb({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){le(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:p,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[p,o,u,f]);typeof n=="string"&&(n=Qs(n));let{pathname:y="/",search:E="",hash:S="",state:R=null,key:P="default"}=n,J=K.useMemo(()=>{let X=tr(y,p);return X==null?null:{location:{pathname:X,search:E,hash:S,state:R,key:P},navigationType:s}},[p,y,E,S,R,P,s]);return Pn(J!=null,`<Router basename="${p}"> is not able to match the URL "${y}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:K.createElement(kn.Provider,{value:g},K.createElement(Fl.Provider,{children:t,value:J}))}function ub({children:r,location:t}){return X1(lm(r),t)}function lm(r,t=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...t,o];if(s.type===K.Fragment){n.push.apply(n,lm(s.props.children,u));return}le(s.type===Tl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=lm(s.props.children,u)),n.push(f)}),n}var zc="get",Bc="application/x-www-form-urlencoded";function Eh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function cb(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function hb(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function fb(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function db(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function mb(r,t){return r.button===0&&(!t||t==="_self")&&!db(r)}var Mc=null;function pb(){if(Mc===null)try{new FormData(document.createElement("form"),0),Mc=!1}catch{Mc=!0}return Mc}var gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!gb.has(r)?(Pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function yb(r,t){let n,s,o,u,f;if(hb(r)){let p=r.getAttribute("action");s=p?tr(p,t):null,n=r.getAttribute("method")||zc,o=Yd(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(cb(r)||fb(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?tr(g,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||zc,o=Yd(r.getAttribute("formenctype"))||Yd(p.getAttribute("enctype"))||Bc,u=new FormData(p,r),!pb()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,S)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function _b(r,t,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&tr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function vb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Eb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Tb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await vb(u,n);return f.links?f.links():[]}return[]}));return Rb(s.flat(1).filter(Eb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uv(r,t,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?t.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?t.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Sb(r,t,{includeHydrateFallback:n}={}){return Ab(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ab(r){return[...new Set(r)]}function bb(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Rb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(bb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $E(){let r=K.useContext(ro);return Pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function wb(){let r=K.useContext(_h);return Pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var km=K.createContext(void 0);km.displayName="FrameworkContext";function JE(){let r=K.useContext(km);return Pm(r,"You must render this element inside a <HydratedRouter> element"),r}function Cb(r,t){let n=K.useContext(km),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,R=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=et=>{et.forEach(tt=>{f(tt.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),K.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},J=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:vl(p,P),onBlur:vl(g,J),onMouseEnter:vl(y,P),onMouseLeave:vl(E,J),onTouchStart:vl(S,P)}]:[!1,R,{}]}function vl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Ib({page:r,...t}){let{router:n}=$E(),s=K.useMemo(()=>xE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(Ob,{page:r,matches:s,...t}):null}function Db(r){let{manifest:t,routeModules:n}=JE(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return Tb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Ob({page:r,matches:t,...n}){let s=Ys(),{future:o,manifest:u,routeModules:f}=JE(),{basename:p}=$E(),{loaderData:g,matches:y}=wb(),E=K.useMemo(()=>uv(r,t,y,u,s,"data"),[r,t,y,u,s]),S=K.useMemo(()=>uv(r,t,y,u,s,"assets"),[r,t,y,u,s]),R=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let X=new Set,F=!1;if(t.forEach(tt=>{let it=u.routes[tt.route.id];!it||!it.hasLoader||(!E.some(Ct=>Ct.route.id===tt.route.id)&&tt.route.id in g&&f[tt.route.id]?.shouldRevalidate||it.hasClientLoader?F=!0:X.add(tt.route.id))}),X.size===0)return[];let et=_b(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return F&&X.size>0&&et.searchParams.set("_routes",t.filter(tt=>X.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[et.pathname+et.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,t,r,f]),P=K.useMemo(()=>Sb(S,u),[S,u]),J=Db(S);return K.createElement(K.Fragment,null,R.map(X=>K.createElement("link",{key:X,rel:"prefetch",as:"fetch",href:X,...n})),P.map(X=>K.createElement("link",{key:X,rel:"modulepreload",href:X,...n})),J.map(({key:X,link:F})=>K.createElement("link",{key:X,nonce:n.nonce,...F})))}function Nb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mb&&(window.__reactRouterVersion="7.12.0")}catch{}function Vb({basename:r,children:t,unstable_useTransitions:n,window:s}){let o=K.useRef();o.current==null&&(o.current=f1({window:s,v5Compat:!0}));let u=o.current,[f,p]=K.useState({action:u.action,location:u.location}),g=K.useCallback(y=>{n===!1?p(y):K.startTransition(()=>p(y))},[n]);return K.useLayoutEffect(()=>u.listen(g),[u,g]),K.createElement(lb,{basename:r,children:t,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=K.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...P},J){let{basename:X,unstable_useTransitions:F}=K.useContext(kn),et=typeof y=="string"&&ZE.test(y),tt=jE(y,X);y=tt.to;let it=K1(y,{relative:o}),[Ct,It,wt]=Cb(s,P),D=Pb(y,{replace:f,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:S,unstable_defaultShouldRevalidate:R,unstable_useTransitions:F});function b(V){t&&t(V),V.defaultPrevented||D(V)}let w=K.createElement("a",{...P,...wt,href:tt.absoluteURL||it,onClick:tt.isExternal||u?t:b,ref:Nb(J,It),target:g,"data-discover":!et&&n==="render"?"true":void 0});return Ct&&!et?K.createElement(K.Fragment,null,w,K.createElement(Ib,{page:it})):w});WE.displayName="Link";var xb=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},E){let S=Kl(f,{relative:y.relative}),R=Ys(),P=K.useContext(_h),{navigator:J,basename:X}=K.useContext(kn),F=P!=null&&Hb(S)&&p===!0,et=J.encodeLocation?J.encodeLocation(S).pathname:S.pathname,tt=R.pathname,it=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),it=it?it.toLowerCase():null,et=et.toLowerCase()),it&&X&&(it=tr(it,X)||it);const Ct=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let It=tt===et||!o&&tt.startsWith(et)&&tt.charAt(Ct)==="/",wt=it!=null&&(it===et||!o&&it.startsWith(et)&&it.charAt(et.length)==="/"),D={isActive:It,isPending:wt,isTransitioning:F},b=It?t:void 0,w;typeof s=="function"?w=s(D):w=[s,It?"active":null,wt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return K.createElement(WE,{...y,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:p},typeof g=="function"?g(D):g)});xb.displayName="NavLink";var Lb=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=zc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R,...P},J)=>{let{unstable_useTransitions:X}=K.useContext(kn),F=Bb(),et=jb(p,{relative:y}),tt=f.toLowerCase()==="get"?"get":"post",it=typeof p=="string"&&ZE.test(p),Ct=It=>{if(g&&g(It),It.defaultPrevented)return;It.preventDefault();let wt=It.nativeEvent.submitter,D=wt?.getAttribute("formmethod")||f,b=()=>F(wt||It.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S,unstable_defaultShouldRevalidate:R});X&&n!==!1?K.startTransition(()=>b()):b()};return K.createElement("form",{ref:J,method:tt,action:et,onSubmit:s?g:Ct,...P,"data-discover":!it&&r==="render"?"true":void 0})});Lb.displayName="Form";function Ub(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(r){let t=K.useContext(ro);return le(t,Ub(r)),t}function Pb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=vh(),E=Ys(),S=Kl(r,{relative:u});return K.useCallback(R=>{if(mb(R,t)){R.preventDefault();let P=n!==void 0?n:Vl(E)===Vl(S),J=()=>y(r,{replace:P,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:p});g?K.startTransition(()=>J()):J()}},[E,y,S,n,s,t,r,o,u,f,p,g])}var kb=0,zb=()=>`__${String(++kb)}__`;function Bb(){let{router:r}=tT("useSubmit"),{basename:t}=K.useContext(kn),n=rb(),s=r.fetch,o=r.navigate;return K.useCallback(async(u,f={})=>{let{action:p,method:g,encType:y,formData:E,body:S}=yb(u,t);if(f.navigate===!1){let R=f.fetcherKey||zb();await s(R,n,f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||p,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:S,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,t,n])}function jb(r,{relative:t}={}){let{basename:n}=K.useContext(kn),s=K.useContext(Ni);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Kl(r||".",{relative:t})},f=Ys();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(S=>S).forEach(S=>p.append("index",S));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),Vl(u)}function Hb(r,{relative:t}={}){let n=K.useContext(qE);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tT("useViewTransitionState"),o=Kl(r,{relative:t});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jc(o.pathname,f)!=null||Jc(o.pathname,u)!=null}function qb(){const r=vh();return ft.jsxs("div",{style:{padding:40},children:[ft.jsx("h2",{children:"Magic Chess Draft"}),ft.jsx("p",{children:"Select your role:"}),ft.jsx("button",{onClick:()=>r("/referee"),children:"I am a Referee"}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsx("button",{onClick:()=>r("/join"),children:"I am a Drafter"})]})}const Fb=()=>{};var cv={};const eT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Gb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|p>>4;let R=(p&15)<<2|y>>6,P=y&63;g||(P=64,f||(R=64)),s.push(n[E],n[S],n[R],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(eT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||S==null)throw new Kb;const R=u<<2|p>>4;if(s.push(R),y!==64){const P=p<<4&240|y>>2;if(s.push(P),S!==64){const J=y<<6&192|S;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(r){const t=eT(r);return nT.encodeByteArray(t,!0)},Zc=function(r){return Qb(r).replace(/\./g,"")},iT=function(r){try{return nT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Xb=()=>Yb().__FIREBASE_DEFAULTS__,$b=()=>{if(typeof process>"u"||typeof cv>"u")return;const r=cv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Jb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&iT(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return Fb()||Xb()||$b()||Jb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rT=r=>Th()?.emulatorHosts?.[r],Zb=r=>{const t=rT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},sT=()=>Th()?.config,aT=r=>Th()?.[`_${r}`];class Wb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oT(r){return(await fetch(r,{credentials:"include"})).ok}function tR(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(n)),Zc(JSON.stringify(f)),""].join(".")}const wl={};function eR(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function nR(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let hv=!1;function lT(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||wl[r]===t||wl[r]||hv)return;wl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=eR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,P){R.setAttribute("width","24"),R.setAttribute("id",P),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{hv=!0,f()},R}function E(R,P){R.setAttribute("id",P),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function S(){const R=nR(s),P=n("text"),J=document.getElementById(P)||document.createElement("span"),X=n("learnmore"),F=document.getElementById(X)||document.createElement("a"),et=n("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const it=R.element;p(it),E(F,X);const Ct=y();g(tt,et),it.append(tt,J,F,Ct),document.body.appendChild(it)}u?(J.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function rR(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function oR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lR(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function uR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cR(){try{return typeof indexedDB=="object"}catch{return!1}}function hR(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const fR="FirebaseError";class ar extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=fR,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?dR(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new ar(o,p,s)}}function dR(r,t){return r.replace(mR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const mR=/\{\$([^}]+)}/g;function pR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(fv(u)&&fv(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function fv(r){return r!==null&&typeof r=="object"}function Yl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function gR(r,t){const n=new yR(r,t);return n.subscribe.bind(n)}class yR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");_R(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Xd),o.error===void 0&&(o.error=Xd),o.complete===void 0&&(o.complete=Xd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Xd(){}function Sn(r){return r&&r._delegate?r._delegate:r}class Hs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ks="[DEFAULT]";class vR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Wb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TR(t))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ks){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ks){return this.instances.has(t)}getOptions(t=ks){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ER(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ks){return this.component?this.component.multipleInstances?t:ks:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(r){return r===ks?void 0:r}function TR(r){return r.instantiationMode==="EAGER"}class SR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new vR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const AR={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},bR=Vt.INFO,RR={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},wR=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=RR[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class zm{constructor(t){this.name=t,this._logLevel=bR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const CR=(r,t)=>t.some(n=>r instanceof n);let dv,mv;function IR(){return dv||(dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DR(){return mv||(mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,um=new WeakMap,cT=new WeakMap,$d=new WeakMap,Bm=new WeakMap;function OR(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&uT.set(n,r)}).catch(()=>{}),Bm.set(t,r),t}function NR(r){if(um.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});um.set(r,t)}let cm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return um.get(r);if(t==="objectStoreNames")return r.objectStoreNames||cT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function MR(r){cm=r(cm)}function VR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Jd(this),t,...n);return cT.set(s,t.sort?t.sort():[t]),Kr(s)}:DR().includes(r)?function(...t){return r.apply(Jd(this),t),Kr(uT.get(this))}:function(...t){return Kr(r.apply(Jd(this),t))}}function xR(r){return typeof r=="function"?VR(r):(r instanceof IDBTransaction&&NR(r),CR(r,IR())?new Proxy(r,cm):r)}function Kr(r){if(r instanceof IDBRequest)return OR(r);if($d.has(r))return $d.get(r);const t=xR(r);return t!==r&&($d.set(r,t),Bm.set(t,r)),t}const Jd=r=>Bm.get(r);function LR(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Kr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Kr(f.result),g.oldVersion,g.newVersion,Kr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const UR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],Zd=new Map;function pv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UR.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Zd.set(t,u),u}MR(r=>({...r,get:(t,n,s)=>pv(t,n)||r.get(t,n,s),has:(t,n)=>!!pv(t,n)||r.has(t,n)}));class kR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zR(r){return r.getComponent()?.type==="VERSION"}const hm="@firebase/app",gv="0.14.7";const er=new zm("@firebase/app"),BR="@firebase/app-compat",jR="@firebase/analytics-compat",HR="@firebase/analytics",qR="@firebase/app-check-compat",FR="@firebase/app-check",GR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",XR="@firebase/database-compat",$R="@firebase/functions",JR="@firebase/functions-compat",ZR="@firebase/installations",WR="@firebase/installations-compat",tw="@firebase/messaging",ew="@firebase/messaging-compat",nw="@firebase/performance",iw="@firebase/performance-compat",rw="@firebase/remote-config",sw="@firebase/remote-config-compat",aw="@firebase/storage",ow="@firebase/storage-compat",lw="@firebase/firestore",uw="@firebase/ai",cw="@firebase/firestore-compat",hw="firebase",fw="12.8.0";const fm="[DEFAULT]",dw={[hm]:"fire-core",[BR]:"fire-core-compat",[HR]:"fire-analytics",[jR]:"fire-analytics-compat",[FR]:"fire-app-check",[qR]:"fire-app-check-compat",[GR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[$R]:"fire-fn",[JR]:"fire-fn-compat",[ZR]:"fire-iid",[WR]:"fire-iid-compat",[tw]:"fire-fcm",[ew]:"fire-fcm-compat",[nw]:"fire-perf",[iw]:"fire-perf-compat",[rw]:"fire-rc",[sw]:"fire-rc-compat",[aw]:"fire-gcs",[ow]:"fire-gcs-compat",[lw]:"fire-fst",[cw]:"fire-fst-compat",[uw]:"fire-vertex","fire-js":"fire-js",[hw]:"fire-js-all"};const Wc=new Map,mw=new Map,dm=new Map;function yv(r,t){try{r.container.addComponent(t)}catch(n){er.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if(dm.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;dm.set(t,r);for(const n of Wc.values())yv(n,r);for(const n of mw.values())yv(n,r);return!0}function jm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Jn(r){return r==null?!1:r.settings!==void 0}const pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new Ql("app","Firebase",pw);class gw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const ao=fw;function hT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:fm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=sT()),!n)throw Qr.create("no-options");const u=Wc.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new SR(o);for(const g of dm.values())f.addComponent(g);const p=new gw(n,s,f);return Wc.set(o,p),p}function fT(r=fm){const t=Wc.get(r);if(!t&&r===fm&&sT())return hT();if(!t)throw Qr.create("no-app",{appName:r});return t}function Yr(r,t,n){let s=dw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(f.join(" "));return}Ja(new Hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const yw="firebase-heartbeat-database",_w=1,xl="firebase-heartbeat-store";let Wd=null;function dT(){return Wd||(Wd=LR(yw,_w,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Qr.create("idb-open",{originalErrorMessage:r.message})})),Wd}async function vw(r){try{const n=(await dT()).transaction(xl),s=await n.objectStore(xl).get(mT(r));return await n.done,s}catch(t){if(t instanceof ar)er.warn(t.message);else{const n=Qr.create("idb-get",{originalErrorMessage:t?.message});er.warn(n.message)}}}async function _v(r,t){try{const s=(await dT()).transaction(xl,"readwrite");await s.objectStore(xl).put(t,mT(r)),await s.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n?.message});er.warn(s.message)}}}function mT(r){return`${r.name}!${r.options.appId}`}const Ew=1024,Tw=30;class Sw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Tw){const o=Rw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=vv(),{heartbeatsToSend:n,unsentEntries:s}=Aw(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return er.warn(t),""}}}function vv(){return new Date().toISOString().substring(0,10)}function Aw(r,t=Ew){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ev(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class bw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cR()?hR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return _v(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function Rw(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}function ww(r){Ja(new Hs("platform-logger",t=>new kR(t),"PRIVATE")),Ja(new Hs("heartbeat",t=>new Sw(t),"PRIVATE")),Yr(hm,gv,r),Yr(hm,gv,"esm2020"),Yr("fire-js","")}ww("");var Cw="firebase",Iw="12.8.0";Yr(Cw,Iw,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,pT;(function(){var r;function t(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(V,N,L){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return b.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)V[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],N=D.g[2];let L=D.g[3],C;C=b+(L^w&(N^L))+V[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(L^w&(N^L))+V[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(N^b&(w^N))+V[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=N+(w^L&(b^w))+V[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=w+(b^N&(L^b))+V[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(N^L&(w^N))+V[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^L&(w^N))+V[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^N&(b^w))+V[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(L^b))+V[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(N^L))+V[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(w^N^L)+V[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^L)+V[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^N)+V[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=N+(L^b^w)+V[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=w+(N^L^b)+V[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(N^(w|~L))+V[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~L))+V[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~N))+V[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=N+(b^(L|~w))+V[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=w+(L^(N|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+L&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=w;)o(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<b;)if(V[N++]=D.charCodeAt(L++),N==this.blockSize){o(this,V),N=0;break}}else for(;L<b;)if(V[N++]=D[L++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)D[b++]=this.g[w]>>>V&255;return D};function u(D,b){var w=p;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function f(D,b){this.h=b;const w=[];let V=!0;for(let N=D.length-1;N>=0;N--){const L=D[N]|0;V&&L==b||(w[N]=L,V=!1)}this.g=w}var p={};function g(D){return-128<=D&&D<128?u(D,function(b){return new f([b|0],b<0?-1:0)}):new f([D|0],D<0?-1:0)}function y(D){if(isNaN(D)||!isFinite(D))return S;if(D<0)return F(y(-D));const b=[];let w=1;for(let V=0;D>=w;V++)b[V]=D/w|0,w*=4294967296;return new f(b,0)}function E(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return F(E(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(b,8));let V=S;for(let L=0;L<D.length;L+=8){var N=Math.min(8,D.length-L);const C=parseInt(D.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),V=V.j(N).add(y(C))):(V=V.j(w),V=V.add(y(C)))}return V}var S=g(0),R=g(1),P=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(X(this))return"-"+F(this).toString(D);const b=y(Math.pow(D,6));var w=this;let V="";for(;;){const N=Ct(w,b).g;w=et(w,N.j(b));let L=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=N,J(w))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function X(D){return D.h==-1}r.l=function(D){return D=et(this,D),X(D)?-1:J(D)?0:1};function F(D){const b=D.g.length,w=[];for(let V=0;V<b;V++)w[V]=~D.g[V];return new f(w,~D.h).add(R)}r.abs=function(){return X(this)?F(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let V=0;for(let N=0;N<=b;N++){let L=V+(this.i(N)&65535)+(D.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=C>>>16,L&=65535,C&=65535,w[N]=C<<16|L}return new f(w,w[w.length-1]&-2147483648?-1:0)};function et(D,b){return D.add(F(b))}r.j=function(D){if(J(this)||J(D))return S;if(X(this))return X(D)?F(this).j(F(D)):F(F(this).j(D));if(X(D))return F(this.j(F(D)));if(this.l(P)<0&&D.l(P)<0)return y(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<D.g.length;N++){const L=this.i(V)>>>16,C=this.i(V)&65535,ie=D.i(N)>>>16,Ie=D.i(N)&65535;w[2*V+2*N]+=C*Ie,tt(w,2*V+2*N),w[2*V+2*N+1]+=L*Ie,tt(w,2*V+2*N+1),w[2*V+2*N+1]+=C*ie,tt(w,2*V+2*N+1),w[2*V+2*N+2]+=L*ie,tt(w,2*V+2*N+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new f(w,0)};function tt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function it(D,b){this.g=D,this.h=b}function Ct(D,b){if(J(b))throw Error("division by zero");if(J(D))return new it(S,S);if(X(D))return b=Ct(F(D),b),new it(F(b.g),F(b.h));if(X(b))return b=Ct(D,F(b)),new it(F(b.g),b.h);if(D.g.length>30){if(X(D)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,V=b;V.l(D)<=0;)w=It(w),V=It(V);var N=wt(w,1),L=wt(V,1);for(V=wt(V,2),w=wt(w,2);!J(V);){var C=L.add(V);C.l(D)<=0&&(N=N.add(w),L=C),V=wt(V,1),w=wt(w,1)}return b=et(D,N.j(b)),new it(N,b)}for(N=S;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(w),C=L.j(b);X(C)||C.l(D)>0;)w-=V,L=y(w),C=L.j(b);J(L)&&(L=R),N=N.add(L),D=et(D,C)}return new it(N,D)}r.B=function(D){return Ct(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&D.i(V);return new f(w,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|D.i(V);return new f(w,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^D.i(V);return new f(w,this.h^D.h)};function It(D){const b=D.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=D.i(V)<<1|D.i(V-1)>>>31;return new f(w,D.h)}function wt(D,b){const w=b>>5;b%=32;const V=D.g.length-w,N=[];for(let L=0;L<V;L++)N[L]=b>0?D.i(L+w)>>>b|D.i(L+w+1)<<32-b:D.i(L+w);return new f(N,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,pT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Xr=f}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gT,Sl,yT,jc,mm,_T,vT,ET;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in v))break t;v=v[U]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function g(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=g,y.apply(null,arguments)}function E(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,U,j){for(var nt=Array(arguments.length-2),St=2;St<arguments.length;St++)nt[St-2]=arguments[St];return m.prototype[U].apply(A,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function J(c,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const j=U.length||0;c.length=v+j;for(let nt=0;nt<j;nt++)c[v+nt]=U[nt]}else c.push(U)}}class X{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function F(c){f.setTimeout(()=>{throw c},0)}function et(){var c=D;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,v){const A=it.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new X(()=>new Ct,c=>c.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,wt=!1,D=new tt,b=()=>{const c=Promise.resolve(void 0);It=()=>{c.then(w)}};function w(){for(var c;c=et();){try{c.h.call(c.g)}catch(v){F(v)}var m=it;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}wt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ie(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}S(ie,N),ie.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(c,m,v,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Gt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function M(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)c[v]=A[v];for(let j=0;j<$.length;j++)v=$[j],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,m,v,A,U){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const nt=bt(c,m,A,U);return nt>-1?(m=c[nt],v||(m.fa=!1)):(m=new rt(m,this.src,j,!!A,U),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(A,U,1),j&&(dt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bt(c,m,v,A){for(let U=0;U<c.length;++U){const j=c[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),De={};function re(c,m,v,A,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)re(c,m[j],v,A,U);return null}return v=po(v),c&&c[Ie]?c.J(m,v,p(A)?!!A.capture:!1,U):os(c,m,v,!1,A,U)}function os(c,m,v,A,U,j){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let St=ls(c);if(St||(c[Pt]=St=new ot(c)),v=St.add(m,v,A,nt,j),v.proxy)return v;if(A=Js(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(U=nt),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(ti(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Js(){function c(v){return m.call(c.src,c.listener,v)}const m=fo;return c}function Zs(c,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Zs(c,m[j],v,A,U);else A=p(A)?!!A.capture:!!A,v=po(v),c&&c[Ie]?(c=c.i,j=String(m).toString(),j in c.g&&(m=c.g[j],v=bt(m,v,A,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[j],c.h--)))):c&&(c=ls(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bt(m,v,A,U)),(v=c>-1?m[c]:null)&&Ws(v))}function Ws(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ie])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(ti(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ls(m))?(_t(v,c),v.h==0&&(v.src=null,m[Pt]=null)):dt(c)}}}function ti(c){return c in De?De[c]:De[c]="on"+c}function fo(c,m){if(c.da)c=!0;else{m=new ie(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&Ws(c),c=v.call(A,m)}return c}function ls(c){return c=c[Pt],c instanceof ot?c:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function po(c){return typeof c=="function"?c:(c[mo]||(c[mo]=function(m){return c.handleEvent(m)}),c[mo])}function ye(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}S(ye,V),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(c,m,v,A){Zs(this,c,m,v,A)};function Oe(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var U=m;m=new N(A,c),st(m,U)}U=!0;let j,nt;if(v)for(nt=v.length-1;nt>=0;nt--)j=m.g=v[nt],U=or(j,A,!0,m)&&U;if(j=m.g=c,U=or(j,A,!0,m)&&U,U=or(j,A,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)j=m.g=v[nt],U=or(j,A,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)dt(v[A]);delete c.g[m],c.h--}}this.G=null},ye.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},ye.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function or(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const nt=m[j];if(nt&&!nt.da&&nt.capture==v){const St=nt.listener,de=nt.ha||nt.src;nt.fa&&_t(c.i,nt),U=St.call(de,A)!==!1&&U}}return U&&!A.defaultPrevented}function jh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function iu(c){c.g=jh(()=>{c.g=null,c.i&&(c.i=!1,iu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class We extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){V.call(this),this.h=c,this.g={}}S(us,V);var go=[];function yo(c){zt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Ws(m)},c),c.g={}}us.prototype.N=function(){us.Z.N.call(this),yo(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=f.JSON.stringify,Hh=f.JSON.parse,ru=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function su(){}function au(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}S(ze,N);function An(){N.call(this,"c")}S(An,N);var fe={},ou=null;function ta(){return ou=ou||new ye}fe.Ia="serverreachability";function lu(c){N.call(this,fe.Ia,c)}S(lu,N);function ei(c){const m=ta();Oe(m,new lu(m))}fe.STAT_EVENT="statevent";function cs(c,m){N.call(this,fe.STAT_EVENT,c),this.stat=m}S(cs,N);function _e(c){const m=ta();Oe(m,new cs(m,c))}fe.Ja="timingevent";function ni(c,m){N.call(this,fe.Ja,c),this.size=m}S(ni,N);function ii(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function qh(c,m,v,A,U,j){c.info(function(){if(c.g)if(j){var nt="",St=j.split("&");for(let Ht=0;Ht<St.length;Ht++){var de=St[Ht].split("=");if(de.length>1){const se=de[0];de=de[1];const Cn=se.split("_");nt=Cn.length>=2&&Cn[1]=="type"?nt+(se+"="+de+"&"):nt+(se+"=redacted&")}}}else nt=null;else nt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function uu(c,m,v,A,U,j,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+nt})}function ri(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(c,v)+(A?" "+A:"")})}function hs(c,m){c.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Fh(c,m){if(!c.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return lr(j)}catch{return m}}var fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function ds(){}S(ds,su),ds.prototype.g=function(){return new XMLHttpRequest},vo=new ds;function Mi(c){return encodeURIComponent(String(c))}function cu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function jn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var ve={},Le={};function si(c,m,v){c.M=1,c.A=ms(Te(m)),c.u=v,c.R=!0,ea(c,null)}function ea(c,m){c.F=Date.now(),ai(c),c.B=Te(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),sa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Hn,c.g=Ru(c.j,v?m:null,!c.u),c.P>0&&(c.O=new We(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(go[0]=U.toString()),U=go);for(let j=0;j<U.length;j++){const nt=re(v,U[j],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ei(),qh(c.i,c.v,c.B,c.l,c.S,c.u)}jn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Gn(c)==3?m.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Gn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||St!=4||de==7||(de==8||Ht<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var j=A;break e}}j=null}if(c=j)ri(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),fn(this),bn(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<v.length;)if(se=fu(this,v),se==Le){St==4&&(this.m=4,_e(14),c=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ve){this.m=4,_e(15),ri(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ri(this.i,this.l,se,null),li(this,se);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ri(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(nt),nt.P=!0,_e(11))}}else ri(this.i,this.l,v,null),li(this,v);St==4&&fn(this),this.o&&!this.K&&(St==4?Tu(this.j,this):(this.o=!1,ai(this)))}else xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),fn(this),bn(this)}}}catch{}};function Gh(c){if(!hu(c))return c.g.la();const m=Be(c.g);if(m==="")return"";let v="";const A=m.length,U=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return fn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let j=0;j<A;j++)c.h.h=!0,v+=c.h.i.decode(m[j],{stream:!(U&&j==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?Le:(v=Number(m.substring(v,A)),isNaN(v)?ve:(A+=1,A+v>m.length?Le:(m=m.slice(A,A+v),c.C=A+v,m)))}jn.prototype.cancel=function(){this.K=!0,fn(this)};function ai(c){c.T=Date.now()+c.H,na(c,c.H)}function na(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ii(y(c.aa,c),m)}function oi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(hs(this.i,this.B),this.M!=2&&(ei(),_e(17)),fn(this),this.m=2,bn(this)):na(this,this.T-c)};function bn(c){c.j.I==0||c.K||Tu(c.j,c)}function fn(c){oi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,yo(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function li(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||ci(v.h,c))){if(!c.L&&ci(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ca(v),gr(v);else break t;Ts(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(y(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((c.L||v.g==c)&&ca(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Ht=U[m];const se=Ht[0];if(!(se<=v.K))if(v.K=se,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=Ht[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Kn=Ht[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qn=c.g;if(Qn){const Ss=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var j=A.h;j.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(So(j,j.h),j.h=null))}if(A.G){const ha=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(A.wa=ha,Kt(A.J,A.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=c;if(A.na=bu(A,A.L?A.ba:null,A.W),nt.L){Ao(A.h,nt);var St=nt,de=A.O;de&&(St.H=de),St.D&&(oi(St),ai(St)),A.g=nt}else vu(A);v.i.length>0&&pi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(v,7):Mo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(c,m){this.g=c,this.map=m}};function Eo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function So(c,m){c.g?c.g.add(m):c.h=m}function Ao(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return P(c.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let U,j=null;A>=0?(U=c[v].substring(0,A),j=c[v].substring(A+1)):U=c[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof dn?(this.l=c.l,Ue(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.u),this.h=c.h,Ro(this,yu(c.i)),this.m=c.m):c&&(m=String(c).match(du))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ur(this,m[4]),this.h=hi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new hr(null,this.l))}dn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ps(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ps(m,ra,!0),"@"),c.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ps(v,v.charAt(0)=="/"?wo:mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ps(v,pu)),c.join("")},dn.prototype.resolve=function(c){const m=Te(this);let v=!!c.j;v?Ue(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)ur(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let nt=0;nt<U.length;){const St=U[nt++];St=="."?A&&nt==U.length&&j.push(""):St==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),A&&nt==U.length&&j.push("")):(j.push(St),A=!0)}A=j.join("/")}else A=U}return v?m.h=A:v=c.i.toString()!=="",v?Ro(m,yu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Te(c){return new dn(c)}function Ue(c,m,v){c.j=v?hi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Ro(c,m,v){m instanceof hr?(c.i=m,aa(c.i,c.l)):(v||(m=ps(m,cr)),c.i=new hr(m,c.l))}function Kt(c,m,v){c.i.set(m,v)}function ms(c){return Kt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,nn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ra=/[#\/\?@]/g,mu=/[#\?:]/g,wo=/[#\?]/g,cr=/[#\?@]/g,pu=/#/g;function hr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hr.prototype,r.add=function(c,m){rn(this),this.i=null,c=fr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function gu(c,m){rn(c),m=fr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Co(c,m){return rn(c),m=fr(c,m),c.g.has(m)}r.forEach=function(c,m){rn(this),this.g.forEach(function(v,A){v.forEach(function(U){c.call(m,U,A,this)},this)},this)};function Io(c,m){rn(c);let v=[];if(typeof m=="string")Co(c,m)&&(v=v.concat(c.g.get(fr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return rn(this),this.i=null,c=fr(this,c),Co(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Io(this,c),c.length>0?String(c[0]):m):m};function sa(c,m,v){gu(c,m),v.length>0&&(c.i=null,c.g.set(fr(c,m),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const U=Mi(v);v=Io(this,v);for(let j=0;j<v.length;j++){let nt=U;v[j]!==""&&(nt+="="+Mi(v[j])),c.push(nt)}}return this.i=c.join("&")};function yu(c){const m=new hr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function fr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function aa(c,m){m&&!c.j&&(rn(c),c.i=null,c.g.forEach(function(v,A){const U=A.toLowerCase();A!=U&&(gu(this,A),sa(this,U,v))},c)),c.j=m}function qn(c,m){const v=new Bn;if(f.Image){const A=new Image;A.onload=E(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=E(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=E(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(Rn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Do(c,m){const v=new Bn,A=new AbortController,U=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Rn(v,"TestPingServer: error",!1,m)})}function Rn(c,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function dr(){this.g=new ru}function fi(c){this.i=c.Sb||null,this.h=c.ab||!1}S(fi,su),fi.prototype.g=function(){return new gs(this.i,this.h)};function gs(c,m){ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(gs,ye),r=gs.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?mr(this):Fn(this),this.readyState==3&&oa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Na=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wn(c){let m="";return zt(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function ys(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=wn(v),typeof c=="string"?v!=null&&Mi(v):Kt(c,m,v))}function Xt(c){ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Xt,ye);var di=/^https?$/i,Oo=["POST","PUT"];r=Xt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(j){_s(this,j);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of v)this.g.setRequestHeader(j,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){_s(this,j)}};function _s(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,No(c),Vi(c)}function No(c){c.A||(c.A=!0,Oe(c,"complete"),Oe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Oe(this,"complete"),Oe(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},r.Xa=function(){vs(this)};function vs(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Oe(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=j===0){let nt=String(c.D).match(du)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),A=!di.test(nt?nt.toLowerCase():"")}v=A}if(v)Oe(c,"complete"),Oe(c,"success");else{c.o=6;try{var U=Gn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",No(c)}}finally{Vi(c)}}}}function Vi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Oe(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Hh(m)}};function Be(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xi(c){const m={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=cu(c[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Gt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function pr(c){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,c),this.Za=mi("retryDelaySeedMs",1e4,c),this.Ta=mi("forwardChannelMaxRetries",2,c),this.va=mi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(c&&c.concurrentRequestLimit),this.Ba=new dr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=pr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){_e(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=bu(this,null,this.W),pi(this)};function Mo(c){if(la(c),c.I==3){var m=c.V++,v=Te(c.J);if(Kt(v,"SID",c.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Es(c,v),m=new jn(c,c.j,m),m.M=2,m.A=ms(Te(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}Au(c)}function gr(c){c.g&&(xo(c),c.g.cancel(),c.g=null)}function la(c){gr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ca(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function pi(c){if(!To(c.h)&&!c.m){c.m=!0;var m=c.Ea;It||b(),wt||(It(),wt=!0),D.add(m,c),c.D=0}}function ua(c,m){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ii(y(c.Ea,c,m),Su(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new jn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),st(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=Te(this.J),Kt(v,"RID",c),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Es(this,v),j&&(this.R?m="headers="+Mi(wn(j))+"&"+m:this.u&&ys(v,this.u,j)),So(this.h,U),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(c?Vo(this,c):this.i.length==0||To(this.h)||Vo(this))};function Vo(c,m){var v;m?v=m.l:v=c.V++;const A=Te(c.J);Kt(A,"SID",c.M),Kt(A,"RID",v),Kt(A,"AID",c.K),Es(c,A),c.u&&c.o&&ys(A,c.u,c.o),v=new jn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=_u(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),So(c.h,v),si(v,A,m)}function Es(c,m){c.H&&zt(c.H,function(v,A){Kt(m,A,v)}),c.l&&zt({},function(v,A){Kt(m,A,v)})}function _u(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let St=-1;for(;;){const de=["count="+v];St==-1?v>0?(St=U[0].g,de.push("ofs="+St)):St=0:de.push("ofs="+St);let Ht=!0;for(let se=0;se<v;se++){var j=U[se].g;const Cn=U[se].map;if(j-=St,j<0)St=Math.max(0,U[se].g-100),Ht=!1;else try{j="req"+j+"_"||"";try{var nt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Kn]of nt){let Qn=Kn;p(Kn)&&(Qn=lr(Kn)),de.push(j+yi+"="+encodeURIComponent(Qn))}}catch(yi){throw de.push(j+"type="+encodeURIComponent("_badmap")),yi}}catch{A&&A(Cn)}}if(Ht){nt=de.join("&");break t}}nt=void 0}return c=c.i.splice(0,v),m.G=c,nt}function vu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;It||b(),wt||(It(),wt=!0),D.add(m,c),c.A=0}}function Ts(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ii(y(c.Da,c),Su(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ii(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),gr(this),Eu(this))};function xo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Eu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Te(c.na);Kt(m,"RID","rpc"),Kt(m,"SID",c.M),Kt(m,"AID",c.K),Kt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Kt(m,"TO",c.ia),Kt(m,"TYPE","xmlhttp"),Es(c,m),c.u&&c.o&&ys(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=ms(Te(m)),v.u=null,v.R=!0,ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,gr(this),Ts(this),_e(19))};function ca(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Tu(c,m){var v=null;if(c.g==m){ca(c),xo(c),c.g=null;var A=2}else if(ci(c.h,m))v=m.G,Ao(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=c.D;A=ta(),Oe(A,new ni(A,v)),pi(c)}else vu(c);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&ua(c,m)||A==2&&Ts(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),U){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function Su(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function gi(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const U=!A;A=new dn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ue(A,"https"),ms(A),U?qn(A.toString(),v):Do(A.toString(),v)}else _e(2);c.I=0,c.l&&c.l.pa(m),Au(c),la(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Au(c){if(c.I=0,c.ja=[],c.l){const m=bo(c.h);(m.length!=0||c.i.length!=0)&&(J(c.ja,m),J(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var A=v instanceof dn?Te(v):new dn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ur(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new dn(null);A&&Ue(j,A),m&&(j.g=m),U&&ur(j,U),v&&(j.h=v),A=j}return v=c.G,m=c.wa,v&&m&&Kt(A,v,m),Kt(A,"VER",c.ka),Es(c,A),A}function Ru(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xt(new fi({ab:v})):new Xt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function yr(){}yr.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){ye.call(this),this.g=new pr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Li(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Mo(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=lr(c),c=v);m.i.push(new Ee(m.Ya++,c)),m.I==3&&pi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,tn.Z.N.call(this)};function Cu(c){ze.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}S(Cu,ze);function Iu(){An.call(this),this.status=1}S(Iu,An);function Li(c){this.g=c}S(Li,wu),Li.prototype.ra=function(){Oe(this.g,"a")},Li.prototype.qa=function(c){Oe(this.g,new Cu(c))},Li.prototype.pa=function(c){Oe(this.g,new Iu)},Li.prototype.oa=function(){Oe(this.g,"b")},yr.prototype.createWebChannel=yr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,ET=function(){return new yr},vT=function(){return ta()},_T=fe,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fs.NO_ERROR=0,fs.TIMEOUT=8,fs.HTTP_ERROR=6,jc=fs,_o.COMPLETE="complete",yT=_o,au.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Sl=au,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,gT=Xt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let oo="12.8.0";function Dw(r){oo=r}const qs=new zm("@firebase/firestore");function ja(){return qs.logLevel}function at(r,...t){if(qs.logLevel<=Vt.DEBUG){const n=t.map(Hm);qs.debug(`Firestore (${oo}): ${r}`,...n)}}function nr(r,...t){if(qs.logLevel<=Vt.ERROR){const n=t.map(Hm);qs.error(`Firestore (${oo}): ${r}`,...n)}}function Za(r,...t){if(qs.logLevel<=Vt.WARN){const n=t.map(Hm);qs.warn(`Firestore (${oo}): ${r}`,...n)}}function Hm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,TT(r,s,n)}function TT(r,t,n){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||TT(t,o,s)}function Tt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class ST{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ow{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n($e.UNAUTHENTICATED)))}shutdown(){}}class Nw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Mw{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new ST(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class Vw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Vw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Lw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Sv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Uw(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class qm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Uw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function pm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return tm(o)===tm(u)?xt(o,u):tm(o)?1:-1}return xt(r.length,t.length)}const Pw=55296,kw=57343;function tm(r){const t=r.charCodeAt(0);return t>=Pw&&t<=kw}function Wa(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}const Av="__name__";class Si{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=Si.isNumericId(t),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(n)):pm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xr.fromString(t.substring(4,t.length-2))}}class oe extends Si{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new oe(n)}static emptyPath(){return new oe([])}}const zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Si{construct(t,n,s){return new Ke(t,n,s)}static isValidIdentifier(t){return zw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new Ke([Av])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(n)}static emptyPath(){return new Ke([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(oe.fromString(t))}static fromName(t){return new mt(oe.fromString(t).popFirst(5))}static empty(){return new mt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new oe(t.slice()))}}function Bw(r,t,n){if(!n)throw new ct(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function jw(r,t,n,s){if(t===!0&&s===!0)throw new ct(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function bv(r){if(!mt.isDocumentKey(r))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function Fs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fm(r);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function Ce(r,t){const n={typeString:r};return t&&(n.value=t),n}function Xl(r,t){if(!AT(r))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(W.INVALID_ARGUMENT,n);return!0}const Rv=-62135596800,wv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*wv);return new ne(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Rv)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ne(0,0))}static max(){return new vt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function Hw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new ne(n+1,0):new ne(n,s));return new Zr(o,mt.empty(),t)}function qw(r){return new Zr(r.readTime,r.key,Ll)}class Zr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Zr(vt.min(),mt.empty(),Ll)}static max(){return new Zr(vt.max(),mt.empty(),Ll)}}function Fw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}const Gw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==Gw)throw r;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Z.reject(n)}static resolve(t){return new Z(((n,s)=>{n(t)}))}static reject(t){return new Z(((n,s)=>{s(t)}))}static waitFor(t){return new Z(((n,s)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(t){let n=Z.resolve(!1);for(const s of t)n=n.next((o=>o?Z.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new Z(((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next((E=>{f[y]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new Z(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Qw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}class Sh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Sh.ce=-1;const Gm=-1;function Ah(r){return r==null}function th(r){return r===0&&1/r==-1/0}function Yw(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const bT="";function Xw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Cv(t)),t=$w(r.get(n),t);return Cv(t)}function $w(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case bT:n+="";break;default:n+=u}}return n}function Cv(r){return r+bT+""}function Iv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ss(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function RT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,n){this.comparator=t,this.root=n||Ge.EMPTY}insert(t,n){return new ue(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=u??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ge(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ge(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(t){return new Dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class Dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Tn([])}unionWith(t){let n=new xe(Ke.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}})(t);return new Qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new Qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=Jw.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ts(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const CT="server_timestamp",IT="__type__",DT="__previous_value__",OT="__local_write_time__";function Km(r){return(r?.mapValue?.fields||{})[IT]?.stringValue===CT}function bh(r){const t=r.mapValue.fields[DT];return Km(t)?bh(t):t}function Ul(r){const t=Wr(r.mapValue.fields[OT].timestampValue);return new ne(t.seconds,t.nanos)}class Zw{constructor(t,n,s,o,u,f,p,g,y,E,S){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=S}}const eh="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||eh}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}function Ww(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(r.options.projectId,t)}const NT="__type__",tC="__max__",Lc={mapValue:{}},MT="__vector__",nh="value";function es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Km(r)?4:nC(r)?9007199254740991:eC(r)?10:11:gt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const n=es(r);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),p=Wr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),p=ge(u.doubleValue);return f===p?th(f)===th(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return Wa(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Iv(f)!==Iv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Di(f[g],p[g])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((n=>Di(n,t)))!==void 0}function to(r,t){if(r===t)return 0;const n=es(r),s=es(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,t);case 3:return Ov(r.timestampValue,t.timestampValue);case 4:return Ov(Ul(r),Ul(t));case 5:return pm(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=ts(u),g=ts(f);return p.compareTo(g)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=xt(p[y],g[y]);if(E!==0)return E}return xt(p.length,g.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=xt(ge(u.latitude),ge(f.latitude));return p!==0?p:xt(ge(u.longitude),ge(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Nv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[nh]?.arrayValue,E=g[nh]?.arrayValue,S=xt(y?.values?.length||0,E?.values?.length||0);return S!==0?S:Nv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Lc.mapValue&&f===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const R=pm(g[S],E[S]);if(R!==0)return R;const P=to(p[g[S]],y[E[S]]);if(P!==0)return P}return xt(g.length,E.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function Ov(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Wr(r),s=Wr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Nv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=to(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function eo(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ts(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return mt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(n.fields[f])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Hc(r){switch(es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return ts(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Hc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ss(s.fields,((u,f)=>{o+=u.length+Hc(f)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function ym(r){return!!r&&"integerValue"in r}function Qm(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function Vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function eC(r){return(r?.mapValue?.fields||{})[NT]?.stringValue===MT}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ss(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Cl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Cl(r.arrayValue.values[n]);return t}return{...r}}function nC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!qc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(n)}setAll(t){let n=Ke.emptyPath(),s={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Cl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){ss(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new hn(Cl(this.value))}}function VT(r){const t=[];return ss(r.fields,((n,s)=>{const o=new Ke([n]);if(qc(s)){const u=VT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new Tn(t)}class Je{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),hn.empty(),0)}static newFoundDocument(t,n,s,o){return new Je(t,1,n,vt.min(),s,o,0)}static newNoDocument(t,n){return new Je(t,2,n,vt.min(),vt.min(),hn.empty(),0)}static newUnknownDocument(t,n){return new Je(t,3,n,vt.min(),vt.min(),hn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,n){this.position=t,this.inclusive=n}}function xv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(f.referenceValue),n.key):s=to(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],t.position[n]))return!1;return!0}class rh{constructor(t,n="asc"){this.field=t,this.dir=n}}function iC(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class xT{}class Me extends xT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new sC(t,n,s):n==="array-contains"?new lC(t,s):n==="in"?new uC(t,s):n==="not-in"?new cC(t,s):n==="array-contains-any"?new hC(t,s):new Me(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new aC(t,s):new oC(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(to(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends xT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Oi(t,n)}matches(t){return LT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(r){return r.op==="and"}function UT(r){return rC(r)&&LT(r)}function rC(r){for(const t of r.filters)if(t instanceof Oi)return!1;return!0}function _m(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+eo(r.value);if(UT(r))return r.filters.map((t=>_m(t))).join(",");{const t=r.filters.map((n=>_m(n))).join(",");return`${r.op}(${t})`}}function PT(r,t){return r instanceof Me?(function(s,o){return o instanceof Me&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)})(r,t):r instanceof Oi?(function(s,o){return o instanceof Oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&PT(f,o.filters[p])),!0):!1})(r,t):void gt(19439)}function kT(r){return r instanceof Me?(function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`})(r):r instanceof Oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"})(r):"Filter"}class sC extends Me{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class aC extends Me{constructor(t,n){super(t,"in",n),this.keys=zT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class oC extends Me{constructor(t,n){super(t,"not-in",n),this.keys=zT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function zT(r,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class lC extends Me{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Qm(n)&&kl(n.arrayValue,this.value)}}class uC extends Me{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class cC extends Me{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class hC extends Me{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}class fC{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function Uv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new fC(r,t,n,s,o,u,f)}function Ym(r){const t=Tt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>_m(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Ah(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>eo(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>eo(s))).join(",")),t.Te=n}return t.Te}function Xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!iC(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!PT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Lv(r.startAt,t.startAt)&&Lv(r.endAt,t.endAt)}function vm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Rh{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dC(r,t,n,s,o,u,f,p){return new Rh(r,t,n,s,o,u,f,p)}function $m(r){return new Rh(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function mC(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function pC(r){return r.collectionGroup!==null}function Il(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new xe(Ke.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new rh(u,s))})),n.has(Ke.keyField().canonicalString())||t.Ie.push(new rh(Ke.keyField(),s))}return t.Ie}function Ai(r){const t=Tt(r);return t.Ee||(t.Ee=gC(t,Il(r))),t.Ee}function gC(r,t){if(r.limitType==="F")return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rh(o.field,u)}));const n=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return Uv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Em(r,t,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function wh(r,t){return Xm(Ai(r),Ai(t))&&r.limitType===t.limitType}function BT(r){return`${Ym(Ai(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>kT(o))).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>eo(o))).join(",")),`Target(${s})`})(Ai(r))}; limitType=${r.limitType})`}function Ch(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Il(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=xv(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,Il(s),o)||s.endAt&&!(function(f,p,g){const y=xv(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,Il(s),o))})(r,t)}function yC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jT(r){return(t,n)=>{let s=!1;for(const o of Il(r)){const u=_C(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _C(r,t,n){const s=r.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?to(g,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class Xs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}const vC=new ue(mt.comparator);function ir(){return vC}const HT=new ue(mt.comparator);function Al(...r){let t=HT;for(const n of r)t=t.insert(n.key,n);return t}function qT(r){let t=HT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function zs(){return Dl()}function FT(){return Dl()}function Dl(){return new Xs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const EC=new ue(mt.comparator),TC=new xe(mt.comparator);function Lt(...r){let t=TC;for(const n of r)t=t.add(n);return t}const SC=new xe(xt);function AC(){return SC}function Jm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function GT(r){return{integerValue:""+r}}function bC(r,t){return Yw(t)?GT(t):Jm(r,t)}class Ih{constructor(){this._=void 0}}function RC(r,t,n){return r instanceof sh?(function(o,u){const f={fields:{[IT]:{stringValue:CT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Km(u)&&(u=bh(u)),u&&(f.fields[DT]=u),{mapValue:f}})(n,t):r instanceof zl?QT(r,t):r instanceof Bl?YT(r,t):(function(o,u){const f=KT(o,u),p=kv(f)+kv(o.Ae);return ym(f)&&ym(o.Ae)?GT(p):Jm(o.serializer,p)})(r,t)}function wC(r,t,n){return r instanceof zl?QT(r,t):r instanceof Bl?YT(r,t):n}function KT(r,t){return r instanceof ah?(function(s){return ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class sh extends Ih{}class zl extends Ih{constructor(t){super(),this.elements=t}}function QT(r,t){const n=XT(t);for(const s of r.elements)n.some((o=>Di(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Bl extends Ih{constructor(t){super(),this.elements=t}}function YT(r,t){let n=XT(t);for(const s of r.elements)n=n.filter((o=>!Di(o,s)));return{arrayValue:{values:n}}}class ah extends Ih{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kv(r){return ge(r.integerValue||r.doubleValue)}function XT(r){return Qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function CC(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof zl&&o instanceof zl||s instanceof Bl&&o instanceof Bl?Wa(s.elements,o.elements,Di):s instanceof ah&&o instanceof ah?Di(s.Ae,o.Ae):s instanceof sh&&o instanceof sh})(r.transform,t.transform)}class IC{constructor(t,n){this.version=t,this.transformResults=n}}class bi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dh{}function $T(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ZT(r.key,bi.none()):new $l(r.key,r.data,bi.none());{const n=r.data,s=hn.empty();let o=new xe(Ke.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(r.key,s,new Tn(o.toArray()),bi.none())}}function DC(r,t,n){r instanceof $l?(function(o,u,f){const p=o.value.clone(),g=Bv(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof as?(function(o,u,f){if(!Fc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Bv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(JT(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Ol(r,t,n,s){return r instanceof $l?(function(u,f,p,g){if(!Fc(u.precondition,f))return p;const y=u.value.clone(),E=jv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof as?(function(u,f,p,g){if(!Fc(u.precondition,f))return p;const y=jv(u.fieldTransforms,g,f),E=f.data;return E.setAll(JT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,t,n,s):(function(u,f,p){return Fc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function OC(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=KT(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function zv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Wa(s,o,((u,f)=>CC(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class $l extends Dh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends Dh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Bv(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,wC(f,p,n[o]))}return s}function jv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,RC(u,f,t))}return s}class ZT extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class MC{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&DC(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ol(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=FT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=$T(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(vt.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((n,s)=>zv(n,s)))&&Wa(this.baseMutations,t.baseMutations,((n,s)=>zv(n,s)))}}class Zm{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return EC})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Zm(t,n,s,o)}}class VC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xC{constructor(t,n){this.count=t,this.unchangedNames=n}}var we,kt;function LC(r){switch(r){case W.OK:return gt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function WT(r){if(r===void 0)return nr("GRPC error has no .code"),W.UNKNOWN;switch(r){case we.OK:return W.OK;case we.CANCELLED:return W.CANCELLED;case we.UNKNOWN:return W.UNKNOWN;case we.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case we.INTERNAL:return W.INTERNAL;case we.UNAVAILABLE:return W.UNAVAILABLE;case we.UNAUTHENTICATED:return W.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case we.NOT_FOUND:return W.NOT_FOUND;case we.ALREADY_EXISTS:return W.ALREADY_EXISTS;case we.PERMISSION_DENIED:return W.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case we.ABORTED:return W.ABORTED;case we.OUT_OF_RANGE:return W.OUT_OF_RANGE;case we.UNIMPLEMENTED:return W.UNIMPLEMENTED;case we.DATA_LOSS:return W.DATA_LOSS;default:return gt(39323,{code:r})}}(kt=we||(we={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";function UC(){return new TextEncoder}const PC=new Xr([4294967295,4294967295],0);function Hv(r){const t=UC().encode(r),n=new pT;return n.update(t),new Uint8Array(n.digest())}function qv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class Wm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Xr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Xr.fromNumber(s)));return o.compare(PC)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Hv(t),[s,o]=qv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Wm(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=Hv(t),[s,o]=qv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Oh(vt.min(),o,new ue(xt),ir(),Lt())}}class Jl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Jl(s,n,Lt(),Lt(),Lt())}}class Gc{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class t0{constructor(t,n){this.targetId=t,this.Ce=n}}class e0{constructor(t,n,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Fv{constructor(){this.ve=0,this.Fe=Gv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:u})}})),new Jl(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=Gv()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kC{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(xt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(vm(u))if(s===0){const f=new mt(u.path);this.et(n,f,Je.newNoDocument(f,vt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),g=p?this.ct(p,t,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=ts(s).toUint8Array()}catch(g){if(g instanceof wT)return Za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wm(f,o,u)}catch(g){return Za(g instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&vm(p.target)){const g=new mt(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Je.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new Oh(t,n,this.Ze,this.je,s);return this.je=ir(),this.He=Uc(),this.Je=Uc(),this.Ze=new ue(xt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new Fv,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new xe(xt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new xe(xt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||at("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Fv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uc(){return new ue(mt.comparator)}function Gv(){return new ue(mt.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class HC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Tm(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qC(r,t){return oh(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),vt.fromTimestamp((function(n){const s=Wr(n);return new ne(s.seconds,s.nanos)})(r))}function tp(r,t){return Sm(r,t).canonicalString()}function Sm(r,t){const n=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function i0(r){const t=oe.fromString(r);return Ft(l0(t),10190,{key:t.toString()}),t}function Am(r,t){return tp(r.databaseId,t.path)}function em(r,t){const n=i0(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new mt(s0(n))}function r0(r,t){return tp(r.databaseId,t)}function FC(r){const t=i0(r);return t.length===4?oe.emptyPath():s0(t)}function bm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Kv(r,t,n){return{name:Am(r,t),fields:n.value.mapValue.fields}}function GC(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:WT(y.code);return new ct(E,y.message||"")})(f);n=new e0(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=em(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):vt.min(),p=new hn({mapValue:{fields:s.document.fields}}),g=Je.newFoundDocument(o,u,f,p),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Gc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=em(r,s.document),u=s.readTime?Ri(s.readTime):vt.min(),f=Je.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Gc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=em(r,s.document),u=s.removedTargetIds||[];n=new Gc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xC(o,u),p=s.targetId;n=new t0(p,f)}}return n}function KC(r,t){let n;if(t instanceof $l)n={update:Kv(r,t.key,t.value)};else if(t instanceof ZT)n={delete:Am(r,t.key)};else if(t instanceof as)n={update:Kv(r,t.key,t.data),updateMask:eI(t.fieldMask)};else{if(!(t instanceof NC))return gt(16599,{dt:t.type});n={verify:Am(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function QC(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(vt.min())&&(f=Ri(u)),new IC(f,o.transformResults||[])})(n,t)))):[]}function YC(r,t){return{documents:[r0(r,t.path)]}}function XC(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r0(r,o);const u=(function(y){if(y.length!==0)return o0(Oi.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:qa(R.field),direction:ZC(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=Tm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function $C(r){let t=FC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const R=a0(S);return R instanceof Oi&&UT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((R=>(function(J){return new rh(Fa(J.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let R;return R=typeof S=="object"?S.value:S,Ah(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(S){const R=!!S.before,P=S.values||[];return new ih(P,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(S){const R=!S.before,P=S.values||[];return new ih(P,R)})(n.endAt)),dC(t,o,f,u,p,"F",g,y)}function JC(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function a0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Me.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Me.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Me.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Me.create(Fa(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Oi.create(n.compositeFilter.filters.map((s=>a0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function ZC(r){return zC[r]}function WC(r){return BC[r]}function tI(r){return jC[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Ke.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof Me?(function(n){if(n.op==="=="){if(Vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(Mv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(Mv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:WC(n.op),value:n.value}}})(r):r instanceof Oi?(function(n){const s=n.getFilters().map((o=>o0(o)));return s.length===1?s[0]:{compositeFilter:{op:tI(n.op),filters:s}}})(r):gt(54877,{filter:r})}function eI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function l0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function u0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Gr{constructor(t,n,s,o,u=vt.min(),f=vt.min(),p=Qe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Gr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class nI{constructor(t){this.yt=t}}function iI(r){const t=$C({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(t,t.limit,"L"):t}class rI{constructor(){this.Sn=new sI}addToCollectionParentIndex(t,n){return this.Sn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Zr.min())}updateCollectionGroup(t,n,s){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class sI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new xe(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new xe(oe.comparator)).toArray()}}const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(c0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class no{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new no(0)}static ar(){return new no(-1)}}const Yv="LruGarbageCollector",aI=1048576;function Xv([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class oI{constructor(t){this.Pr=t,this.buffer=new xe(Xv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Xv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Yv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?at(Yv,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Ar(3e5)}))}}class uI{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return Z.resolve(Sh.ce);const s=new oI(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Qv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,f,p,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(s=S,p=Date.now(),this.removeTargets(t,s,n)))).next((S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(t,s)))).next((S=>(y=Date.now(),ja()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function cI(r,t){return new uI(r,t)}class hI{constructor(){this.changes=new Xs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class dI{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Ol(s.mutation,o,Tn.empty(),ne.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const o=zs();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Al();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=zs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,o){let u=ir();const f=Dl(),p=(function(){return Dl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ol(E.mutation,y,E.mutation.getFieldMask(),ne.now())):f.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>p.set(y,new fI(E,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Dl();let o=new ue(((f,p)=>f-p)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Tn.empty();E=p.applyToLocalView(y,E),s.set(g,E);const S=(o.get(p.batchId)||Lt()).add(g);o=o.insert(p.batchId,S)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,S=FT();E.forEach((R=>{if(!u.has(R)){const P=$T(n.get(R),s.get(R));P!==null&&S.set(R,P),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return mC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):pC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):Z.resolve(zs());let p=Ll,g=u;return f.next((y=>Z.forEach(y,((E,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,g,y,Lt()))).next((E=>({batchId:p,changes:qT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Al();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Al();return this.indexManager.getCollectionParents(t,u).next((p=>Z.forEach(p,(g=>{const y=(function(S,R){return new Rh(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((S,R)=>{f=f.insert(S,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Je.newInvalidDocument(E)))}));let p=Al();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Ol(E.mutation,y,Tn.empty(),ne.now()),Ch(n,y)&&(p=p.insert(g,y))})),p}))}}class mI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return Z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(n)),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:iI(o.bundledQuery),readTime:Ri(o.readTime)}})(n)),Z.resolve()}}class pI{constructor(){this.overlays=new ue(mt.comparator),this.Lr=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const s=zs();return Z.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),Z.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),Z.resolve()}getOverlaysForCollection(t,n,s){const o=zs(),u=n.length+1,f=new mt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ue(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=zs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>p.set(y,E))),!(p.size()>=o)););return Z.resolve(p)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new VC(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class gI{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Z.resolve()}}class ep{constructor(){this.kr=new xe(ke.Kr),this.qr=new xe(ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new ke(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new ke(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new oe([])),s=new ke(n,t),o=new ke(n,t+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new oe([])),s=new ke(n,t),o=new ke(n,t+1);let u=Lt();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new ke(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class ke{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||xt(t.Hr,n.Hr)}static Ur(t,n){return xt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class yI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xe(ke.Kr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new MC(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Jr=this.Jr.add(new ke(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,n){return Z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new ke(n,0),o=new ke(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const p=this.Zr(f.Hr);u.push(p)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(xt);return n.forEach((o=>{const u=new ke(o,0),f=new ke(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(p=>{s=s.add(p.Hr)}))})),Z.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const f=new ke(new mt(u),0);let p=new xe(xt);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),f),Z.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return Z.forEach(n.mutations,(o=>{const u=new ke(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new ke(n,0),o=this.Jr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _I{constructor(t){this.ti=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(t,n){let s=ir();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Je.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ir();const f=n.path,p=new mt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Fw(qw(E),s)<=0||(o.has(E.key)||Ch(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(t,n,s,o){gt(9500)}ni(t,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new vI(this)}getSize(t){return Z.resolve(this.size)}}class vI extends hI{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),Z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class EI{constructor(t){this.persistence=t,this.ri=new Xs((n=>Ym(n)),Xm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new ep,this.targetCount=0,this.oi=no._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),Z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new no(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.lr(n),Z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(u).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return Z.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),Z.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),Z.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return Z.resolve(s)}containsKey(t,n){return Z.resolve(this.si.containsKey(n))}}class h0{constructor(t,n){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new gI,this.referenceDelegate=t(this),this.li=new EI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(o){return new _I(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new nI(n),this.Pi=new mI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new pI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new yI(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){at("MemoryPersistence","Starting transaction:",t);const o=new TI(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return Z.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class TI extends Kw{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Ri=new ep,this.Ai=null}static Vi(t){return new np(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),Z.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,(s=>{const o=mt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,vt.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class lh{constructor(t,n){this.persistence=t,this.fi=new Xs((s=>Xw(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cI(this,n)}static Vi(t,n){return new lh(t,n)}Ti(){}Ii(t){return Z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return Z.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?Z.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(f=>this.wr(t,f,n).next((p=>{p||(s++,u.removeEntry(f,vt.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),Z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}wr(t,n,s){return Z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ip{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ip(t,n.fromCache,s,o)}}class SI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class AI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return uR()?8:Qw(Ze())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new SI;return this.ys(t,n,f).next((p=>{if(u.result=p,this.As)return this.ws(t,n,f,p.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(ja()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Z.resolve()):(ja()<=Vt.DEBUG&&at("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(ja()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(n))):Z.resolve())}gs(t,n){if(Pv(n))return Z.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Lt(...u);return this.fs.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,f,g.readTime)?this.gs(t,Em(n,null,"F")):this.Ds(t,y,n,g)}))))})))))}ps(t,n,s,o){return Pv(n)||o.isEqual(vt.min())?Z.resolve(null):this.fs.getDocuments(t,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?Z.resolve(null):(ja()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Ds(t,f,n,Hw(o,Ll)).next((p=>p)))}))}bs(t,n){let s=new xe(jT(t));return n.forEach(((o,u)=>{Ch(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return ja()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.fs.getDocumentsMatchingQuery(t,n,Zr.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const rp="LocalStore",bI=3e8;class RI{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ue(xt),this.Fs=new Xs((u=>Ym(u)),Xm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function wI(r,t,n,s){return new RI(r,t,n,s)}async function f0(r,t){const n=Tt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=Lt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function CI(r,t){const n=Tt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,E){const S=y.batch,R=S.keys();let P=Z.resolve();return R.forEach((J=>{P=P.next((()=>E.getEntry(g,J))).next((X=>{const F=y.docVersions.get(J);Ft(F!==null,48541),X.version.compareTo(F)<0&&(S.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=Lt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function d0(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function II(r,t){const n=Tt(r),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];t.targetChanges.forEach(((E,S)=>{const R=o.get(S);if(!R)return;p.push(n.li.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,S))));let P=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(S,P),(function(X,F,et){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=bI?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(R,P,E)&&p.push(n.li.updateTargetData(u,P))}));let g=ir(),y=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(DI(u,f,t.documentUpdates).next((E=>{g=E.Bs,y=E.Ls}))),!s.isEqual(vt.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((S=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return Z.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.vs=o,u)))}function DI(r,t,n){let s=Lt(),o=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=ir();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(p,g)):at(rp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function OI(r,t){const n=Tt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Gm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function NI(r,t){const n=Tt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,Z.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new Gr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Rm(r,t,n){const s=Tt(r),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!uo(f))throw f;at(rp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function $v(r,t,n){const s=Tt(r);let o=vt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const S=Tt(g),R=S.Fs.get(E);return R!==void 0?Z.resolve(S.vs.get(R)):S.li.getTargetData(y,E)})(s,f,Ai(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:vt.min(),n?u:Lt()))).next((p=>(MI(s,yC(t),p),{documents:p,ks:u})))))}function MI(r,t,n){let s=r.Ms.get(t)||vt.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class Jv{constructor(){this.activeTargetIds=AC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class VI{constructor(){this.vo=new Jv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Jv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class xI{Mo(t){}shutdown(){}}const Zv="ConnectivityMonitor";class Wv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Zv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function wm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const nm="RestConnection",LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class UI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=wm(),p=this.Qo(t,n.toUriEncodedString());at(nm,`Sending RPC '${t}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,u);const{host:y}=new URL(p),E=so(y);return this.zo(t,p,g,s,E).then((S=>(at(nm,`Received RPC '${t}' ${f}: `,S),S)),(S=>{throw Za(nm,`RPC '${t}' ${f} failed with error: `,S,"url: ",p,"request:",s),S}))}jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=LI[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class PI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",El=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ka extends UI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ka.c_){const t=vT();El(t,_T.STAT_EVENT,(n=>{n.stat===mm.PROXY?at(Xe,"STAT_EVENT: detected buffering proxy"):n.stat===mm.NOPROXY&&at(Xe,"STAT_EVENT: detected no buffering proxy")})),Ka.c_=!0}}zo(t,n,s,o,u){const f=wm();return new Promise(((p,g)=>{const y=new gT;y.setWithCredentials(!0),y.listenOnce(yT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();at(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(S)),p(S);break;case jc.TIMEOUT:at(Xe,`RPC '${t}' ${f} timed out`),g(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const R=y.getStatus();if(at(Xe,`RPC '${t}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const J=P?.error;if(J&&J.status&&J.message){const X=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(tt)>=0?tt:W.UNKNOWN})(J.status);g(new ct(X,J.message))}else g(new ct(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(W.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);at(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=wm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");at(Xe,`Creating RPC '${t}' stream ${o}: ${y}`,p);const E=f.createWebChannel(y,p);this.I_(E);let S=!1,R=!1;const P=new PI({Ho:J=>{R?at(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(S||(at(Xe,`Opening RPC '${t}' stream ${o} transport.`),E.open(),S=!0),at(Xe,`RPC '${t}' stream ${o} sending:`,J),E.send(J))},Jo:()=>E.close()});return El(E,Sl.EventType.OPEN,(()=>{R||(at(Xe,`RPC '${t}' stream ${o} transport opened.`),P.i_())})),El(E,Sl.EventType.CLOSE,(()=>{R||(R=!0,at(Xe,`RPC '${t}' stream ${o} transport closed`),P.o_(),this.E_(E))})),El(E,Sl.EventType.ERROR,(J=>{R||(R=!0,Za(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),P.o_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),El(E,Sl.EventType.MESSAGE,(J=>{if(!R){const X=J.data[0];Ft(!!X,16349);const F=X,et=F?.error||F[0]?.error;if(et){at(Xe,`RPC '${t}' stream ${o} received error:`,et);const tt=et.status;let it=(function(wt){const D=we[wt];if(D!==void 0)return WT(D)})(tt),Ct=et.message;it===void 0&&(it=W.INTERNAL,Ct="Unknown error status: "+tt+" with message "+et.message),R=!0,P.o_(new ct(it,Ct)),E.close()}else at(Xe,`RPC '${t}' stream ${o} received:`,X),P.__(X)}})),Ka.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ET()}}function kI(r){return new Ka(r)}function im(){return typeof document<"u"?document:null}function Nh(r){return new HC(r,!0)}Ka.c_=!1;class m0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const tE="PersistentStream";class p0{constructor(t,n,s,o,u,f,p,g){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new m0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(tE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(at(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zI extends p0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=GC(this.serializer,t),s=(function(u){if(!("targetChange"in u))return vt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?vt.min():f.readTime?Ri(f.readTime):vt.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=bm(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=vm(g)?{documents:YC(u,g)}:{query:XC(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=n0(u,f.resumeToken);const y=Tm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(vt.min())>0){p.readTime=oh(u,f.snapshotVersion.toTimestamp());const y=Tm(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=JC(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=bm(this.serializer),n.removeTarget=t,this.K_(n)}}class BI extends p0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=QC(t.writeResults,t.commitTime),s=Ri(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=bm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>KC(this.serializer,s)))};this.K_(n)}}class jI{}class HI extends jI{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(t,Sm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(W.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.jo(t,Sm(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ct(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qI(r,t,n,s){return new HI(r,t,n,s)}class FI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):at("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class GI{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{$s(this)&&(at(Gs,"Restarting streams for network reachability change."),await(async function(g){const y=Tt(g);y.Ea.add(4),await Zl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Mh(y)})(this))}))})),this.Va=new FI(s,o)}}async function Mh(r){if($s(r))for(const t of r.Ra)await t(!0)}async function Zl(r){for(const t of r.Ra)await t(!1)}function g0(r,t){const n=Tt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),lp(n)?op(n):co(n).O_()&&ap(n,t))}function sp(r,t){const n=Tt(r),s=co(n);n.Ia.delete(t),s.O_()&&y0(n,t),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Va.set("Unknown"))}function ap(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}co(r).Z_(t)}function y0(r,t){r.da.$e(t),co(r).X_(t)}function op(r){r.da=new kC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Va.ua()}function lp(r){return $s(r)&&!co(r).x_()&&r.Ia.size>0}function $s(r){return Tt(r).Ea.size===0}function _0(r){r.da=void 0}async function KI(r){r.Va.set("Online")}async function QI(r){r.Ia.forEach(((t,n)=>{ap(r,t)}))}async function YI(r,t){_0(r),lp(r)?(r.Va.ha(t),op(r)):r.Va.set("Unknown")}async function XI(r,t,n){if(r.Va.set("Online"),t instanceof e0&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.da.removeTarget(p))})(r,t)}catch(s){at(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await uh(r,s)}else if(t instanceof Gc?r.da.Xe(t):t instanceof t0?r.da.st(t):r.da.tt(t),!n.isEqual(vt.min()))try{const s=await d0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.da.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),y0(u,g);const S=new Gr(E.target,g,y,E.sequenceNumber);ap(u,S)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){at(Gs,"Failed to raise snapshot:",s),await uh(r,s)}}async function uh(r,t,n){if(!uo(t))throw t;r.Ea.add(1),await Zl(r),r.Va.set("Offline"),n||(n=()=>d0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Gs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Mh(r)}))}function v0(r,t){return t().catch((n=>uh(r,n,t)))}async function Vh(r){const t=Tt(r),n=ns(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gm;for(;$I(t);)try{const o=await OI(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,JI(t,o)}catch(o){await uh(t,o)}E0(t)&&T0(t)}function $I(r){return $s(r)&&r.Ta.length<10}function JI(r,t){r.Ta.push(t);const n=ns(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function E0(r){return $s(r)&&!ns(r).x_()&&r.Ta.length>0}function T0(r){ns(r).start()}async function ZI(r){ns(r).ra()}async function WI(r){const t=ns(r);for(const n of r.Ta)t.ea(n.mutations)}async function t2(r,t,n){const s=r.Ta.shift(),o=Zm.from(s,t,n);await v0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function e2(r,t){t&&ns(r).Y_&&await(async function(s,o){if((function(f){return LC(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ns(s).B_(),await v0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Vh(s)}})(r,t),E0(r)&&T0(r)}async function eE(r,t){const n=Tt(r);n.asyncQueue.verifyOperationInProgress(),at(Gs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await Zl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Mh(n)}async function n2(r,t){const n=Tt(r);t?(n.Ea.delete(2),await Mh(n)):t||(n.Ea.add(2),await Zl(n),n.Va.set("Unknown"))}function co(r){return r.ma||(r.ma=(function(n,s,o){const u=Tt(n);return u.sa(),new zI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:KI.bind(null,r),Yo:QI.bind(null,r),t_:YI.bind(null,r),J_:XI.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),lp(r)?op(r):r.Va.set("Unknown")):(await r.ma.stop(),_0(r))}))),r.ma}function ns(r){return r.fa||(r.fa=(function(n,s,o){const u=Tt(n);return u.sa(),new BI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZI.bind(null,r),t_:e2.bind(null,r),ta:WI.bind(null,r),na:t2.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class up{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new up(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(r,t){if(nr("AsyncQueue",`${t}: ${r}`),uo(r))return new ct(W.UNAVAILABLE,`${t}: ${r}`);throw r}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Al(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class nE{constructor(){this.ga=new ue(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class io{constructor(t,n,s,o,u,f,p,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new io(t,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class i2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class r2{constructor(){this.queries=iE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Tt(n),u=o.queries;o.queries=iE(),u.forEach(((f,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function iE(){return new Xs((r=>BT(r)),wh)}async function s2(r,t){const n=Tt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new i2,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=cp(f,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&hp(n)}async function a2(r,t){const n=Tt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(t);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function o2(r,t){const n=Tt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.ba)p.Fa(o)&&(s=!0);f.wa=o}}s&&hp(n)}function l2(r,t,n){const s=Tt(r),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function hp(r){r.Ca.forEach((t=>{t.next()}))}var Cm,rE;(rE=Cm||(Cm={})).Ma="default",rE.Cache="cache";class u2{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new io(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=io.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cm.Cache}}class S0{constructor(t){this.key=t}}class A0{constructor(t){this.key=t}}class c2{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=jT(t),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new nE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,S)=>{const R=o.get(E),P=Ch(this.query,S)?S:null,J=!!R&&this.mutatedKeys.has(R.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;R&&P?R.data.isEqual(P.data)?J!==X&&(s.track({type:3,doc:P}),F=!0):this.su(R,P)||(s.track({type:2,doc:P}),F=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(p=!0)):!R&&P?(s.track({type:0,doc:P}),F=!0):R&&!P&&(s.track({type:1,doc:R}),F=!0,(g||y)&&(p=!0)),F&&(P?(f=f.add(P),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,S)=>(function(P,J){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:F})}};return X(P)-X(J)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new io(this.query,t.tu,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new A0(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new S0(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fp="SyncEngine";class h2{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class f2{constructor(t){this.key=t,this.hu=!1}}class d2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Xs((p=>BT(p)),wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new ue(mt.comparator),this.Au=new Map,this.Vu=new ep,this.du={},this.mu=new Map,this.fu=no.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m2(r,t,n=!0){const s=D0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await b0(s,t,n,!0),o}async function p2(r,t){const n=D0(r);await b0(n,t,!0,!1)}async function b0(r,t,n,s){const o=await NI(r.localStore,Ai(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await g2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&g0(r.remoteStore,o),p}async function g2(r,t,n,s,o){r.pu=(S,R,P)=>(async function(X,F,et,tt){let it=F.view.ru(et);it.Ss&&(it=await $v(X.localStore,F.query,!1).then((({documents:D})=>F.view.ru(D,it))));const Ct=tt&&tt.targetChanges.get(F.targetId),It=tt&&tt.targetMismatches.get(F.targetId)!=null,wt=F.view.applyChanges(it,X.isPrimaryClient,Ct,It);return aE(X,F.targetId,wt.au),wt.snapshot})(r,S,R,P);const u=await $v(r.localStore,t,!0),f=new c2(t,u.ks),p=f.ru(u.documents),g=Jl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);aE(r,n,y.au);const E=new h2(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function y2(r,t,n){const s=Tt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!wh(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&sp(s.remoteStore,o.targetId),Im(s,o.targetId)})).catch(lo)):(Im(s,o.targetId),await Rm(s.localStore,o.targetId,!0))}async function _2(r,t){const n=Tt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sp(n.remoteStore,s.targetId))}async function v2(r,t,n){const s=w2(r);try{const o=await(function(f,p){const g=Tt(f),y=ne.now(),E=p.reduce(((P,J)=>P.add(J.key)),Lt());let S,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let J=ir(),X=Lt();return g.xs.getEntries(P,E).next((F=>{J=F,J.forEach(((et,tt)=>{tt.isValidDocument()||(X=X.add(et))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,J))).next((F=>{S=F;const et=[];for(const tt of p){const it=OC(tt,S.get(tt.key).overlayedDocument);it!=null&&et.push(new as(tt.key,it,VT(it.value.mapValue),bi.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,et,p)})).next((F=>{R=F;const et=F.applyToLocalDocumentSet(S,X);return g.documentOverlayCache.saveOverlays(P,F.batchId,et)}))})).then((()=>({batchId:R.batchId,changes:qT(S)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.du[f.currentUser.toKey()];y||(y=new ue(xt)),y=y.insert(p,g),f.du[f.currentUser.toKey()]=y})(s,o.batchId,n),await Wl(s,o.changes),await Vh(s.remoteStore)}catch(o){const u=cp(o,"Failed to persist write");n.reject(u)}}async function R0(r,t){const n=Tt(r);try{const s=await II(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await Wl(n,s,t)}catch(s){await lo(s)}}function sE(r,t,n){const s=Tt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Tt(f);g.onlineState=p;let y=!1;g.queries.forEach(((E,S)=>{for(const R of S.ba)R.va(p)&&(y=!0)})),y&&hp(g)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function E2(r,t,n){const s=Tt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new ue(mt.comparator);f=f.insert(u,Je.newNoDocument(u,vt.min()));const p=Lt().add(u),g=new Oh(vt.min(),new Map,new ue(xt),f,p);await R0(s,g),s.Ru=s.Ru.remove(u),s.Au.delete(t),dp(s)}else await Rm(s.localStore,t,!1).then((()=>Im(s,t,n))).catch(lo)}async function T2(r,t){const n=Tt(r),s=t.batch.batchId;try{const o=await CI(n.localStore,t);C0(n,s,null),w0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(n,o)}catch(o){await lo(o)}}async function S2(r,t,n){const s=Tt(r);try{const o=await(function(f,p){const g=Tt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ft(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);C0(s,t,n),w0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Wl(s,o)}catch(o){await lo(o)}}function w0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function C0(r,t,n){const s=Tt(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function Im(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||I0(r,s)}))}function I0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(sp(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),dp(r))}function aE(r,t,n){for(const s of n)s instanceof S0?(r.Vu.addReference(s.key,t),A2(r,s)):s instanceof A0?(at(fp,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||I0(r,s.key)):gt(19791,{wu:s})}function A2(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(at(fp,"New document in limbo: "+n),r.Eu.add(s),dp(r))}function dp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new mt(oe.fromString(t)),s=r.fu.next();r.Au.set(s,new f2(n)),r.Ru=r.Ru.insert(n,s),g0(r.remoteStore,new Gr(Ai($m(n.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function Wl(r,t,n){const s=Tt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=ip.Es(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(g,y){const E=Tt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(y,(R=>Z.forEach(R.Ts,(P=>E.persistence.referenceDelegate.addReference(S,R.targetId,P))).next((()=>Z.forEach(R.Is,(P=>E.persistence.referenceDelegate.removeReference(S,R.targetId,P)))))))))}catch(S){if(!uo(S))throw S;at(rp,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const P=E.vs.get(R),J=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(J);E.vs=E.vs.insert(R,X)}}})(s.localStore,u))}async function b2(r,t){const n=Tt(r);if(!n.currentUser.isEqual(t)){at(fp,"User change. New user:",t.toKey());const s=await f0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ct(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Wl(n,s.Ns)}}function R2(r,t){const n=Tt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function D0(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=R0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E2.bind(null,t),t.Pu.J_=o2.bind(null,t.eventManager),t.Pu.yu=l2.bind(null,t.eventManager),t}function w2(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return wI(this.persistence,new AI,t.initialUser,this.serializer)}Cu(t){return new h0(np.Vi,this.serializer)}Du(t){return new VI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class C2 extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lI(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new h0((s=>lh.Vi(s,n)),this.serializer)}}class Dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new r2})()}createDatastore(t){const n=Nh(t.databaseInfo.databaseId),s=kI(t.databaseInfo);return qI(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,p){return new GI(s,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>sE(this.syncEngine,n,0)),(function(){return Wv.v()?new Wv:new xI})())}createSyncEngine(t,n){return(function(o,u,f,p,g,y,E){const S=new d2(o,u,f,p,g,y);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Tt(n);at(Gs,"RemoteStore shutting down."),s.Ea.add(5),await Zl(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dm.provider={build:()=>new Dm};class I2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const is="FirestoreClient";class D2{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{at(is,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(at(is,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=cp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),at(is,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await f0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function oE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await O2(r);at(is,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>eE(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>eE(t.remoteStore,o))),r._onlineComponents=t}async function O2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(is,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await rm(r,new ch)}}else at(is,"Using default OfflineComponentProvider"),await rm(r,new C2(void 0));return r._offlineComponents}async function O0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(is,"Using user provided OnlineComponentProvider"),await oE(r,r._uninitializedComponentsProvider._online)):(at(is,"Using default OnlineComponentProvider"),await oE(r,new Dm))),r._onlineComponents}function N2(r){return O0(r).then((t=>t.syncEngine))}async function M2(r){const t=await O0(r),n=t.eventManager;return n.onListen=m2.bind(null,t.syncEngine),n.onUnlisten=y2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=p2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=_2.bind(null,t.syncEngine),n}function V2(r,t,n={}){const s=new $r;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const E=new I2({next:R=>{E.Nu(),f.enqueueAndForget((()=>a2(u,S)));const P=R.docs.has(p);!P&&R.fromCache?y.reject(new ct(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&R.fromCache&&g&&g.source==="server"?y.reject(new ct(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new u2($m(p.path),E,{includeMetadataChanges:!0,Ka:!0});return s2(u,S)})(await M2(r),r.asyncQueue,t,n,s))),s.promise}function x2(r,t){const n=new $r;return r.asyncQueue.enqueueAndForget((async()=>v2(await N2(r),t,n))),n.promise}function N0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const L2="ComponentProvider",lE=new Map;function U2(r,t,n,s,o){return new Zw(r,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,N0(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const M0="firestore.googleapis.com",uE=!0;class cE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M0,this.ssl=uE}else this.host=t.host,this.ssl=t.ssl??uE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aI)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ow;switch(s.type){case"firstParty":return new xw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lE.get(n);s&&(at(L2,"Removing Datastore"),lE.delete(n),s.terminate())})(this),Promise.resolve()}}function P2(r,t,n,s={}){r=Fs(r,mp);const o=so(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(oT(`https://${p}`),lT("Firestore",!0)),u.host!==M0&&u.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!js(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=$e.MOCK_USER;else{y=tR(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $e(S)}r._authCredentials=new Nw(new ST(y,E))}}class pp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new pp(this.firestore,t,this._query)}}class Ve{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xl(n,Ve._jsonSchema))return new Ve(t,s||null,new mt(oe.fromString(n.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Ce("string",Ve._jsonSchemaVersion),referencePath:Ce("string")};class jl extends pp{constructor(t,n,s){super(t,n,$m(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new mt(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function V0(r,t,...n){if(r=Sn(r),arguments.length===1&&(t=qm.newId()),Bw("doc","path",t),r instanceof mp){const s=oe.fromString(t,...n);return bv(s),new Ve(r,null,new mt(s))}{if(!(r instanceof Ve||r instanceof jl))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return bv(s),new Ve(r.firestore,r instanceof jl?r.converter:null,new mt(s))}}const hE="AsyncQueue";class fE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new m0(this,"async_queue_retry"),this._c=()=>{const s=im();s&&at(hE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;at(hE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",dE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=up.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:dE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function dE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class xh extends mp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fE(t),this._firestoreClient=void 0,await t}}}function k2(r,t){const n=typeof r=="object"?r:fT(),s=typeof r=="string"?r:eh,o=jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Zb("firestore");u&&P2(o,...u)}return o}function x0(r){if(r._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||z2(r),r._firestoreClient}function z2(r){const t=r._freezeSettings(),n=U2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new D2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(n){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class gp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yp{constructor(t){this._methodName=t}}class wi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Xl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Wn{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Wn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xl(t,Wn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Wn(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wn._jsonSchemaVersion="firestore/vectorValue/1.0",Wn._jsonSchema={type:Ce("string",Wn._jsonSchemaVersion),vectorValues:Ce("object")};const B2=/^__.*__$/;class j2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,n,this.fieldTransforms):new $l(t,this.data,n,this.fieldTransforms)}}class L0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new as(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function U0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class _p{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new _p({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return hh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(U0(this.dataSource)&&B2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class H2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Nh(t)}createContext(t,n,s,o=!1){return new _p({dataSource:t,methodName:n,targetDoc:s,path:Ke.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P0(r){const t=r._freezeSettings(),n=Nh(r._databaseId);return new H2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function q2(r,t,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,t,n,o);vp("Data must be an object, but it was:",f,s);const p=k0(s,f);let g,y;if(u.merge)g=new Tn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=Hl(t,S,n);if(!f.contains(R))throw new ct(W.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);j0(E,R)||E.push(R)}g=new Tn(E),y=f.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,y=f.fieldTransforms;return new j2(new hn(p),g,y)}class Lh extends yp{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Lh}}function F2(r,t,n,s){const o=r.createContext(1,t,n);vp("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();ss(s,((g,y)=>{const E=B0(t,g,n);y=Sn(y);const S=o.childContextForFieldPath(E);if(y instanceof Lh)u.push(E);else{const R=Uh(y,S);R!=null&&(u.push(E),f.set(E,R))}}));const p=new Tn(u);return new L0(f,p,o.fieldTransforms)}function G2(r,t,n,s,o,u){const f=r.createContext(1,t,n),p=[Hl(t,s,n)],g=[o];if(u.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(Hl(t,u[R])),g.push(u[R+1]);const y=[],E=hn.empty();for(let R=p.length-1;R>=0;--R)if(!j0(y,p[R])){const P=p[R];let J=g[R];J=Sn(J);const X=f.childContextForFieldPath(P);if(J instanceof Lh)y.push(P);else{const F=Uh(J,X);F!=null&&(y.push(P),E.set(P,F))}}const S=new Tn(y);return new L0(E,S,f.fieldTransforms)}function Uh(r,t){if(z0(r=Sn(r)))return vp("Unsupported field value:",t,r),k0(r,t);if(r instanceof yp)return(function(s,o){if(!U0(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=Uh(p,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=Sn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ne.fromDate(s);return{timestampValue:oh(o.serializer,u)}}if(s instanceof ne){const u=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:oh(o.serializer,u)}}if(s instanceof wi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:n0(o.serializer,s._byteString)};if(s instanceof Ve){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wn)return(function(f,p){const g=f instanceof Wn?f.toArray():f;return{mapValue:{fields:{[NT]:{stringValue:MT},[nh]:{arrayValue:{values:g.map((E=>{if(typeof E!="number")throw p.createError("VectorValues must only contain numeric values.");return Jm(p.serializer,E)}))}}}}}})(s,o);if(u0(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Fm(s)}`)})(r,t)}function k0(r,t){const n={};return RT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(r,((s,o)=>{const u=Uh(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function z0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof Un||r instanceof Ve||r instanceof yp||r instanceof Wn||u0(r))}function vp(r,t,n){if(!z0(n)||!AT(n)){const s=Fm(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Hl(r,t,n){if((t=Sn(t))instanceof gp)return t._internalPath;if(typeof t=="string")return B0(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const K2=new RegExp("[~\\*/\\[\\]]");function B0(r,t,n){if(t.search(K2)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gp(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function hh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ct(W.INVALID_ARGUMENT,p+r+g)}function j0(r,t){return r.some((n=>n.isEqual(t)))}class Q2{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ss(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[nh].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new Wn(n)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=bh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const n=Wr(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);Ft(l0(s),9688,{name:t});const o=new Pl(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Y2 extends Q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}const mE="@firebase/firestore",pE="4.10.0";class H0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new X2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Hl("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X2 extends H0{data(){return super.data()}}function $2(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Rl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends H0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Hl("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:Ce("string",Bs._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Kc extends Bs{data(t={}){return super.data(t)}}class Nl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Kc(this._firestore,this._userDataWriter,s.key,s,new Rl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Rl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:J2(p.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function J2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Ce("string",Nl._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};function Z2(r){r=Fs(r,Ve);const t=Fs(r.firestore,xh),n=x0(t);return V2(n,r._key).then((s=>eD(t,r,s)))}function W2(r,t,n){r=Fs(r,Ve);const s=Fs(r.firestore,xh),o=$2(r.converter,t),u=P0(s);return q0(s,[q2(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,bi.none())])}function tD(r,t,n,...s){r=Fs(r,Ve);const o=Fs(r.firestore,xh),u=P0(o);let f;return f=typeof(t=Sn(t))=="string"||t instanceof gp?G2(u,"updateDoc",r._key,t,n,s):F2(u,"updateDoc",r._key,t),q0(o,[f.toMutation(r._key,bi.exists(!0))])}function q0(r,t){const n=x0(r);return x2(n,t)}function eD(r,t,n){const s=n.docs.get(t._key),o=new Y2(r);return new Bs(r,o,t._key,s,new Rl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){Dw(ao),Ja(new Hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new xh(new Mw(s.getProvider("auth-internal")),new Lw(f,s.getProvider("app-check-internal")),Ww(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Yr(mE,pE,t),Yr(mE,pE,"esm2020")})();function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=F0,G0=new Ql("auth","Firebase",F0());const fh=new zm("@firebase/auth");function iD(r,...t){fh.logLevel<=Vt.WARN&&fh.warn(`Auth (${ao}): ${r}`,...t)}function Qc(r,...t){fh.logLevel<=Vt.ERROR&&fh.error(`Auth (${ao}): ${r}`,...t)}function rr(r,...t){throw Ep(r,...t)}function Ci(r,...t){return Ep(r,...t)}function K0(r,t,n){const s={...nD(),[t]:n};return new Ql("auth","Firebase",s).create(t,{appName:r.name})}function Jr(r){return K0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return G0.create(r,...t)}function yt(r,t,...n){if(!r)throw Ep(t,...n)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Qc(t),new Error(t)}function sr(r,t){r||Ji(t)}function Om(){return typeof self<"u"&&self.location?.href||""}function rD(){return gE()==="http:"||gE()==="https:"}function gE(){return typeof self<"u"&&self.location?.protocol||null}function sD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rD()||aR()||"connection"in navigator)?navigator.onLine:!0}function aD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class tu{constructor(t,n){this.shortDelay=t,this.longDelay=n,sr(n>t,"Short delay should be less than long delay!"),this.isMobile=iR()||oR()}get(){return sD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(r,t){sr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Q0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uD=new tu(3e4,6e4);function Ph(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ho(r,t,n,s,o={}){return Y0(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=Yl({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:g,...u};return sR()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),Q0.fetch()(await $0(r,r.config.apiHost,n,p),y)})}async function Y0(r,t,n){r._canInitEmulator=!1;const s={...oD,...t};try{const o=new cD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw K0(r,E,y);rr(r,E)}}catch(o){if(o instanceof ar)throw o;rr(r,"network-request-failed",{message:String(o)})}}async function X0(r,t,n,s,o={}){const u=await ho(r,t,n,s,o);return"mfaPendingCredential"in u&&rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function $0(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Tp(r.config,o):`${r.config.apiScheme}://${o}`;return lD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class cD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),uD.get())})}}function kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,t,s);return o.customData._tokenResponse=n,o}async function hD(r,t){return ho(r,"POST","/v1/accounts:delete",t)}async function dh(r,t){return ho(r,"POST","/v1/accounts:lookup",t)}function Ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function fD(r,t=!1){const n=Sn(r),s=await n.getIdToken(t),o=Sp(s);yt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ml(sm(o.auth_time)),issuedAtTime:Ml(sm(o.iat)),expirationTime:Ml(sm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Sp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yE(r){const t=Sp(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function ql(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ar&&dD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function dD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class mD{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function mh(r){const t=r.auth,n=await r.getIdToken(),s=await ql(r,dh(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?J0(o.providerUserInfo):[],f=gD(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function pD(r){const t=Sn(r);await mh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gD(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function J0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function yD(r,t){const n=await Y0(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await $0(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(g.credentials="include"),Q0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _D(r,t){return ho(r,"POST","/v2/accounts:revokeToken",Ph(r,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=yE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yD(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ya;return s&&(yt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(yt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(yt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Br(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new mD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return fD(this,t)}reload(){return pD(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await ql(this,hD(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:R,isAnonymous:P,providerData:J,stsTokenManager:X}=n;yt(S&&X,t,"internal-error");const F=Ya.fromJSON(this.name,X);yt(typeof S=="string",t,"internal-error"),Br(s,t.name),Br(o,t.name),yt(typeof R=="boolean",t,"internal-error"),yt(typeof P=="boolean",t,"internal-error"),Br(u,t.name),Br(f,t.name),Br(p,t.name),Br(g,t.name),Br(y,t.name),Br(E,t.name);const et=new Zn({uid:S,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:F,createdAt:y,lastLoginAt:E});return J&&Array.isArray(J)&&(et.providerData=J.map(tt=>({...tt}))),g&&(et._redirectEventId=g),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ya;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];yt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Ya;p.updateFromIdToken(s);const g=new Zn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const _E=new Map;function Zi(r){sr(r instanceof Function,"Expected a class definition");let t=_E.get(r);return t?(sr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,_E.set(r,t),t)}class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Z0.type="NONE";const vE=Z0;function Yc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await dh(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Zi(vE),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Zi(vE);const f=Yc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const R=await dh(t,{idToken:E}).catch(()=>{});if(!R)break;S=await Zn._fromGetAccountInfoResponse(t,R,E)}else S=Zn._fromJSON(t,E);y!==u&&(p=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,t,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xa(u,t,s))}}function EE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rS(t))return"Blackberry";if(sS(t))return"Webos";if(tS(t))return"Safari";if((t.includes("chrome/")||eS(t))&&!t.includes("edge/"))return"Chrome";if(iS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function W0(r=Ze()){return/firefox\//i.test(r)}function tS(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eS(r=Ze()){return/crios\//i.test(r)}function nS(r=Ze()){return/iemobile/i.test(r)}function iS(r=Ze()){return/android/i.test(r)}function rS(r=Ze()){return/blackberry/i.test(r)}function sS(r=Ze()){return/webos/i.test(r)}function Ap(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function vD(r=Ze()){return Ap(r)&&!!window.navigator?.standalone}function ED(){return lR()&&document.documentMode===10}function aS(r=Ze()){return Ap(r)||iS(r)||sS(r)||rS(r)||/windows phone/i.test(r)||nS(r)}function oS(r,t=[]){let n;switch(r){case"Browser":n=EE(Ze());break;case"Worker":n=`${EE(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}class TD{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const g=t(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function SD(r,t={}){return ho(r,"GET","/v2/passwordPolicy",Ph(r,t))}const AD=6;class bD{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class RD{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new TD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await dh(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Jn(this.app))return Promise.reject(Jr(this));const n=t?Sn(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Jn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await SD(this),n=new bD(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ql("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await _D(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Zi(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iD(`Error while retrieving App Check token: ${t.error}`),t?.token}}function kh(r){return Sn(r)}class TE{constructor(t){this.auth=t,this.observer=null,this.addObserver=gR(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(r){bp=r}function CD(r){return bp.loadJS(r)}function ID(){return bp.gapiScript}function DD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function OD(r,t){const n=jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,t??{}))return o;rr(o,"already-initialized")}return n.initialize({options:t})}function ND(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function MD(r,t,n){const s=kh(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=lS(t),{host:f,port:p}=VD(t),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(js(y,s.config.emulator)&&js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,so(f)?(oT(`${u}//${f}${g}`),lT("Auth",!0)):xD()}function lS(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function VD(r){const t=lS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:SE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:SE(f)}}}function SE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xD(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class uS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,n){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function $a(r,t){return X0(r,"POST","/v1/accounts:signInWithIdp",Ph(r,t))}const LD="http://localhost";class Ks extends uS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ks(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:LD,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yl(n)}return t}}class cS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eu extends cS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class jr extends eu{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";class Hr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ks._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Hr.credential(n,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";class qr extends eu{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class Fr extends eu{constructor(){super("twitter.com")}static credential(t,n){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";async function UD(r,t){return X0(r,"POST","/v1/accounts:signUp",Ph(r,t))}class rs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Zn._fromIdTokenResponse(t,s,o),f=AE(s);return new rs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=AE(s);return new rs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function AE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function PD(r){if(Jn(r.app))return Promise.reject(Jr(r));const t=kh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new rs({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await UD(t,{returnSecureToken:!0}),s=await rs._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(s.user),s}class ph extends ar{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new ph(t,n,s,o)}}function hS(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,u,t,s):u})}async function kD(r,t,n=!1){const s=await ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return rs._forOperation(r,"link",s)}async function zD(r,t,n=!1){const{auth:s}=r;if(Jn(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await ql(r,hS(s,o,t,r),n);yt(u.idToken,s,"internal-error");const f=Sp(u.idToken);yt(f,s,"internal-error");const{sub:p}=f;return yt(r.uid===p,s,"user-mismatch"),rs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&rr(s,"user-mismatch"),u}}async function BD(r,t,n=!1){if(Jn(r.app))return Promise.reject(Jr(r));const s="signIn",o=await hS(r,s,t),u=await rs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function jD(r,t,n,s){return Sn(r).onIdTokenChanged(t,n,s)}function HD(r,t,n){return Sn(r).beforeAuthStateChanged(t,n)}const gh="__sak";class fS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qD=1e3,FD=10;class dS extends fS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ED()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,FD):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dS.type="LOCAL";const GD=dS;class mS extends fS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}mS.type="SESSION";const pS=mS;function KD(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class zh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new zh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await KD(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];function Rp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}class QD{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Rp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function YD(r){Ii().location.href=r}function gS(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function XD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $D(){return navigator?.serviceWorker?.controller||null}function JD(){return gS()?self:null}const yS="firebaseLocalStorageDb",ZD=1,yh="firebaseLocalStorage",_S="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(r,t){return r.transaction([yh],t?"readwrite":"readonly").objectStore(yh)}function WD(){const r=indexedDB.deleteDatabase(yS);return new nu(r).toPromise()}function Mm(){const r=indexedDB.open(yS,ZD);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:_S})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?t(s):(s.close(),await WD(),t(await Mm()))})})}async function bE(r,t,n){const s=Bh(r,!0).put({[_S]:t,value:n});return new nu(s).toPromise()}async function tO(r,t){const n=Bh(r,!1).get(t),s=await new nu(n).toPromise();return s===void 0?null:s.value}function RE(r,t){const n=Bh(r,!0).delete(t);return new nu(n).toPromise()}const eO=800,nO=3;class vS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>nO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(JD()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XD(),!this.activeServiceWorker)return;this.sender=new QD(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Mm();return await bE(t,gh,"1"),await RE(t,gh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>bE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>tO(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>RE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Bh(o,!1).getAll();return new nu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vS.type="LOCAL";const iO=vS;new tu(3e4,6e4);function rO(r,t){return t?Zi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends uS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sO(r){return BD(r.auth,new wp(r),r.bypassAuthState)}function aO(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),zD(n,new wp(r),r.bypassAuthState)}async function oO(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),kD(n,new wp(r),r.bypassAuthState)}class ES{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sO;case"linkViaPopup":case"linkViaRedirect":return oO;case"reauthViaPopup":case"reauthViaRedirect":return aO;default:rr(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lO=new tu(2e3,1e4);class Ga extends ES{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lO.get())};t()}}Ga.currentPopupAction=null;const uO="pendingRedirect",Xc=new Map;class cO extends ES{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Xc.get(this.auth._key());if(!t){try{const s=await hO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Xc.set(this.auth._key(),t)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hO(r,t){const n=mO(t),s=dO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function fO(r,t){Xc.set(r._key(),t)}function dO(r){return Zi(r._redirectPersistence)}function mO(r){return Yc(uO,r.config.apiKey,r.name)}async function pO(r,t,n=!1){if(Jn(r.app))return Promise.reject(Jr(r));const s=kh(r),o=rO(s,t),f=await new cO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}const gO=600*1e3;class yO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_O(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!TS(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gO&&this.cachedEventUids.clear(),this.cachedEventUids.has(wE(t))}saveEventToCache(t){this.cachedEventUids.add(wE(t)),this.lastProcessedEventTime=Date.now()}}function wE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function TS({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function _O(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TS(r);default:return!1}}async function vO(r,t={}){return ho(r,"GET","/v1/projects",t)}const EO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TO=/^https?/;async function SO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await vO(r);for(const n of t)try{if(AO(n))return}catch{}rr(r,"unauthorized-domain")}function AO(r){const t=Om(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!TO.test(n))return!1;if(EO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const bO=new tu(3e4,6e4);function CE(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RO(r){return new Promise((t,n)=>{function s(){CE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(Ci(r,"network-request-failed"))},timeout:bO.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=DD("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(Ci(r,"network-request-failed"))},CD(`${ID()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw $c=null,t})}let $c=null;function wO(r){return $c=$c||RO(r),$c}const CO=new tu(5e3,15e3),IO="__/auth/iframe",DO="emulator/auth/iframe",OO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MO(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Tp(t,DO):`https://${r.config.authDomain}/${IO}`,s={apiKey:t.apiKey,appName:r.name,v:ao},o=NO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yl(s).slice(1)}`}async function VO(r){const t=await wO(r),n=Ii().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:MO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),p=Ii().setTimeout(()=>{u(f)},CO.get());function g(){Ii().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const xO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LO=500,UO=600,PO="_blank",kO="http://localhost";class IE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zO(r,t,n,s=LO,o=UO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...xO,width:s.toString(),height:o.toString(),top:u,left:f},y=Ze().toLowerCase();n&&(p=eS(y)?PO:n),W0(y)&&(t=t||kO,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[P,J])=>`${R}${P}=${J},`,"");if(vD(y)&&p!=="_self")return BO(t||"",p),new IE(null);const S=window.open(t||"",p,E);yt(S,r,"popup-blocked");try{S.focus()}catch{}return new IE(S)}function BO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const jO="__/auth/handler",HO="emulator/auth/handler",qO=encodeURIComponent("fac");async function DE(r,t,n,s,o,u){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(t instanceof cS){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",pR(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(t instanceof eu){const E=t.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const g=await r._getAppCheckToken(),y=g?`#${qO}=${encodeURIComponent(g)}`:"";return`${FO(r)}?${Yl(p).slice(1)}${y}`}function FO({config:r}){return r.emulator?Tp(r,HO):`https://${r.authDomain}/${jO}`}const am="webStorageSupport";class GO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pS,this._completeRedirectFn=pO,this._overrideRedirectResult=fO}async _openPopup(t,n,s,o){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await DE(t,n,s,Om(),o);return zO(t,u,Rp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await DE(t,n,s,Om(),o);return YD(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VO(t),s=new yO(t);return n.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(am,{type:am},o=>{const u=o?.[0]?.[am];u!==void 0&&n(!!u),rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aS()||tS()||Ap()}}const KO=GO;var OE="@firebase/auth",NE="1.12.0";class QO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function YO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XO(r){Ja(new Hs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;yt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oS(r)},y=new RD(s,o,u,g);return ND(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new Hs("auth-internal",t=>{const n=kh(t.getProvider("auth").getImmediate());return(s=>new QO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(OE,NE,YO(r)),Yr(OE,NE,"esm2020")}const $O=300,JO=aT("authIdTokenMaxAge")||$O;let ME=null;const ZO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JO)return;const o=n?.token;ME!==o&&(ME=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WO(r=fT()){const t=jm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=OD(r,{popupRedirectResolver:KO,persistence:[iO,GD,pS]}),s=aT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ZO(u.toString());HD(n,f,()=>f(n.currentUser)),jD(n,p=>f(p))}}const o=rT("auth");return o&&MD(n,`http://${o}`),n}function tN(){return document.getElementsByTagName("head")?.[0]??document}wD({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",tN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XO("Browser");const eN={apiKey:"AIzaSyC1UFz_HEJNwcKxXM_dLz908lq1I6ACQ78",authDomain:"draft-simulation-magic-chess.firebaseapp.com",projectId:"draft-simulation-magic-chess",storageBucket:"draft-simulation-magic-chess.firebasestorage.app",messagingSenderId:"235285862584",appId:"1:235285862584:web:ef2a79aa756d006127bc4d"},SS=hT(eN),AS=k2(SS),Cp=WO(SS);PD(Cp).then(()=>{console.log("Firebase anonymous auth connected")}).catch(r=>{console.error("Firebase auth error:",r)});function nN(){return Math.random().toString(36).substring(2,8).toUpperCase()}function iN(){const[r,t]=K.useState(""),n=vh(),s=async()=>{if(!r.trim()){alert("Please enter your alias");return}const o=nN();await W2(V0(AS,"rooms",o),{status:"lobby",users:{[Cp.currentUser.uid]:{name:r,role:"referee",ready:!1,joinedAt:Date.now()}},createdAt:Date.now()}),n(`/room/${o}`)};return ft.jsxs("div",{style:{padding:20},children:[ft.jsx("h2",{children:"Referee Setup"}),ft.jsx("input",{placeholder:"Referee alias",value:r,onChange:o=>t(o.target.value)}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsx("button",{onClick:s,children:"Create Draft Room"})]})}function rN(){const[r,t]=K.useState(""),[n,s]=K.useState("A"),[o,u]=K.useState(""),f=vh(),p=async()=>{if(!r||!o){alert("Please fill all fields");return}const g=V0(AS,"rooms",o.toUpperCase()),y=await Z2(g);if(!y.exists()){alert("Room not found");return}const E=y.data();if(Object.values(E.users||{}).some(R=>R.role===n)){alert(`Team ${n} already taken`);return}await tD(g,{[`users.${Cp.currentUser.uid}`]:{name:r,role:n,ready:!1,joinedAt:Date.now()}}),f(`/room/${o}`)};return ft.jsxs("div",{style:{padding:20},children:[ft.jsx("h2",{children:"Join Draft Room"}),ft.jsx("input",{placeholder:"Your alias / team name",value:r,onChange:g=>t(g.target.value)}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsxs("select",{value:n,onChange:g=>s(g.target.value),children:[ft.jsx("option",{value:"A",children:"Team A"}),ft.jsx("option",{value:"B",children:"Team B"})]}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsx("input",{placeholder:"Room Code",value:o,onChange:g=>u(g.target.value)}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsx("button",{onClick:p,children:"Join Room"})]})}function sN(){const{roomId:r}=Y1(),[t,n]=K.useState(!1);return K.useEffect(()=>{console.log("Room mounted"),console.log("roomId:",r),n(!0)},[r]),ft.jsxs("div",{style:{minHeight:"100vh",background:"#111",color:"#fff",padding:"24px",fontFamily:"system-ui"},children:[ft.jsx("h1",{children:"ROOM DEBUG PAGE"}),ft.jsxs("p",{children:[ft.jsx("strong",{children:"Mounted:"})," ",t?"YES":"NO"]}),ft.jsxs("p",{children:[ft.jsx("strong",{children:"Room ID:"})," ",r||" missing"]}),ft.jsx("hr",{}),ft.jsx("p",{children:"If you see this page, routing & deployment are "}),ft.jsxs("div",{style:{marginTop:"20px",padding:"12px",background:"#222",borderRadius:"8px"},children:[ft.jsx("p",{children:"Next steps will restore:"}),ft.jsxs("ul",{children:[ft.jsx("li",{children:"Firestore snapshot"}),ft.jsx("li",{children:"Draft state"}),ft.jsx("li",{children:"Commander grid"}),ft.jsx("li",{children:"Timeline indicator"})]})]})]})}function aN(){return ft.jsx(Vb,{children:ft.jsxs(ub,{children:[ft.jsx(Tl,{path:"/",element:ft.jsx(qb,{})}),ft.jsx(Tl,{path:"/referee",element:ft.jsx(iN,{})}),ft.jsx(Tl,{path:"/join",element:ft.jsx(rN,{})}),ft.jsx(Tl,{path:"/room/:roomId",element:ft.jsx(sN,{})})]})})}h1.createRoot(document.getElementById("root")).render(ft.jsx(i1.StrictMode,{children:ft.jsx(aN,{})}));
